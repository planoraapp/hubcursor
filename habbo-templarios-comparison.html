<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compara√ß√£o HabboTemplarios</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .comparison { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .section { border: 1px solid #ddd; padding: 15px; border-radius: 5px; }
        .avatar-preview { max-width: 250px; border: 2px solid #333; margin: 10px 0; }
        .url-display { background: #f0f0f0; padding: 10px; font-family: monospace; font-size: 12px; word-break: break-all; margin: 10px 0; }
        .btn { padding: 8px 15px; margin: 5px; cursor: pointer; }
        .selected { background: #2196f3; color: white; }
    </style>
</head>
<body>
    <h1>üîç Compara√ß√£o: HabboTemplarios vs Nosso Sistema</h1>
    
    <div class="comparison">
        <!-- HabboTemplarios -->
        <div class="section">
            <h3>üéØ HabboTemplarios (Refer√™ncia)</h3>
            <p>URL que funciona:</p>
            <div class="url-display">https://www.habbo.com/habbo-imaging/avatarimage?figure=hr-100-undefined-.hd-190-7-.ch-210-66-.lg-270-82-.sh-290-80-&gender=M&direction=2&head_direction=2&action=,crr=3&gesture=nrm&size=l</div>
            
            <h4>Avatar HabboTemplarios:</h4>
            <img class="avatar-preview" src="https://www.habbo.com/habbo-imaging/avatarimage?figure=hr-100-undefined-.hd-190-7-.ch-210-66-.lg-270-82-.sh-290-80-&gender=M&direction=2&head_direction=2&action=,crr=3&gesture=nrm&size=l" alt="HabboTemplarios">
            
            <p><strong>Par√¢metros:</strong></p>
            <ul>
                <li>action=,crr=3 (carregando sorvete ID 3)</li>
                <li>gesture=nrm (express√£o normal)</li>
                <li>Sem par√¢metro item= separado</li>
            </ul>
        </div>
        
        <!-- Nosso Sistema -->
        <div class="section">
            <h3>üîß Nosso Sistema</h3>
            
            <div>
                <h4>üé≠ A√ß√£o:</h4>
                <button class="btn" data-action="">Nada</button>
                <button class="btn" data-action="crr">Carregando</button>
                <button class="btn" data-action="drk">Bebendo</button>
            </div>
            
            <div>
                <h4>ü§≤ Item:</h4>
                <button class="btn" data-item="=0">Nada</button>
                <button class="btn" data-item="=1">√Ågua</button>
                <button class="btn" data-item="=2">Cenoura</button>
                <button class="btn" data-item="=3">Sorvete</button>
                <button class="btn" data-item="=5">Habbo Cola</button>
            </div>
            
            <h4>Avatar Nosso Sistema:</h4>
            <img id="ourAvatar" class="avatar-preview" src="https://www.habbo.com/habbo-imaging/avatarimage?figure=hd-190-7-.hr-100-7-.ch-210-66-.lg-270-82-.sh-290-80-&gender=M&direction=2&head_direction=2&action=&gesture=nrm&size=l" alt="Nosso Sistema">
            
            <h4>URL Gerada:</h4>
            <div id="ourUrl" class="url-display">URL ser√° gerada aqui...</div>
            
            <h4>Estado Atual:</h4>
            <div id="ourState" class="url-display">Aguardando...</div>
        </div>
    </div>
    
    <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
        <h3>üß™ Teste de Combina√ß√µes</h3>
        <p>Teste estas combina√ß√µes para ver se funcionam:</p>
        <button onclick="testCombination('crr', '=3')">Testar: Carregando + Sorvete (como HabboTemplarios)</button>
        <button onclick="testCombination('drk', '=5')">Testar: Bebendo + Habbo Cola</button>
        <button onclick="testCombination('crr', '=2')">Testar: Carregando + Cenoura</button>
        <button onclick="resetTest()">Resetar Teste</button>
    </div>
    
    <script>
        class HabboComparison {
            constructor() {
                this.currentState = {
                    action: '',
                    item: '=0'
                };
                this.init();
            }
            
            init() {
                this.setupEventListeners();
                this.updateAvatar();
                this.updateState();
            }
            
            setupEventListeners() {
                // A√ß√µes
                document.querySelectorAll('[data-action]').forEach(btn => {
                    btn.addEventListener('click', () => {
                        document.querySelectorAll('[data-action]').forEach(b => b.classList.remove('selected'));
                        btn.classList.add('selected');
                        
                        this.currentState.action = btn.dataset.action;
                        console.log(`üé≠ A√ß√£o selecionada: ${this.currentState.action || 'Nenhuma'}`);
                        this.updateAvatar();
                    });
                });
                
                // Itens
                document.querySelectorAll('[data-item]').forEach(btn => {
                    btn.addEventListener('click', () => {
                        document.querySelectorAll('[data-item]').forEach(b => b.classList.remove('selected'));
                        btn.classList.add('selected');
                        
                        this.currentState.item = btn.dataset.item;
                        console.log(`ü§≤ Item selecionado: ${this.currentState.item}`);
                        this.updateAvatar();
                    });
                });
                
                // Selecionar "Nada" por padr√£o
                document.querySelector('[data-action=""]').classList.add('selected');
                document.querySelector('[data-item="=0"]').classList.add('selected');
            }
            
            updateAvatar() {
                // Construir par√¢metro de a√ß√£o como no HabboTemplarios
                let actionParam = '';
                if (this.currentState.action && this.currentState.item && this.currentState.item !== '=0') {
                    // Se h√° a√ß√£o e item, usar formato: action=,crr=ID
                    const itemId = this.currentState.item.replace('=', '');
                    actionParam = `,${this.currentState.action}=${itemId}`;
                    console.log(`üîó Construindo: action=,${this.currentState.action}=${itemId}`);
                } else if (this.currentState.action) {
                    // Se s√≥ h√° a√ß√£o, usar: action=wlk
                    actionParam = this.currentState.action;
                    console.log(`üîó Construindo: action=${this.currentState.action}`);
                } else {
                    console.log(`üîó Construindo: action= (vazio)`);
                }
                
                const avatarUrl = `https://www.habbo.com/habbo-imaging/avatarimage?figure=hd-190-7-.hr-100-7-.ch-210-66-.lg-270-82-.sh-290-80-&gender=M&direction=2&head_direction=2&action=${actionParam}&gesture=nrm&size=l`;
                
                document.getElementById('ourAvatar').src = avatarUrl;
                document.getElementById('ourUrl').textContent = avatarUrl;
                
                console.log(`üîó URL Final: ${avatarUrl}`);
                console.log(`üé≠ A√ß√£o: ${actionParam || 'Nenhuma'}`);
                console.log(`ü§≤ Item: ${this.currentState.item}`);
                
                this.updateState();
            }
            
            updateState() {
                const info = `
Estado Atual:
- A√ß√£o: ${this.currentState.action || 'Nenhuma'}
- Item: ${this.currentState.item}
- Par√¢metro de A√ß√£o: ${this.currentState.action && this.currentState.item !== '=0' ? `,${this.currentState.action}=${this.currentState.item.replace('=', '')}` : this.currentState.action || 'Nenhum'}
                `;
                
                document.getElementById('ourState').textContent = info;
            }
            
            testCombination(action, item) {
                this.currentState.action = action;
                this.currentState.item = item;
                
                // Atualizar sele√ß√µes visuais
                document.querySelectorAll('[data-action]').forEach(btn => btn.classList.remove('selected'));
                document.querySelectorAll('[data-item]').forEach(btn => btn.classList.remove('selected'));
                
                document.querySelector(`[data-action="${action}"]`).classList.add('selected');
                document.querySelector(`[data-item="${item}"]`).classList.add('selected');
                
                this.updateAvatar();
                console.log(`üß™ Testando combina√ß√£o: ${action} + ${item}`);
            }
            
            reset() {
                this.currentState.action = '';
                this.currentState.item = '=0';
                
                // Resetar sele√ß√µes visuais
                document.querySelectorAll('.btn').forEach(btn => btn.classList.remove('selected'));
                document.querySelector('[data-action=""]').classList.add('selected');
                document.querySelector('[data-item="=0"]').classList.add('selected');
                
                this.updateAvatar();
                console.log('üîÑ Teste resetado');
            }
        }
        
        // Fun√ß√µes globais para os bot√µes de teste
        function testCombination(action, item) {
            window.habboComparison.testCombination(action, item);
        }
        
        function resetTest() {
            window.habboComparison.reset();
        }
        
        // Inicializar quando a p√°gina carregar
        document.addEventListener('DOMContentLoaded', function() {
            window.habboComparison = new HabboComparison();
        });
    </script>
</body>
</html>
