var aj=Object.defineProperty;var ag=e=>{throw TypeError(e)};var ij=(e,t,r)=>t in e?aj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var mo=(e,t,r)=>ij(e,typeof t!="symbol"?t+"":t,r),Nd=(e,t,r)=>t.has(e)||ag("Cannot "+r);var N=(e,t,r)=>(Nd(e,t,"read from private field"),r?r.call(e):t.get(e)),ne=(e,t,r)=>t.has(e)?ag("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),q=(e,t,r,n)=>(Nd(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ue=(e,t,r)=>(Nd(e,t,"access private method"),r);var kl=(e,t,r,n)=>({set _(s){q(e,t,s,r)},get _(){return N(e,t,n)}});function cy(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lj(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var dy={exports:{}},wu={},hy={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ji=Symbol.for("react.element"),cj=Symbol.for("react.portal"),uj=Symbol.for("react.fragment"),dj=Symbol.for("react.strict_mode"),hj=Symbol.for("react.profiler"),fj=Symbol.for("react.provider"),mj=Symbol.for("react.context"),pj=Symbol.for("react.forward_ref"),gj=Symbol.for("react.suspense"),vj=Symbol.for("react.memo"),xj=Symbol.for("react.lazy"),ig=Symbol.iterator;function yj(e){return e===null||typeof e!="object"?null:(e=ig&&e[ig]||e["@@iterator"],typeof e=="function"?e:null)}var fy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},my=Object.assign,py={};function _a(e,t,r){this.props=e,this.context=t,this.refs=py,this.updater=r||fy}_a.prototype.isReactComponent={};_a.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gy(){}gy.prototype=_a.prototype;function hm(e,t,r){this.props=e,this.context=t,this.refs=py,this.updater=r||fy}var fm=hm.prototype=new gy;fm.constructor=hm;my(fm,_a.prototype);fm.isPureReactComponent=!0;var lg=Array.isArray,vy=Object.prototype.hasOwnProperty,mm={current:null},xy={key:!0,ref:!0,__self:!0,__source:!0};function yy(e,t,r){var n,s={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)vy.call(t,n)&&!xy.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ji,type:e,key:o,ref:a,props:s,_owner:mm.current}}function bj(e,t){return{$$typeof:Ji,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ji}function wj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var cg=/\/+/g;function kd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wj(""+e.key):t.toString(36)}function oc(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ji:case cj:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+kd(a,0):n,lg(s)?(r="",e!=null&&(r=e.replace(cg,"$&/")+"/"),oc(s,t,r,"",function(u){return u})):s!=null&&(pm(s)&&(s=bj(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(cg,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",lg(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+kd(o,l);a+=oc(o,t,r,c,s)}else if(c=yj(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+kd(o,l++),a+=oc(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Cl(e,t,r){if(e==null)return e;var n=[],s=0;return oc(e,n,"","",function(o){return t.call(r,o,s++)}),n}function _j(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ct={current:null},ac={transition:null},Sj={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:ac,ReactCurrentOwner:mm};function by(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:Cl,forEach:function(e,t,r){Cl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Cl(e,function(){t++}),t},toArray:function(e){return Cl(e,function(t){return t})||[]},only:function(e){if(!pm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pe.Component=_a;pe.Fragment=uj;pe.Profiler=hj;pe.PureComponent=hm;pe.StrictMode=dj;pe.Suspense=gj;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sj;pe.act=by;pe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=my({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=mm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)vy.call(t,c)&&!xy.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ji,type:e.type,key:s,ref:o,props:n,_owner:a}};pe.createContext=function(e){return e={$$typeof:mj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fj,_context:e},e.Consumer=e};pe.createElement=yy;pe.createFactory=function(e){var t=yy.bind(null,e);return t.type=e,t};pe.createRef=function(){return{current:null}};pe.forwardRef=function(e){return{$$typeof:pj,render:e}};pe.isValidElement=pm;pe.lazy=function(e){return{$$typeof:xj,_payload:{_status:-1,_result:e},_init:_j}};pe.memo=function(e,t){return{$$typeof:vj,type:e,compare:t===void 0?null:t}};pe.startTransition=function(e){var t=ac.transition;ac.transition={};try{e()}finally{ac.transition=t}};pe.unstable_act=by;pe.useCallback=function(e,t){return Ct.current.useCallback(e,t)};pe.useContext=function(e){return Ct.current.useContext(e)};pe.useDebugValue=function(){};pe.useDeferredValue=function(e){return Ct.current.useDeferredValue(e)};pe.useEffect=function(e,t){return Ct.current.useEffect(e,t)};pe.useId=function(){return Ct.current.useId()};pe.useImperativeHandle=function(e,t,r){return Ct.current.useImperativeHandle(e,t,r)};pe.useInsertionEffect=function(e,t){return Ct.current.useInsertionEffect(e,t)};pe.useLayoutEffect=function(e,t){return Ct.current.useLayoutEffect(e,t)};pe.useMemo=function(e,t){return Ct.current.useMemo(e,t)};pe.useReducer=function(e,t,r){return Ct.current.useReducer(e,t,r)};pe.useRef=function(e){return Ct.current.useRef(e)};pe.useState=function(e){return Ct.current.useState(e)};pe.useSyncExternalStore=function(e,t,r){return Ct.current.useSyncExternalStore(e,t,r)};pe.useTransition=function(){return Ct.current.useTransition()};pe.version="18.3.1";hy.exports=pe;var f=hy.exports;const ye=uy(f),_u=cy({__proto__:null,default:ye},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jj=f,Nj=Symbol.for("react.element"),kj=Symbol.for("react.fragment"),Cj=Object.prototype.hasOwnProperty,Ej=jj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pj={key:!0,ref:!0,__self:!0,__source:!0};function wy(e,t,r){var n,s={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Cj.call(t,n)&&!Pj.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Nj,type:e,key:o,ref:a,props:s,_owner:Ej.current}}wu.Fragment=kj;wu.jsx=wy;wu.jsxs=wy;dy.exports=wu;var i=dy.exports,Nh={},_y={exports:{}},Yt={},Sy={exports:{}},jy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,U){var z=D.length;D.push(U);e:for(;0<z;){var J=z-1>>>1,fe=D[J];if(0<s(fe,U))D[J]=U,D[z]=fe,z=J;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var U=D[0],z=D.pop();if(z!==U){D[0]=z;e:for(var J=0,fe=D.length,oe=fe>>>1;J<oe;){var de=2*(J+1)-1,wt=D[de],at=de+1,Jt=D[at];if(0>s(wt,z))at<fe&&0>s(Jt,wt)?(D[J]=Jt,D[at]=z,J=at):(D[J]=wt,D[de]=z,J=de);else if(at<fe&&0>s(Jt,z))D[J]=Jt,D[at]=z,J=at;else break e}}return U}function s(D,U){var z=D.sortIndex-U.sortIndex;return z!==0?z:D.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,m=3,p=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=D)n(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(u)}}function _(D){if(g=!1,w(D),!v)if(r(c)!==null)v=!0,H(j);else{var U=r(u);U!==null&&W(_,U.startTime-D)}}function j(D,U){v=!1,g&&(g=!1,y(E),E=-1),p=!0;var z=m;try{for(w(U),h=r(c);h!==null&&(!(h.expirationTime>U)||D&&!I());){var J=h.callback;if(typeof J=="function"){h.callback=null,m=h.priorityLevel;var fe=J(h.expirationTime<=U);U=e.unstable_now(),typeof fe=="function"?h.callback=fe:h===r(c)&&n(c),w(U)}else n(c);h=r(c)}if(h!==null)var oe=!0;else{var de=r(u);de!==null&&W(_,de.startTime-U),oe=!1}return oe}finally{h=null,m=z,p=!1}}var S=!1,C=null,E=-1,P=5,A=-1;function I(){return!(e.unstable_now()-A<P)}function R(){if(C!==null){var D=e.unstable_now();A=D;var U=!0;try{U=C(!0,D)}finally{U?L():(S=!1,C=null)}}else S=!1}var L;if(typeof x=="function")L=function(){x(R)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,V=O.port2;O.port1.onmessage=R,L=function(){V.postMessage(null)}}else L=function(){b(R,0)};function H(D){C=D,S||(S=!0,L())}function W(D,U){E=b(function(){D(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,H(j))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var z=m;m=U;try{return D()}finally{m=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=m;m=D;try{return U()}finally{m=z}},e.unstable_scheduleCallback=function(D,U,z){var J=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?J+z:J):z=J,D){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=z+fe,D={id:d++,callback:U,priorityLevel:D,startTime:z,expirationTime:fe,sortIndex:-1},z>J?(D.sortIndex=z,t(u,D),r(c)===null&&D===r(u)&&(g?(y(E),E=-1):g=!0,W(_,z-J))):(D.sortIndex=fe,t(c,D),v||p||(v=!0,H(j))),D},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(D){var U=m;return function(){var z=m;m=U;try{return D.apply(this,arguments)}finally{m=z}}}})(jy);Sy.exports=jy;var Tj=Sy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rj=f,Qt=Tj;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ny=new Set,ji={};function no(e,t){ua(e,t),ua(e+"Capture",t)}function ua(e,t){for(ji[e]=t,e=0;e<t.length;e++)Ny.add(t[e])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kh=Object.prototype.hasOwnProperty,Aj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ug={},dg={};function Oj(e){return kh.call(dg,e)?!0:kh.call(ug,e)?!1:Aj.test(e)?dg[e]=!0:(ug[e]=!0,!1)}function Mj(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ij(e,t,r,n){if(t===null||typeof t>"u"||Mj(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Et(e,t,r,n,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ft[e]=new Et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ft[t]=new Et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ft[e]=new Et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ft[e]=new Et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ft[e]=new Et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ft[e]=new Et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ft[e]=new Et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ft[e]=new Et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ft[e]=new Et(e,5,!1,e.toLowerCase(),null,!1,!1)});var gm=/[\-:]([a-z])/g;function vm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gm,vm);ft[t]=new Et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gm,vm);ft[t]=new Et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gm,vm);ft[t]=new Et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ft[e]=new Et(e,1,!1,e.toLowerCase(),null,!1,!1)});ft.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ft[e]=new Et(e,1,!1,e.toLowerCase(),null,!0,!0)});function xm(e,t,r,n){var s=ft.hasOwnProperty(t)?ft[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ij(t,r,s,n)&&(r=null),n||s===null?Oj(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var jn=Rj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,El=Symbol.for("react.element"),Co=Symbol.for("react.portal"),Eo=Symbol.for("react.fragment"),ym=Symbol.for("react.strict_mode"),Ch=Symbol.for("react.profiler"),ky=Symbol.for("react.provider"),Cy=Symbol.for("react.context"),bm=Symbol.for("react.forward_ref"),Eh=Symbol.for("react.suspense"),Ph=Symbol.for("react.suspense_list"),wm=Symbol.for("react.memo"),Dn=Symbol.for("react.lazy"),Ey=Symbol.for("react.offscreen"),hg=Symbol.iterator;function Wa(e){return e===null||typeof e!="object"?null:(e=hg&&e[hg]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Object.assign,Cd;function si(e){if(Cd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Cd=t&&t[1]||""}return`
`+Cd+e}var Ed=!1;function Pd(e,t){if(!e||Ed)return"";Ed=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Ed=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?si(e):""}function Dj(e){switch(e.tag){case 5:return si(e.type);case 16:return si("Lazy");case 13:return si("Suspense");case 19:return si("SuspenseList");case 0:case 2:case 15:return e=Pd(e.type,!1),e;case 11:return e=Pd(e.type.render,!1),e;case 1:return e=Pd(e.type,!0),e;default:return""}}function Th(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Eo:return"Fragment";case Co:return"Portal";case Ch:return"Profiler";case ym:return"StrictMode";case Eh:return"Suspense";case Ph:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cy:return(e.displayName||"Context")+".Consumer";case ky:return(e._context.displayName||"Context")+".Provider";case bm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wm:return t=e.displayName||null,t!==null?t:Th(e.type)||"Memo";case Dn:t=e._payload,e=e._init;try{return Th(e(t))}catch{}}return null}function Lj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Th(t);case 8:return t===ym?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function is(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Py(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $j(e){var t=Py(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pl(e){e._valueTracker||(e._valueTracker=$j(e))}function Ty(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Py(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Pc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rh(e,t){var r=t.checked;return ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function fg(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=is(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ry(e,t){t=t.checked,t!=null&&xm(e,"checked",t,!1)}function Ah(e,t){Ry(e,t);var r=is(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Oh(e,t.type,r):t.hasOwnProperty("defaultValue")&&Oh(e,t.type,is(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Oh(e,t,r){(t!=="number"||Pc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var oi=Array.isArray;function Fo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+is(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Mh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(oi(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:is(r)}}function Ay(e,t){var r=is(t.value),n=is(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function gg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Oy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ih(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Oy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tl,My=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tl=Tl||document.createElement("div"),Tl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ni(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fj=["Webkit","ms","Moz","O"];Object.keys(di).forEach(function(e){Fj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),di[t]=di[e]})});function Iy(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||di.hasOwnProperty(e)&&di[e]?(""+t).trim():t+"px"}function Dy(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Iy(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Uj=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dh(e,t){if(t){if(Uj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Lh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $h=null;function _m(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fh=null,Uo=null,zo=null;function vg(e){if(e=tl(e)){if(typeof Fh!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Cu(t),Fh(e.stateNode,e.type,t))}}function Ly(e){Uo?zo?zo.push(e):zo=[e]:Uo=e}function $y(){if(Uo){var e=Uo,t=zo;if(zo=Uo=null,vg(e),t)for(e=0;e<t.length;e++)vg(t[e])}}function Fy(e,t){return e(t)}function Uy(){}var Td=!1;function zy(e,t,r){if(Td)return e(t,r);Td=!0;try{return Fy(e,t,r)}finally{Td=!1,(Uo!==null||zo!==null)&&(Uy(),$y())}}function ki(e,t){var r=e.stateNode;if(r===null)return null;var n=Cu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var Uh=!1;if(vn)try{var Va={};Object.defineProperty(Va,"passive",{get:function(){Uh=!0}}),window.addEventListener("test",Va,Va),window.removeEventListener("test",Va,Va)}catch{Uh=!1}function zj(e,t,r,n,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var hi=!1,Tc=null,Rc=!1,zh=null,Hj={onError:function(e){hi=!0,Tc=e}};function Bj(e,t,r,n,s,o,a,l,c){hi=!1,Tc=null,zj.apply(Hj,arguments)}function Wj(e,t,r,n,s,o,a,l,c){if(Bj.apply(this,arguments),hi){if(hi){var u=Tc;hi=!1,Tc=null}else throw Error(F(198));Rc||(Rc=!0,zh=u)}}function so(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Hy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xg(e){if(so(e)!==e)throw Error(F(188))}function Vj(e){var t=e.alternate;if(!t){if(t=so(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return xg(s),e;if(o===n)return xg(s),t;o=o.sibling}throw Error(F(188))}if(r.return!==n.return)r=s,n=o;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=o;break}if(l===n){a=!0,n=s,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=s;break}if(l===n){a=!0,n=o,r=s;break}l=l.sibling}if(!a)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function By(e){return e=Vj(e),e!==null?Wy(e):null}function Wy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wy(e);if(t!==null)return t;e=e.sibling}return null}var Vy=Qt.unstable_scheduleCallback,yg=Qt.unstable_cancelCallback,qj=Qt.unstable_shouldYield,Kj=Qt.unstable_requestPaint,qe=Qt.unstable_now,Gj=Qt.unstable_getCurrentPriorityLevel,Sm=Qt.unstable_ImmediatePriority,qy=Qt.unstable_UserBlockingPriority,Ac=Qt.unstable_NormalPriority,Qj=Qt.unstable_LowPriority,Ky=Qt.unstable_IdlePriority,Su=null,Ur=null;function Yj(e){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(Su,e,void 0,(e.current.flags&128)===128)}catch{}}var br=Math.clz32?Math.clz32:Zj,Xj=Math.log,Jj=Math.LN2;function Zj(e){return e>>>=0,e===0?32:31-(Xj(e)/Jj|0)|0}var Rl=64,Al=4194304;function ai(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Oc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=ai(l):(o&=a,o!==0&&(n=ai(o)))}else a=r&~s,a!==0?n=ai(a):o!==0&&(n=ai(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-br(t),s=1<<r,n|=e[r],t&=~s;return n}function eN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-br(o),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=eN(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Hh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gy(){var e=Rl;return Rl<<=1,!(Rl&4194240)&&(Rl=64),e}function Rd(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Zi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-br(t),e[t]=r}function rN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-br(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function jm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-br(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Pe=0;function Qy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yy,Nm,Xy,Jy,Zy,Bh=!1,Ol=[],Zn=null,es=null,ts=null,Ci=new Map,Ei=new Map,$n=[],nN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bg(e,t){switch(e){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Ci.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ei.delete(t.pointerId)}}function qa(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=tl(t),t!==null&&Nm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function sN(e,t,r,n,s){switch(t){case"focusin":return Zn=qa(Zn,e,t,r,n,s),!0;case"dragenter":return es=qa(es,e,t,r,n,s),!0;case"mouseover":return ts=qa(ts,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return Ci.set(o,qa(Ci.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Ei.set(o,qa(Ei.get(o)||null,e,t,r,n,s)),!0}return!1}function e0(e){var t=Rs(e.target);if(t!==null){var r=so(t);if(r!==null){if(t=r.tag,t===13){if(t=Hy(r),t!==null){e.blockedOn=t,Zy(e.priority,function(){Xy(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ic(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Wh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);$h=n,r.target.dispatchEvent(n),$h=null}else return t=tl(r),t!==null&&Nm(t),e.blockedOn=r,!1;t.shift()}return!0}function wg(e,t,r){ic(e)&&r.delete(t)}function oN(){Bh=!1,Zn!==null&&ic(Zn)&&(Zn=null),es!==null&&ic(es)&&(es=null),ts!==null&&ic(ts)&&(ts=null),Ci.forEach(wg),Ei.forEach(wg)}function Ka(e,t){e.blockedOn===t&&(e.blockedOn=null,Bh||(Bh=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,oN)))}function Pi(e){function t(s){return Ka(s,e)}if(0<Ol.length){Ka(Ol[0],e);for(var r=1;r<Ol.length;r++){var n=Ol[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Zn!==null&&Ka(Zn,e),es!==null&&Ka(es,e),ts!==null&&Ka(ts,e),Ci.forEach(t),Ei.forEach(t),r=0;r<$n.length;r++)n=$n[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<$n.length&&(r=$n[0],r.blockedOn===null);)e0(r),r.blockedOn===null&&$n.shift()}var Ho=jn.ReactCurrentBatchConfig,Mc=!0;function aN(e,t,r,n){var s=Pe,o=Ho.transition;Ho.transition=null;try{Pe=1,km(e,t,r,n)}finally{Pe=s,Ho.transition=o}}function iN(e,t,r,n){var s=Pe,o=Ho.transition;Ho.transition=null;try{Pe=4,km(e,t,r,n)}finally{Pe=s,Ho.transition=o}}function km(e,t,r,n){if(Mc){var s=Wh(e,t,r,n);if(s===null)zd(e,t,n,Ic,r),bg(e,n);else if(sN(s,e,t,r,n))n.stopPropagation();else if(bg(e,n),t&4&&-1<nN.indexOf(e)){for(;s!==null;){var o=tl(s);if(o!==null&&Yy(o),o=Wh(e,t,r,n),o===null&&zd(e,t,n,Ic,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else zd(e,t,n,null,r)}}var Ic=null;function Wh(e,t,r,n){if(Ic=null,e=_m(n),e=Rs(e),e!==null)if(t=so(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Hy(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ic=e,null}function t0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gj()){case Sm:return 1;case qy:return 4;case Ac:case Qj:return 16;case Ky:return 536870912;default:return 16}default:return 16}}var Yn=null,Cm=null,lc=null;function r0(){if(lc)return lc;var e,t=Cm,r=t.length,n,s="value"in Yn?Yn.value:Yn.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[o-n];n++);return lc=s.slice(e,1<n?1-n:void 0)}function cc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ml(){return!0}function _g(){return!1}function Xt(e){function t(r,n,s,o,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ml:_g,this.isPropagationStopped=_g,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),t}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Em=Xt(Sa),el=ze({},Sa,{view:0,detail:0}),lN=Xt(el),Ad,Od,Ga,ju=ze({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ga&&(Ga&&e.type==="mousemove"?(Ad=e.screenX-Ga.screenX,Od=e.screenY-Ga.screenY):Od=Ad=0,Ga=e),Ad)},movementY:function(e){return"movementY"in e?e.movementY:Od}}),Sg=Xt(ju),cN=ze({},ju,{dataTransfer:0}),uN=Xt(cN),dN=ze({},el,{relatedTarget:0}),Md=Xt(dN),hN=ze({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),fN=Xt(hN),mN=ze({},Sa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pN=Xt(mN),gN=ze({},Sa,{data:0}),jg=Xt(gN),vN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yN[e])?!!t[e]:!1}function Pm(){return bN}var wN=ze({},el,{key:function(e){if(e.key){var t=vN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pm,charCode:function(e){return e.type==="keypress"?cc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_N=Xt(wN),SN=ze({},ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ng=Xt(SN),jN=ze({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pm}),NN=Xt(jN),kN=ze({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),CN=Xt(kN),EN=ze({},ju,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PN=Xt(EN),TN=[9,13,27,32],Tm=vn&&"CompositionEvent"in window,fi=null;vn&&"documentMode"in document&&(fi=document.documentMode);var RN=vn&&"TextEvent"in window&&!fi,n0=vn&&(!Tm||fi&&8<fi&&11>=fi),kg=" ",Cg=!1;function s0(e,t){switch(e){case"keyup":return TN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Po=!1;function AN(e,t){switch(e){case"compositionend":return o0(t);case"keypress":return t.which!==32?null:(Cg=!0,kg);case"textInput":return e=t.data,e===kg&&Cg?null:e;default:return null}}function ON(e,t){if(Po)return e==="compositionend"||!Tm&&s0(e,t)?(e=r0(),lc=Cm=Yn=null,Po=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return n0&&t.locale!=="ko"?null:t.data;default:return null}}var MN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!MN[e.type]:t==="textarea"}function a0(e,t,r,n){Ly(n),t=Dc(t,"onChange"),0<t.length&&(r=new Em("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var mi=null,Ti=null;function IN(e){v0(e,0)}function Nu(e){var t=Ao(e);if(Ty(t))return e}function DN(e,t){if(e==="change")return t}var i0=!1;if(vn){var Id;if(vn){var Dd="oninput"in document;if(!Dd){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),Dd=typeof Pg.oninput=="function"}Id=Dd}else Id=!1;i0=Id&&(!document.documentMode||9<document.documentMode)}function Tg(){mi&&(mi.detachEvent("onpropertychange",l0),Ti=mi=null)}function l0(e){if(e.propertyName==="value"&&Nu(Ti)){var t=[];a0(t,Ti,e,_m(e)),zy(IN,t)}}function LN(e,t,r){e==="focusin"?(Tg(),mi=t,Ti=r,mi.attachEvent("onpropertychange",l0)):e==="focusout"&&Tg()}function $N(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nu(Ti)}function FN(e,t){if(e==="click")return Nu(t)}function UN(e,t){if(e==="input"||e==="change")return Nu(t)}function zN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _r=typeof Object.is=="function"?Object.is:zN;function Ri(e,t){if(_r(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!kh.call(t,s)||!_r(e[s],t[s]))return!1}return!0}function Rg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ag(e,t){var r=Rg(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rg(r)}}function c0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?c0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function u0(){for(var e=window,t=Pc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Pc(e.document)}return t}function Rm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function HN(e){var t=u0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&c0(r.ownerDocument.documentElement,r)){if(n!==null&&Rm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Ag(r,o);var a=Ag(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var BN=vn&&"documentMode"in document&&11>=document.documentMode,To=null,Vh=null,pi=null,qh=!1;function Og(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qh||To==null||To!==Pc(n)||(n=To,"selectionStart"in n&&Rm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),pi&&Ri(pi,n)||(pi=n,n=Dc(Vh,"onSelect"),0<n.length&&(t=new Em("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=To)))}function Il(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ro={animationend:Il("Animation","AnimationEnd"),animationiteration:Il("Animation","AnimationIteration"),animationstart:Il("Animation","AnimationStart"),transitionend:Il("Transition","TransitionEnd")},Ld={},d0={};vn&&(d0=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function ku(e){if(Ld[e])return Ld[e];if(!Ro[e])return e;var t=Ro[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in d0)return Ld[e]=t[r];return e}var h0=ku("animationend"),f0=ku("animationiteration"),m0=ku("animationstart"),p0=ku("transitionend"),g0=new Map,Mg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(e,t){g0.set(e,t),no(t,[e])}for(var $d=0;$d<Mg.length;$d++){var Fd=Mg[$d],WN=Fd.toLowerCase(),VN=Fd[0].toUpperCase()+Fd.slice(1);fs(WN,"on"+VN)}fs(h0,"onAnimationEnd");fs(f0,"onAnimationIteration");fs(m0,"onAnimationStart");fs("dblclick","onDoubleClick");fs("focusin","onFocus");fs("focusout","onBlur");fs(p0,"onTransitionEnd");ua("onMouseEnter",["mouseout","mouseover"]);ua("onMouseLeave",["mouseout","mouseover"]);ua("onPointerEnter",["pointerout","pointerover"]);ua("onPointerLeave",["pointerout","pointerover"]);no("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));no("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));no("onBeforeInput",["compositionend","keypress","textInput","paste"]);no("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));no("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));no("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qN=new Set("cancel close invalid load scroll toggle".split(" ").concat(ii));function Ig(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Wj(n,t,void 0,e),e.currentTarget=null}function v0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Ig(s,l,u),o=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Ig(s,l,u),o=c}}}if(Rc)throw e=zh,Rc=!1,zh=null,e}function Ie(e,t){var r=t[Xh];r===void 0&&(r=t[Xh]=new Set);var n=e+"__bubble";r.has(n)||(x0(t,e,2,!1),r.add(n))}function Ud(e,t,r){var n=0;t&&(n|=4),x0(r,e,n,t)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function Ai(e){if(!e[Dl]){e[Dl]=!0,Ny.forEach(function(r){r!=="selectionchange"&&(qN.has(r)||Ud(r,!1,e),Ud(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dl]||(t[Dl]=!0,Ud("selectionchange",!1,t))}}function x0(e,t,r,n){switch(t0(t)){case 1:var s=aN;break;case 4:s=iN;break;default:s=km}r=s.bind(null,t,r,e),s=void 0,!Uh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function zd(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Rs(l),a===null)return;if(c=a.tag,c===5||c===6){n=o=a;continue e}l=l.parentNode}}n=n.return}zy(function(){var u=o,d=_m(r),h=[];e:{var m=g0.get(e);if(m!==void 0){var p=Em,v=e;switch(e){case"keypress":if(cc(r)===0)break e;case"keydown":case"keyup":p=_N;break;case"focusin":v="focus",p=Md;break;case"focusout":v="blur",p=Md;break;case"beforeblur":case"afterblur":p=Md;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Sg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=uN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=NN;break;case h0:case f0:case m0:p=fN;break;case p0:p=CN;break;case"scroll":p=lN;break;case"wheel":p=PN;break;case"copy":case"cut":case"paste":p=pN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ng}var g=(t&4)!==0,b=!g&&e==="scroll",y=g?m!==null?m+"Capture":null:m;g=[];for(var x=u,w;x!==null;){w=x;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=ki(x,y),_!=null&&g.push(Oi(x,_,w)))),b)break;x=x.return}0<g.length&&(m=new p(m,v,null,r,d),h.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==$h&&(v=r.relatedTarget||r.fromElement)&&(Rs(v)||v[xn]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?Rs(v):null,v!==null&&(b=so(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(g=Sg,_="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=Ng,_="onPointerLeave",y="onPointerEnter",x="pointer"),b=p==null?m:Ao(p),w=v==null?m:Ao(v),m=new g(_,x+"leave",p,r,d),m.target=b,m.relatedTarget=w,_=null,Rs(d)===u&&(g=new g(y,x+"enter",v,r,d),g.target=w,g.relatedTarget=b,_=g),b=_,p&&v)t:{for(g=p,y=v,x=0,w=g;w;w=po(w))x++;for(w=0,_=y;_;_=po(_))w++;for(;0<x-w;)g=po(g),x--;for(;0<w-x;)y=po(y),w--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=po(g),y=po(y)}g=null}else g=null;p!==null&&Dg(h,m,p,g,!1),v!==null&&b!==null&&Dg(h,b,v,g,!0)}}e:{if(m=u?Ao(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var j=DN;else if(Eg(m))if(i0)j=UN;else{j=$N;var S=LN}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=FN);if(j&&(j=j(e,u))){a0(h,j,r,d);break e}S&&S(e,m,u),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&Oh(m,"number",m.value)}switch(S=u?Ao(u):window,e){case"focusin":(Eg(S)||S.contentEditable==="true")&&(To=S,Vh=u,pi=null);break;case"focusout":pi=Vh=To=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Og(h,r,d);break;case"selectionchange":if(BN)break;case"keydown":case"keyup":Og(h,r,d)}var C;if(Tm)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Po?s0(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(n0&&r.locale!=="ko"&&(Po||E!=="onCompositionStart"?E==="onCompositionEnd"&&Po&&(C=r0()):(Yn=d,Cm="value"in Yn?Yn.value:Yn.textContent,Po=!0)),S=Dc(u,E),0<S.length&&(E=new jg(E,e,null,r,d),h.push({event:E,listeners:S}),C?E.data=C:(C=o0(r),C!==null&&(E.data=C)))),(C=RN?AN(e,r):ON(e,r))&&(u=Dc(u,"onBeforeInput"),0<u.length&&(d=new jg("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=C))}v0(h,t)})}function Oi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Dc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=ki(e,r),o!=null&&n.unshift(Oi(e,o,s)),o=ki(e,t),o!=null&&n.push(Oi(e,o,s))),e=e.return}return n}function po(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dg(e,t,r,n,s){for(var o=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ki(r,o),c!=null&&a.unshift(Oi(r,c,l))):s||(c=ki(r,o),c!=null&&a.push(Oi(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var KN=/\r\n?/g,GN=/\u0000|\uFFFD/g;function Lg(e){return(typeof e=="string"?e:""+e).replace(KN,`
`).replace(GN,"")}function Ll(e,t,r){if(t=Lg(t),Lg(e)!==t&&r)throw Error(F(425))}function Lc(){}var Kh=null,Gh=null;function Qh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yh=typeof setTimeout=="function"?setTimeout:void 0,QN=typeof clearTimeout=="function"?clearTimeout:void 0,$g=typeof Promise=="function"?Promise:void 0,YN=typeof queueMicrotask=="function"?queueMicrotask:typeof $g<"u"?function(e){return $g.resolve(null).then(e).catch(XN)}:Yh;function XN(e){setTimeout(function(){throw e})}function Hd(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Pi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Pi(t)}function rs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ja=Math.random().toString(36).slice(2),Dr="__reactFiber$"+ja,Mi="__reactProps$"+ja,xn="__reactContainer$"+ja,Xh="__reactEvents$"+ja,JN="__reactListeners$"+ja,ZN="__reactHandles$"+ja;function Rs(e){var t=e[Dr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xn]||r[Dr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Fg(e);e!==null;){if(r=e[Dr])return r;e=Fg(e)}return t}e=r,r=e.parentNode}return null}function tl(e){return e=e[Dr]||e[xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ao(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Cu(e){return e[Mi]||null}var Jh=[],Oo=-1;function ms(e){return{current:e}}function De(e){0>Oo||(e.current=Jh[Oo],Jh[Oo]=null,Oo--)}function Oe(e,t){Oo++,Jh[Oo]=e.current,e.current=t}var ls={},bt=ms(ls),Dt=ms(!1),Ws=ls;function da(e,t){var r=e.type.contextTypes;if(!r)return ls;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Lt(e){return e=e.childContextTypes,e!=null}function $c(){De(Dt),De(bt)}function Ug(e,t,r){if(bt.current!==ls)throw Error(F(168));Oe(bt,t),Oe(Dt,r)}function y0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(F(108,Lj(e)||"Unknown",s));return ze({},r,n)}function Fc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ls,Ws=bt.current,Oe(bt,e),Oe(Dt,Dt.current),!0}function zg(e,t,r){var n=e.stateNode;if(!n)throw Error(F(169));r?(e=y0(e,t,Ws),n.__reactInternalMemoizedMergedChildContext=e,De(Dt),De(bt),Oe(bt,e)):De(Dt),Oe(Dt,r)}var on=null,Eu=!1,Bd=!1;function b0(e){on===null?on=[e]:on.push(e)}function ek(e){Eu=!0,b0(e)}function ps(){if(!Bd&&on!==null){Bd=!0;var e=0,t=Pe;try{var r=on;for(Pe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}on=null,Eu=!1}catch(s){throw on!==null&&(on=on.slice(e+1)),Vy(Sm,ps),s}finally{Pe=t,Bd=!1}}return null}var Mo=[],Io=0,Uc=null,zc=0,tr=[],rr=0,Vs=null,cn=1,un="";function js(e,t){Mo[Io++]=zc,Mo[Io++]=Uc,Uc=e,zc=t}function w0(e,t,r){tr[rr++]=cn,tr[rr++]=un,tr[rr++]=Vs,Vs=e;var n=cn;e=un;var s=32-br(n)-1;n&=~(1<<s),r+=1;var o=32-br(t)+s;if(30<o){var a=s-s%5;o=(n&(1<<a)-1).toString(32),n>>=a,s-=a,cn=1<<32-br(t)+s|r<<s|n,un=o+e}else cn=1<<o|r<<s|n,un=e}function Am(e){e.return!==null&&(js(e,1),w0(e,1,0))}function Om(e){for(;e===Uc;)Uc=Mo[--Io],Mo[Io]=null,zc=Mo[--Io],Mo[Io]=null;for(;e===Vs;)Vs=tr[--rr],tr[rr]=null,un=tr[--rr],tr[rr]=null,cn=tr[--rr],tr[rr]=null}var qt=null,Vt=null,$e=!1,xr=null;function _0(e,t){var r=nr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Hg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qt=e,Vt=rs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qt=e,Vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Vs!==null?{id:cn,overflow:un}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=nr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,qt=e,Vt=null,!0):!1;default:return!1}}function Zh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ef(e){if($e){var t=Vt;if(t){var r=t;if(!Hg(e,t)){if(Zh(e))throw Error(F(418));t=rs(r.nextSibling);var n=qt;t&&Hg(e,t)?_0(n,r):(e.flags=e.flags&-4097|2,$e=!1,qt=e)}}else{if(Zh(e))throw Error(F(418));e.flags=e.flags&-4097|2,$e=!1,qt=e}}}function Bg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qt=e}function $l(e){if(e!==qt)return!1;if(!$e)return Bg(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qh(e.type,e.memoizedProps)),t&&(t=Vt)){if(Zh(e))throw S0(),Error(F(418));for(;t;)_0(e,t),t=rs(t.nextSibling)}if(Bg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Vt=rs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Vt=null}}else Vt=qt?rs(e.stateNode.nextSibling):null;return!0}function S0(){for(var e=Vt;e;)e=rs(e.nextSibling)}function ha(){Vt=qt=null,$e=!1}function Mm(e){xr===null?xr=[e]:xr.push(e)}var tk=jn.ReactCurrentBatchConfig;function Qa(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var n=r.stateNode}if(!n)throw Error(F(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function Fl(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wg(e){var t=e._init;return t(e._payload)}function j0(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=as(y,x),y.index=0,y.sibling=null,y}function o(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,w,_){return x===null||x.tag!==6?(x=Yd(w,y.mode,_),x.return=y,x):(x=s(x,w),x.return=y,x)}function c(y,x,w,_){var j=w.type;return j===Eo?d(y,x,w.props.children,_,w.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Dn&&Wg(j)===x.type)?(_=s(x,w.props),_.ref=Qa(y,x,w),_.return=y,_):(_=gc(w.type,w.key,w.props,null,y.mode,_),_.ref=Qa(y,x,w),_.return=y,_)}function u(y,x,w,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Xd(w,y.mode,_),x.return=y,x):(x=s(x,w.children||[]),x.return=y,x)}function d(y,x,w,_,j){return x===null||x.tag!==7?(x=Bs(w,y.mode,_,j),x.return=y,x):(x=s(x,w),x.return=y,x)}function h(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Yd(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case El:return w=gc(x.type,x.key,x.props,null,y.mode,w),w.ref=Qa(y,null,x),w.return=y,w;case Co:return x=Xd(x,y.mode,w),x.return=y,x;case Dn:var _=x._init;return h(y,_(x._payload),w)}if(oi(x)||Wa(x))return x=Bs(x,y.mode,w,null),x.return=y,x;Fl(y,x)}return null}function m(y,x,w,_){var j=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(y,x,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case El:return w.key===j?c(y,x,w,_):null;case Co:return w.key===j?u(y,x,w,_):null;case Dn:return j=w._init,m(y,x,j(w._payload),_)}if(oi(w)||Wa(w))return j!==null?null:d(y,x,w,_,null);Fl(y,w)}return null}function p(y,x,w,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,l(x,y,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case El:return y=y.get(_.key===null?w:_.key)||null,c(x,y,_,j);case Co:return y=y.get(_.key===null?w:_.key)||null,u(x,y,_,j);case Dn:var S=_._init;return p(y,x,w,S(_._payload),j)}if(oi(_)||Wa(_))return y=y.get(w)||null,d(x,y,_,j,null);Fl(x,_)}return null}function v(y,x,w,_){for(var j=null,S=null,C=x,E=x=0,P=null;C!==null&&E<w.length;E++){C.index>E?(P=C,C=null):P=C.sibling;var A=m(y,C,w[E],_);if(A===null){C===null&&(C=P);break}e&&C&&A.alternate===null&&t(y,C),x=o(A,x,E),S===null?j=A:S.sibling=A,S=A,C=P}if(E===w.length)return r(y,C),$e&&js(y,E),j;if(C===null){for(;E<w.length;E++)C=h(y,w[E],_),C!==null&&(x=o(C,x,E),S===null?j=C:S.sibling=C,S=C);return $e&&js(y,E),j}for(C=n(y,C);E<w.length;E++)P=p(C,y,E,w[E],_),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?E:P.key),x=o(P,x,E),S===null?j=P:S.sibling=P,S=P);return e&&C.forEach(function(I){return t(y,I)}),$e&&js(y,E),j}function g(y,x,w,_){var j=Wa(w);if(typeof j!="function")throw Error(F(150));if(w=j.call(w),w==null)throw Error(F(151));for(var S=j=null,C=x,E=x=0,P=null,A=w.next();C!==null&&!A.done;E++,A=w.next()){C.index>E?(P=C,C=null):P=C.sibling;var I=m(y,C,A.value,_);if(I===null){C===null&&(C=P);break}e&&C&&I.alternate===null&&t(y,C),x=o(I,x,E),S===null?j=I:S.sibling=I,S=I,C=P}if(A.done)return r(y,C),$e&&js(y,E),j;if(C===null){for(;!A.done;E++,A=w.next())A=h(y,A.value,_),A!==null&&(x=o(A,x,E),S===null?j=A:S.sibling=A,S=A);return $e&&js(y,E),j}for(C=n(y,C);!A.done;E++,A=w.next())A=p(C,y,E,A.value,_),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?E:A.key),x=o(A,x,E),S===null?j=A:S.sibling=A,S=A);return e&&C.forEach(function(R){return t(y,R)}),$e&&js(y,E),j}function b(y,x,w,_){if(typeof w=="object"&&w!==null&&w.type===Eo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case El:e:{for(var j=w.key,S=x;S!==null;){if(S.key===j){if(j=w.type,j===Eo){if(S.tag===7){r(y,S.sibling),x=s(S,w.props.children),x.return=y,y=x;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Dn&&Wg(j)===S.type){r(y,S.sibling),x=s(S,w.props),x.ref=Qa(y,S,w),x.return=y,y=x;break e}r(y,S);break}else t(y,S);S=S.sibling}w.type===Eo?(x=Bs(w.props.children,y.mode,_,w.key),x.return=y,y=x):(_=gc(w.type,w.key,w.props,null,y.mode,_),_.ref=Qa(y,x,w),_.return=y,y=_)}return a(y);case Co:e:{for(S=w.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(y,x.sibling),x=s(x,w.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=Xd(w,y.mode,_),x.return=y,y=x}return a(y);case Dn:return S=w._init,b(y,x,S(w._payload),_)}if(oi(w))return v(y,x,w,_);if(Wa(w))return g(y,x,w,_);Fl(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(y,x.sibling),x=s(x,w),x.return=y,y=x):(r(y,x),x=Yd(w,y.mode,_),x.return=y,y=x),a(y)):r(y,x)}return b}var fa=j0(!0),N0=j0(!1),Hc=ms(null),Bc=null,Do=null,Im=null;function Dm(){Im=Do=Bc=null}function Lm(e){var t=Hc.current;De(Hc),e._currentValue=t}function tf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Bo(e,t){Bc=e,Im=Do=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(It=!0),e.firstContext=null)}function ar(e){var t=e._currentValue;if(Im!==e)if(e={context:e,memoizedValue:t,next:null},Do===null){if(Bc===null)throw Error(F(308));Do=e,Bc.dependencies={lanes:0,firstContext:e}}else Do=Do.next=e;return t}var As=null;function $m(e){As===null?As=[e]:As.push(e)}function k0(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,$m(t)):(r.next=s.next,s.next=r),t.interleaved=r,yn(e,n)}function yn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ln=!1;function Fm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ns(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,we&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,yn(e,r)}return s=n.interleaved,s===null?(t.next=t,$m(n)):(t.next=s.next,s.next=t),n.interleaved=t,yn(e,r)}function uc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jm(e,r)}}function Vg(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Wc(e,t,r,n){var s=e.updateQueue;Ln=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var h=s.baseState;a=0,d=u=c=null,l=o;do{var m=l.lane,p=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(m=t,p=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(p,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,m=typeof v=="function"?v.call(p,h,m):v,m==null)break e;h=ze({},h,m);break e;case 2:Ln=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Ks|=a,e.lanes=a,e.memoizedState=h}}function qg(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(F(191,s));s.call(n)}}}var rl={},zr=ms(rl),Ii=ms(rl),Di=ms(rl);function Os(e){if(e===rl)throw Error(F(174));return e}function Um(e,t){switch(Oe(Di,t),Oe(Ii,e),Oe(zr,rl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ih(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ih(t,e)}De(zr),Oe(zr,t)}function ma(){De(zr),De(Ii),De(Di)}function E0(e){Os(Di.current);var t=Os(zr.current),r=Ih(t,e.type);t!==r&&(Oe(Ii,e),Oe(zr,r))}function zm(e){Ii.current===e&&(De(zr),De(Ii))}var Fe=ms(0);function Vc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wd=[];function Hm(){for(var e=0;e<Wd.length;e++)Wd[e]._workInProgressVersionPrimary=null;Wd.length=0}var dc=jn.ReactCurrentDispatcher,Vd=jn.ReactCurrentBatchConfig,qs=0,Ue=null,Ze=null,st=null,qc=!1,gi=!1,Li=0,rk=0;function mt(){throw Error(F(321))}function Bm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!_r(e[r],t[r]))return!1;return!0}function Wm(e,t,r,n,s,o){if(qs=o,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dc.current=e===null||e.memoizedState===null?ak:ik,e=r(n,s),gi){o=0;do{if(gi=!1,Li=0,25<=o)throw Error(F(301));o+=1,st=Ze=null,t.updateQueue=null,dc.current=lk,e=r(n,s)}while(gi)}if(dc.current=Kc,t=Ze!==null&&Ze.next!==null,qs=0,st=Ze=Ue=null,qc=!1,t)throw Error(F(300));return e}function Vm(){var e=Li!==0;return Li=0,e}function Rr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Ue.memoizedState=st=e:st=st.next=e,st}function ir(){if(Ze===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=st===null?Ue.memoizedState:st.next;if(t!==null)st=t,Ze=e;else{if(e===null)throw Error(F(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},st===null?Ue.memoizedState=st=e:st=st.next=e}return st}function $i(e,t){return typeof t=="function"?t(e):t}function qd(e){var t=ir(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=Ze,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((qs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=n):c=c.next=h,Ue.lanes|=d,Ks|=d}u=u.next}while(u!==null&&u!==o);c===null?a=n:c.next=l,_r(n,t.memoizedState)||(It=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Ue.lanes|=o,Ks|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Kd(e){var t=ir(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);_r(o,t.memoizedState)||(It=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function P0(){}function T0(e,t){var r=Ue,n=ir(),s=t(),o=!_r(n.memoizedState,s);if(o&&(n.memoizedState=s,It=!0),n=n.queue,qm(O0.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||st!==null&&st.memoizedState.tag&1){if(r.flags|=2048,Fi(9,A0.bind(null,r,n,s,t),void 0,null),ot===null)throw Error(F(349));qs&30||R0(r,t,s)}return s}function R0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function A0(e,t,r,n){t.value=r,t.getSnapshot=n,M0(t)&&I0(e)}function O0(e,t,r){return r(function(){M0(t)&&I0(e)})}function M0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_r(e,r)}catch{return!0}}function I0(e){var t=yn(e,1);t!==null&&wr(t,e,1,-1)}function Kg(e){var t=Rr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:e},t.queue=e,e=e.dispatch=ok.bind(null,Ue,e),[t.memoizedState,e]}function Fi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function D0(){return ir().memoizedState}function hc(e,t,r,n){var s=Rr();Ue.flags|=e,s.memoizedState=Fi(1|t,r,void 0,n===void 0?null:n)}function Pu(e,t,r,n){var s=ir();n=n===void 0?null:n;var o=void 0;if(Ze!==null){var a=Ze.memoizedState;if(o=a.destroy,n!==null&&Bm(n,a.deps)){s.memoizedState=Fi(t,r,o,n);return}}Ue.flags|=e,s.memoizedState=Fi(1|t,r,o,n)}function Gg(e,t){return hc(8390656,8,e,t)}function qm(e,t){return Pu(2048,8,e,t)}function L0(e,t){return Pu(4,2,e,t)}function $0(e,t){return Pu(4,4,e,t)}function F0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function U0(e,t,r){return r=r!=null?r.concat([e]):null,Pu(4,4,F0.bind(null,t,e),r)}function Km(){}function z0(e,t){var r=ir();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function H0(e,t){var r=ir();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function B0(e,t,r){return qs&21?(_r(r,t)||(r=Gy(),Ue.lanes|=r,Ks|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,It=!0),e.memoizedState=r)}function nk(e,t){var r=Pe;Pe=r!==0&&4>r?r:4,e(!0);var n=Vd.transition;Vd.transition={};try{e(!1),t()}finally{Pe=r,Vd.transition=n}}function W0(){return ir().memoizedState}function sk(e,t,r){var n=os(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},V0(e))q0(t,r);else if(r=k0(e,t,r,n),r!==null){var s=kt();wr(r,e,n,s),K0(r,t,n)}}function ok(e,t,r){var n=os(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(V0(e))q0(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,r);if(s.hasEagerState=!0,s.eagerState=l,_r(l,a)){var c=t.interleaved;c===null?(s.next=s,$m(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=k0(e,t,s,n),r!==null&&(s=kt(),wr(r,e,n,s),K0(r,t,n))}}function V0(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function q0(e,t){gi=qc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function K0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jm(e,r)}}var Kc={readContext:ar,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},ak={readContext:ar,useCallback:function(e,t){return Rr().memoizedState=[e,t===void 0?null:t],e},useContext:ar,useEffect:Gg,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,hc(4194308,4,F0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return hc(4194308,4,e,t)},useInsertionEffect:function(e,t){return hc(4,2,e,t)},useMemo:function(e,t){var r=Rr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=sk.bind(null,Ue,e),[n.memoizedState,e]},useRef:function(e){var t=Rr();return e={current:e},t.memoizedState=e},useState:Kg,useDebugValue:Km,useDeferredValue:function(e){return Rr().memoizedState=e},useTransition:function(){var e=Kg(!1),t=e[0];return e=nk.bind(null,e[1]),Rr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ue,s=Rr();if($e){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),ot===null)throw Error(F(349));qs&30||R0(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,Gg(O0.bind(null,n,o,e),[e]),n.flags|=2048,Fi(9,A0.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Rr(),t=ot.identifierPrefix;if($e){var r=un,n=cn;r=(n&~(1<<32-br(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Li++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=rk++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ik={readContext:ar,useCallback:z0,useContext:ar,useEffect:qm,useImperativeHandle:U0,useInsertionEffect:L0,useLayoutEffect:$0,useMemo:H0,useReducer:qd,useRef:D0,useState:function(){return qd($i)},useDebugValue:Km,useDeferredValue:function(e){var t=ir();return B0(t,Ze.memoizedState,e)},useTransition:function(){var e=qd($i)[0],t=ir().memoizedState;return[e,t]},useMutableSource:P0,useSyncExternalStore:T0,useId:W0,unstable_isNewReconciler:!1},lk={readContext:ar,useCallback:z0,useContext:ar,useEffect:qm,useImperativeHandle:U0,useInsertionEffect:L0,useLayoutEffect:$0,useMemo:H0,useReducer:Kd,useRef:D0,useState:function(){return Kd($i)},useDebugValue:Km,useDeferredValue:function(e){var t=ir();return Ze===null?t.memoizedState=e:B0(t,Ze.memoizedState,e)},useTransition:function(){var e=Kd($i)[0],t=ir().memoizedState;return[e,t]},useMutableSource:P0,useSyncExternalStore:T0,useId:W0,unstable_isNewReconciler:!1};function fr(e,t){if(e&&e.defaultProps){t=ze({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function rf(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ze({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Tu={isMounted:function(e){return(e=e._reactInternals)?so(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=kt(),s=os(e),o=hn(n,s);o.payload=t,r!=null&&(o.callback=r),t=ns(e,o,s),t!==null&&(wr(t,e,s,n),uc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=kt(),s=os(e),o=hn(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=ns(e,o,s),t!==null&&(wr(t,e,s,n),uc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=kt(),n=os(e),s=hn(r,n);s.tag=2,t!=null&&(s.callback=t),t=ns(e,s,n),t!==null&&(wr(t,e,n,r),uc(t,e,n))}};function Qg(e,t,r,n,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!Ri(r,n)||!Ri(s,o):!0}function G0(e,t,r){var n=!1,s=ls,o=t.contextType;return typeof o=="object"&&o!==null?o=ar(o):(s=Lt(t)?Ws:bt.current,n=t.contextTypes,o=(n=n!=null)?da(e,s):ls),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Tu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Yg(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Tu.enqueueReplaceState(t,t.state,null)}function nf(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Fm(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=ar(o):(o=Lt(t)?Ws:bt.current,s.context=da(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(rf(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Tu.enqueueReplaceState(s,s.state,null),Wc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function pa(e,t){try{var r="",n=t;do r+=Dj(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Gd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function sf(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ck=typeof WeakMap=="function"?WeakMap:Map;function Q0(e,t,r){r=hn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Qc||(Qc=!0,pf=n),sf(e,t)},r}function Y0(e,t,r){r=hn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){sf(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){sf(e,t),typeof n!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Xg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ck;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Sk.bind(null,e,t,r),t.then(e,e))}function Jg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zg(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=hn(-1,1),t.tag=2,ns(r,t,1))),r.lanes|=1),e)}var uk=jn.ReactCurrentOwner,It=!1;function jt(e,t,r,n){t.child=e===null?N0(t,null,r,n):fa(t,e.child,r,n)}function ev(e,t,r,n,s){r=r.render;var o=t.ref;return Bo(t,s),n=Wm(e,t,r,n,o,s),r=Vm(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bn(e,t,s)):($e&&r&&Am(t),t.flags|=1,jt(e,t,n,s),t.child)}function tv(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!tp(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,X0(e,t,o,n,s)):(e=gc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:Ri,r(a,n)&&e.ref===t.ref)return bn(e,t,s)}return t.flags|=1,e=as(o,n),e.ref=t.ref,e.return=t,t.child=e}function X0(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(Ri(o,n)&&e.ref===t.ref)if(It=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(It=!0);else return t.lanes=e.lanes,bn(e,t,s)}return of(e,t,r,n,s)}function J0(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe($o,zt),zt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe($o,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Oe($o,zt),zt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Oe($o,zt),zt|=n;return jt(e,t,s,r),t.child}function Z0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function of(e,t,r,n,s){var o=Lt(r)?Ws:bt.current;return o=da(t,o),Bo(t,s),r=Wm(e,t,r,n,o,s),n=Vm(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bn(e,t,s)):($e&&n&&Am(t),t.flags|=1,jt(e,t,r,s),t.child)}function rv(e,t,r,n,s){if(Lt(r)){var o=!0;Fc(t)}else o=!1;if(Bo(t,s),t.stateNode===null)fc(e,t),G0(t,r,n),nf(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=ar(u):(u=Lt(r)?Ws:bt.current,u=da(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Yg(t,a,n,u),Ln=!1;var m=t.memoizedState;a.state=m,Wc(t,n,a,s),c=t.memoizedState,l!==n||m!==c||Dt.current||Ln?(typeof d=="function"&&(rf(t,r,d,n),c=t.memoizedState),(l=Ln||Qg(t,r,l,n,m,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,C0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:fr(t.type,l),a.props=u,h=t.pendingProps,m=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=ar(c):(c=Lt(r)?Ws:bt.current,c=da(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||m!==c)&&Yg(t,a,n,c),Ln=!1,m=t.memoizedState,a.state=m,Wc(t,n,a,s);var v=t.memoizedState;l!==h||m!==v||Dt.current||Ln?(typeof p=="function"&&(rf(t,r,p,n),v=t.memoizedState),(u=Ln||Qg(t,r,u,n,m,v,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return af(e,t,r,n,o,s)}function af(e,t,r,n,s,o){Z0(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&zg(t,r,!1),bn(e,t,o);n=t.stateNode,uk.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=fa(t,e.child,null,o),t.child=fa(t,null,l,o)):jt(e,t,l,o),t.memoizedState=n.state,s&&zg(t,r,!0),t.child}function eb(e){var t=e.stateNode;t.pendingContext?Ug(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ug(e,t.context,!1),Um(e,t.containerInfo)}function nv(e,t,r,n,s){return ha(),Mm(s),t.flags|=256,jt(e,t,r,n),t.child}var lf={dehydrated:null,treeContext:null,retryLane:0};function cf(e){return{baseLanes:e,cachePool:null,transitions:null}}function tb(e,t,r){var n=t.pendingProps,s=Fe.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Oe(Fe,s&1),e===null)return ef(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Ou(a,n,0,null),e=Bs(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=cf(r),t.memoizedState=lf,e):Gm(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return dk(e,t,a,n,l,s,r);if(o){o=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=as(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=as(l,o):(o=Bs(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?cf(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=lf,n}return o=e.child,e=o.sibling,n=as(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Gm(e,t){return t=Ou({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ul(e,t,r,n){return n!==null&&Mm(n),fa(t,e.child,null,r),e=Gm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dk(e,t,r,n,s,o,a){if(r)return t.flags&256?(t.flags&=-257,n=Gd(Error(F(422))),Ul(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Ou({mode:"visible",children:n.children},s,0,null),o=Bs(o,s,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&fa(t,e.child,null,a),t.child.memoizedState=cf(a),t.memoizedState=lf,o);if(!(t.mode&1))return Ul(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(F(419)),n=Gd(o,n,void 0),Ul(e,t,a,n)}if(l=(a&e.childLanes)!==0,It||l){if(n=ot,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,yn(e,s),wr(n,e,s,-1))}return ep(),n=Gd(Error(F(421))),Ul(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=jk.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Vt=rs(s.nextSibling),qt=t,$e=!0,xr=null,e!==null&&(tr[rr++]=cn,tr[rr++]=un,tr[rr++]=Vs,cn=e.id,un=e.overflow,Vs=t),t=Gm(t,n.children),t.flags|=4096,t)}function sv(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),tf(e.return,t,r)}function Qd(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function rb(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(jt(e,t,n.children,r),n=Fe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sv(e,r,t);else if(e.tag===19)sv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Oe(Fe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Vc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Qd(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Vc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Qd(t,!0,r,null,o);break;case"together":Qd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ks|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=as(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=as(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function hk(e,t,r){switch(t.tag){case 3:eb(t),ha();break;case 5:E0(t);break;case 1:Lt(t.type)&&Fc(t);break;case 4:Um(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Oe(Hc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Oe(Fe,Fe.current&1),t.flags|=128,null):r&t.child.childLanes?tb(e,t,r):(Oe(Fe,Fe.current&1),e=bn(e,t,r),e!==null?e.sibling:null);Oe(Fe,Fe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return rb(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Oe(Fe,Fe.current),n)break;return null;case 22:case 23:return t.lanes=0,J0(e,t,r)}return bn(e,t,r)}var nb,uf,sb,ob;nb=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};uf=function(){};sb=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Os(zr.current);var o=null;switch(r){case"input":s=Rh(e,s),n=Rh(e,n),o=[];break;case"select":s=ze({},s,{value:void 0}),n=ze({},n,{value:void 0}),o=[];break;case"textarea":s=Mh(e,s),n=Mh(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Lc)}Dh(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ji.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ji.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ie("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};ob=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ya(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function fk(e,t,r){var n=t.pendingProps;switch(Om(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(t),null;case 1:return Lt(t.type)&&$c(),pt(t),null;case 3:return n=t.stateNode,ma(),De(Dt),De(bt),Hm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($l(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xr!==null&&(xf(xr),xr=null))),uf(e,t),pt(t),null;case 5:zm(t);var s=Os(Di.current);if(r=t.type,e!==null&&t.stateNode!=null)sb(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(F(166));return pt(t),null}if(e=Os(zr.current),$l(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Dr]=t,n[Mi]=o,e=(t.mode&1)!==0,r){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(s=0;s<ii.length;s++)Ie(ii[s],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":fg(n,o),Ie("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ie("invalid",n);break;case"textarea":pg(n,o),Ie("invalid",n)}Dh(r,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ll(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ll(n.textContent,l,e),s=["children",""+l]):ji.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ie("scroll",n)}switch(r){case"input":Pl(n),mg(n,o,!0);break;case"textarea":Pl(n),gg(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Lc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Oy(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Dr]=t,e[Mi]=n,nb(e,t,!1,!1),t.stateNode=e;e:{switch(a=Lh(r,n),r){case"dialog":Ie("cancel",e),Ie("close",e),s=n;break;case"iframe":case"object":case"embed":Ie("load",e),s=n;break;case"video":case"audio":for(s=0;s<ii.length;s++)Ie(ii[s],e);s=n;break;case"source":Ie("error",e),s=n;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),s=n;break;case"details":Ie("toggle",e),s=n;break;case"input":fg(e,n),s=Rh(e,n),Ie("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ze({},n,{value:void 0}),Ie("invalid",e);break;case"textarea":pg(e,n),s=Mh(e,n),Ie("invalid",e);break;default:s=n}Dh(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Dy(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&My(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ni(e,c):typeof c=="number"&&Ni(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ji.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ie("scroll",e):c!=null&&xm(e,o,c,a))}switch(r){case"input":Pl(e),mg(e,n,!1);break;case"textarea":Pl(e),gg(e);break;case"option":n.value!=null&&e.setAttribute("value",""+is(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Fo(e,!!n.multiple,o,!1):n.defaultValue!=null&&Fo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Lc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pt(t),null;case 6:if(e&&t.stateNode!=null)ob(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(F(166));if(r=Os(Di.current),Os(zr.current),$l(t)){if(n=t.stateNode,r=t.memoizedProps,n[Dr]=t,(o=n.nodeValue!==r)&&(e=qt,e!==null))switch(e.tag){case 3:Ll(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ll(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Dr]=t,t.stateNode=n}return pt(t),null;case 13:if(De(Fe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&Vt!==null&&t.mode&1&&!(t.flags&128))S0(),ha(),t.flags|=98560,o=!1;else if(o=$l(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(F(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[Dr]=t}else ha(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pt(t),o=!1}else xr!==null&&(xf(xr),xr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?tt===0&&(tt=3):ep())),t.updateQueue!==null&&(t.flags|=4),pt(t),null);case 4:return ma(),uf(e,t),e===null&&Ai(t.stateNode.containerInfo),pt(t),null;case 10:return Lm(t.type._context),pt(t),null;case 17:return Lt(t.type)&&$c(),pt(t),null;case 19:if(De(Fe),o=t.memoizedState,o===null)return pt(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)Ya(o,!1);else{if(tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Vc(e),a!==null){for(t.flags|=128,Ya(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Oe(Fe,Fe.current&1|2),t.child}e=e.sibling}o.tail!==null&&qe()>ga&&(t.flags|=128,n=!0,Ya(o,!1),t.lanes=4194304)}else{if(!n)if(e=Vc(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ya(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!$e)return pt(t),null}else 2*qe()-o.renderingStartTime>ga&&r!==1073741824&&(t.flags|=128,n=!0,Ya(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=qe(),t.sibling=null,r=Fe.current,Oe(Fe,n?r&1|2:r&1),t):(pt(t),null);case 22:case 23:return Zm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?zt&1073741824&&(pt(t),t.subtreeFlags&6&&(t.flags|=8192)):pt(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function mk(e,t){switch(Om(t),t.tag){case 1:return Lt(t.type)&&$c(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ma(),De(Dt),De(bt),Hm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zm(t),null;case 13:if(De(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));ha()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Fe),null;case 4:return ma(),null;case 10:return Lm(t.type._context),null;case 22:case 23:return Zm(),null;case 24:return null;default:return null}}var zl=!1,xt=!1,pk=typeof WeakSet=="function"?WeakSet:Set,K=null;function Lo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ve(e,t,n)}else r.current=null}function df(e,t,r){try{r()}catch(n){Ve(e,t,n)}}var ov=!1;function gk(e,t){if(Kh=Mc,e=u0(),Rm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==o||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===r&&++u===s&&(l=a),m===o&&++d===n&&(c=a),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Gh={focusedElem:e,selectionRange:r},Mc=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:fr(t.type,g),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(_){Ve(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return v=ov,ov=!1,v}function vi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&df(t,r,o)}s=s.next}while(s!==n)}}function Ru(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function hf(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ab(e){var t=e.alternate;t!==null&&(e.alternate=null,ab(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dr],delete t[Mi],delete t[Xh],delete t[JN],delete t[ZN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ib(e){return e.tag===5||e.tag===3||e.tag===4}function av(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ib(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ff(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Lc));else if(n!==4&&(e=e.child,e!==null))for(ff(e,t,r),e=e.sibling;e!==null;)ff(e,t,r),e=e.sibling}function mf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(mf(e,t,r),e=e.sibling;e!==null;)mf(e,t,r),e=e.sibling}var lt=null,pr=!1;function En(e,t,r){for(r=r.child;r!==null;)lb(e,t,r),r=r.sibling}function lb(e,t,r){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(Su,r)}catch{}switch(r.tag){case 5:xt||Lo(r,t);case 6:var n=lt,s=pr;lt=null,En(e,t,r),lt=n,pr=s,lt!==null&&(pr?(e=lt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):lt.removeChild(r.stateNode));break;case 18:lt!==null&&(pr?(e=lt,r=r.stateNode,e.nodeType===8?Hd(e.parentNode,r):e.nodeType===1&&Hd(e,r),Pi(e)):Hd(lt,r.stateNode));break;case 4:n=lt,s=pr,lt=r.stateNode.containerInfo,pr=!0,En(e,t,r),lt=n,pr=s;break;case 0:case 11:case 14:case 15:if(!xt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&df(r,t,a),s=s.next}while(s!==n)}En(e,t,r);break;case 1:if(!xt&&(Lo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ve(r,t,l)}En(e,t,r);break;case 21:En(e,t,r);break;case 22:r.mode&1?(xt=(n=xt)||r.memoizedState!==null,En(e,t,r),xt=n):En(e,t,r);break;default:En(e,t,r)}}function iv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new pk),t.forEach(function(n){var s=Nk.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ur(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:lt=l.stateNode,pr=!1;break e;case 3:lt=l.stateNode.containerInfo,pr=!0;break e;case 4:lt=l.stateNode.containerInfo,pr=!0;break e}l=l.return}if(lt===null)throw Error(F(160));lb(o,a,s),lt=null,pr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ve(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cb(t,e),t=t.sibling}function cb(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ur(t,e),Tr(e),n&4){try{vi(3,e,e.return),Ru(3,e)}catch(g){Ve(e,e.return,g)}try{vi(5,e,e.return)}catch(g){Ve(e,e.return,g)}}break;case 1:ur(t,e),Tr(e),n&512&&r!==null&&Lo(r,r.return);break;case 5:if(ur(t,e),Tr(e),n&512&&r!==null&&Lo(r,r.return),e.flags&32){var s=e.stateNode;try{Ni(s,"")}catch(g){Ve(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Ry(s,o),Lh(l,a);var u=Lh(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?Dy(s,h):d==="dangerouslySetInnerHTML"?My(s,h):d==="children"?Ni(s,h):xm(s,d,h,u)}switch(l){case"input":Ah(s,o);break;case"textarea":Ay(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Fo(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?Fo(s,!!o.multiple,o.defaultValue,!0):Fo(s,!!o.multiple,o.multiple?[]:"",!1))}s[Mi]=o}catch(g){Ve(e,e.return,g)}}break;case 6:if(ur(t,e),Tr(e),n&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){Ve(e,e.return,g)}}break;case 3:if(ur(t,e),Tr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pi(t.containerInfo)}catch(g){Ve(e,e.return,g)}break;case 4:ur(t,e),Tr(e);break;case 13:ur(t,e),Tr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Xm=qe())),n&4&&iv(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(xt=(u=xt)||d,ur(t,e),xt=u):ur(t,e),Tr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(K=e,d=e.child;d!==null;){for(h=K=d;K!==null;){switch(m=K,p=m.child,m.tag){case 0:case 11:case 14:case 15:vi(4,m,m.return);break;case 1:Lo(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Ve(n,r,g)}}break;case 5:Lo(m,m.return);break;case 22:if(m.memoizedState!==null){cv(h);continue}}p!==null?(p.return=m,K=p):cv(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Iy("display",a))}catch(g){Ve(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ve(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ur(t,e),Tr(e),n&4&&iv(e);break;case 21:break;default:ur(t,e),Tr(e)}}function Tr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ib(r)){var n=r;break e}r=r.return}throw Error(F(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ni(s,""),n.flags&=-33);var o=av(e);mf(e,o,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=av(e);ff(e,l,a);break;default:throw Error(F(161))}}catch(c){Ve(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vk(e,t,r){K=e,ub(e)}function ub(e,t,r){for(var n=(e.mode&1)!==0;K!==null;){var s=K,o=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||zl;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||xt;l=zl;var u=xt;if(zl=a,(xt=c)&&!u)for(K=s;K!==null;)a=K,c=a.child,a.tag===22&&a.memoizedState!==null?uv(s):c!==null?(c.return=a,K=c):uv(s);for(;o!==null;)K=o,ub(o),o=o.sibling;K=s,zl=l,xt=u}lv(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,K=o):lv(e)}}function lv(e){for(;K!==null;){var t=K;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xt||Ru(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!xt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:fr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&qg(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}qg(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Pi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}xt||t.flags&512&&hf(t)}catch(m){Ve(t,t.return,m)}}if(t===e){K=null;break}if(r=t.sibling,r!==null){r.return=t.return,K=r;break}K=t.return}}function cv(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var r=t.sibling;if(r!==null){r.return=t.return,K=r;break}K=t.return}}function uv(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ru(4,t)}catch(c){Ve(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ve(t,s,c)}}var o=t.return;try{hf(t)}catch(c){Ve(t,o,c)}break;case 5:var a=t.return;try{hf(t)}catch(c){Ve(t,a,c)}}}catch(c){Ve(t,t.return,c)}if(t===e){K=null;break}var l=t.sibling;if(l!==null){l.return=t.return,K=l;break}K=t.return}}var xk=Math.ceil,Gc=jn.ReactCurrentDispatcher,Qm=jn.ReactCurrentOwner,sr=jn.ReactCurrentBatchConfig,we=0,ot=null,Xe=null,ut=0,zt=0,$o=ms(0),tt=0,Ui=null,Ks=0,Au=0,Ym=0,xi=null,Ot=null,Xm=0,ga=1/0,rn=null,Qc=!1,pf=null,ss=null,Hl=!1,Xn=null,Yc=0,yi=0,gf=null,mc=-1,pc=0;function kt(){return we&6?qe():mc!==-1?mc:mc=qe()}function os(e){return e.mode&1?we&2&&ut!==0?ut&-ut:tk.transition!==null?(pc===0&&(pc=Gy()),pc):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:t0(e.type)),e):1}function wr(e,t,r,n){if(50<yi)throw yi=0,gf=null,Error(F(185));Zi(e,r,n),(!(we&2)||e!==ot)&&(e===ot&&(!(we&2)&&(Au|=r),tt===4&&Fn(e,ut)),$t(e,n),r===1&&we===0&&!(t.mode&1)&&(ga=qe()+500,Eu&&ps()))}function $t(e,t){var r=e.callbackNode;tN(e,t);var n=Oc(e,e===ot?ut:0);if(n===0)r!==null&&yg(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&yg(r),t===1)e.tag===0?ek(dv.bind(null,e)):b0(dv.bind(null,e)),YN(function(){!(we&6)&&ps()}),r=null;else{switch(Qy(n)){case 1:r=Sm;break;case 4:r=qy;break;case 16:r=Ac;break;case 536870912:r=Ky;break;default:r=Ac}r=xb(r,db.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function db(e,t){if(mc=-1,pc=0,we&6)throw Error(F(327));var r=e.callbackNode;if(Wo()&&e.callbackNode!==r)return null;var n=Oc(e,e===ot?ut:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Xc(e,n);else{t=n;var s=we;we|=2;var o=fb();(ot!==e||ut!==t)&&(rn=null,ga=qe()+500,Hs(e,t));do try{wk();break}catch(l){hb(e,l)}while(!0);Dm(),Gc.current=o,we=s,Xe!==null?t=0:(ot=null,ut=0,t=tt)}if(t!==0){if(t===2&&(s=Hh(e),s!==0&&(n=s,t=vf(e,s))),t===1)throw r=Ui,Hs(e,0),Fn(e,n),$t(e,qe()),r;if(t===6)Fn(e,n);else{if(s=e.current.alternate,!(n&30)&&!yk(s)&&(t=Xc(e,n),t===2&&(o=Hh(e),o!==0&&(n=o,t=vf(e,o))),t===1))throw r=Ui,Hs(e,0),Fn(e,n),$t(e,qe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(F(345));case 2:Ns(e,Ot,rn);break;case 3:if(Fn(e,n),(n&130023424)===n&&(t=Xm+500-qe(),10<t)){if(Oc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){kt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Yh(Ns.bind(null,e,Ot,rn),t);break}Ns(e,Ot,rn);break;case 4:if(Fn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-br(n);o=1<<a,a=t[a],a>s&&(s=a),n&=~o}if(n=s,n=qe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xk(n/1960))-n,10<n){e.timeoutHandle=Yh(Ns.bind(null,e,Ot,rn),n);break}Ns(e,Ot,rn);break;case 5:Ns(e,Ot,rn);break;default:throw Error(F(329))}}}return $t(e,qe()),e.callbackNode===r?db.bind(null,e):null}function vf(e,t){var r=xi;return e.current.memoizedState.isDehydrated&&(Hs(e,t).flags|=256),e=Xc(e,t),e!==2&&(t=Ot,Ot=r,t!==null&&xf(t)),e}function xf(e){Ot===null?Ot=e:Ot.push.apply(Ot,e)}function yk(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!_r(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fn(e,t){for(t&=~Ym,t&=~Au,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-br(t),n=1<<r;e[r]=-1,t&=~n}}function dv(e){if(we&6)throw Error(F(327));Wo();var t=Oc(e,0);if(!(t&1))return $t(e,qe()),null;var r=Xc(e,t);if(e.tag!==0&&r===2){var n=Hh(e);n!==0&&(t=n,r=vf(e,n))}if(r===1)throw r=Ui,Hs(e,0),Fn(e,t),$t(e,qe()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ns(e,Ot,rn),$t(e,qe()),null}function Jm(e,t){var r=we;we|=1;try{return e(t)}finally{we=r,we===0&&(ga=qe()+500,Eu&&ps())}}function Gs(e){Xn!==null&&Xn.tag===0&&!(we&6)&&Wo();var t=we;we|=1;var r=sr.transition,n=Pe;try{if(sr.transition=null,Pe=1,e)return e()}finally{Pe=n,sr.transition=r,we=t,!(we&6)&&ps()}}function Zm(){zt=$o.current,De($o)}function Hs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,QN(r)),Xe!==null)for(r=Xe.return;r!==null;){var n=r;switch(Om(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$c();break;case 3:ma(),De(Dt),De(bt),Hm();break;case 5:zm(n);break;case 4:ma();break;case 13:De(Fe);break;case 19:De(Fe);break;case 10:Lm(n.type._context);break;case 22:case 23:Zm()}r=r.return}if(ot=e,Xe=e=as(e.current,null),ut=zt=t,tt=0,Ui=null,Ym=Au=Ks=0,Ot=xi=null,As!==null){for(t=0;t<As.length;t++)if(r=As[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=s,n.next=a}r.pending=n}As=null}return e}function hb(e,t){do{var r=Xe;try{if(Dm(),dc.current=Kc,qc){for(var n=Ue.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}qc=!1}if(qs=0,st=Ze=Ue=null,gi=!1,Li=0,Qm.current=null,r===null||r.return===null){tt=1,Ui=t,Xe=null;break}e:{var o=e,a=r.return,l=r,c=t;if(t=ut,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Jg(a);if(p!==null){p.flags&=-257,Zg(p,a,l,o,t),p.mode&1&&Xg(o,u,t),t=p,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){Xg(o,u,t),ep();break e}c=Error(F(426))}}else if($e&&l.mode&1){var b=Jg(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Zg(b,a,l,o,t),Mm(pa(c,l));break e}}o=c=pa(c,l),tt!==4&&(tt=2),xi===null?xi=[o]:xi.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=Q0(o,c,t);Vg(o,y);break e;case 1:l=c;var x=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ss===null||!ss.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=Y0(o,l,t);Vg(o,_);break e}}o=o.return}while(o!==null)}pb(r)}catch(j){t=j,Xe===r&&r!==null&&(Xe=r=r.return);continue}break}while(!0)}function fb(){var e=Gc.current;return Gc.current=Kc,e===null?Kc:e}function ep(){(tt===0||tt===3||tt===2)&&(tt=4),ot===null||!(Ks&268435455)&&!(Au&268435455)||Fn(ot,ut)}function Xc(e,t){var r=we;we|=2;var n=fb();(ot!==e||ut!==t)&&(rn=null,Hs(e,t));do try{bk();break}catch(s){hb(e,s)}while(!0);if(Dm(),we=r,Gc.current=n,Xe!==null)throw Error(F(261));return ot=null,ut=0,tt}function bk(){for(;Xe!==null;)mb(Xe)}function wk(){for(;Xe!==null&&!qj();)mb(Xe)}function mb(e){var t=vb(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?pb(e):Xe=t,Qm.current=null}function pb(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=mk(r,t),r!==null){r.flags&=32767,Xe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tt=6,Xe=null;return}}else if(r=fk(r,t,zt),r!==null){Xe=r;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);tt===0&&(tt=5)}function Ns(e,t,r){var n=Pe,s=sr.transition;try{sr.transition=null,Pe=1,_k(e,t,r,n)}finally{sr.transition=s,Pe=n}return null}function _k(e,t,r,n){do Wo();while(Xn!==null);if(we&6)throw Error(F(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(rN(e,o),e===ot&&(Xe=ot=null,ut=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Hl||(Hl=!0,xb(Ac,function(){return Wo(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=sr.transition,sr.transition=null;var a=Pe;Pe=1;var l=we;we|=4,Qm.current=null,gk(e,r),cb(r,e),HN(Gh),Mc=!!Kh,Gh=Kh=null,e.current=r,vk(r),Kj(),we=l,Pe=a,sr.transition=o}else e.current=r;if(Hl&&(Hl=!1,Xn=e,Yc=s),o=e.pendingLanes,o===0&&(ss=null),Yj(r.stateNode),$t(e,qe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Qc)throw Qc=!1,e=pf,pf=null,e;return Yc&1&&e.tag!==0&&Wo(),o=e.pendingLanes,o&1?e===gf?yi++:(yi=0,gf=e):yi=0,ps(),null}function Wo(){if(Xn!==null){var e=Qy(Yc),t=sr.transition,r=Pe;try{if(sr.transition=null,Pe=16>e?16:e,Xn===null)var n=!1;else{if(e=Xn,Xn=null,Yc=0,we&6)throw Error(F(331));var s=we;for(we|=4,K=e.current;K!==null;){var o=K,a=o.child;if(K.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(K=u;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:vi(8,d,o)}var h=d.child;if(h!==null)h.return=d,K=h;else for(;K!==null;){d=K;var m=d.sibling,p=d.return;if(ab(d),d===u){K=null;break}if(m!==null){m.return=p,K=m;break}K=p}}}var v=o.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}K=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,K=a;else e:for(;K!==null;){if(o=K,o.flags&2048)switch(o.tag){case 0:case 11:case 15:vi(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,K=y;break e}K=o.return}}var x=e.current;for(K=x;K!==null;){a=K;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,K=w;else e:for(a=x;K!==null;){if(l=K,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ru(9,l)}}catch(j){Ve(l,l.return,j)}if(l===a){K=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,K=_;break e}K=l.return}}if(we=s,ps(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(Su,e)}catch{}n=!0}return n}finally{Pe=r,sr.transition=t}}return!1}function hv(e,t,r){t=pa(r,t),t=Q0(e,t,1),e=ns(e,t,1),t=kt(),e!==null&&(Zi(e,1,t),$t(e,t))}function Ve(e,t,r){if(e.tag===3)hv(e,e,r);else for(;t!==null;){if(t.tag===3){hv(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ss===null||!ss.has(n))){e=pa(r,e),e=Y0(t,e,1),t=ns(t,e,1),e=kt(),t!==null&&(Zi(t,1,e),$t(t,e));break}}t=t.return}}function Sk(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=kt(),e.pingedLanes|=e.suspendedLanes&r,ot===e&&(ut&r)===r&&(tt===4||tt===3&&(ut&130023424)===ut&&500>qe()-Xm?Hs(e,0):Ym|=r),$t(e,t)}function gb(e,t){t===0&&(e.mode&1?(t=Al,Al<<=1,!(Al&130023424)&&(Al=4194304)):t=1);var r=kt();e=yn(e,t),e!==null&&(Zi(e,t,r),$t(e,r))}function jk(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),gb(e,r)}function Nk(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(F(314))}n!==null&&n.delete(t),gb(e,r)}var vb;vb=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Dt.current)It=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return It=!1,hk(e,t,r);It=!!(e.flags&131072)}else It=!1,$e&&t.flags&1048576&&w0(t,zc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;fc(e,t),e=t.pendingProps;var s=da(t,bt.current);Bo(t,r),s=Wm(null,t,n,e,s,r);var o=Vm();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lt(n)?(o=!0,Fc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fm(t),s.updater=Tu,t.stateNode=s,s._reactInternals=t,nf(t,n,e,r),t=af(null,t,n,!0,o,r)):(t.tag=0,$e&&o&&Am(t),jt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(fc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Ck(n),e=fr(n,e),s){case 0:t=of(null,t,n,e,r);break e;case 1:t=rv(null,t,n,e,r);break e;case 11:t=ev(null,t,n,e,r);break e;case 14:t=tv(null,t,n,fr(n.type,e),r);break e}throw Error(F(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:fr(n,s),of(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:fr(n,s),rv(e,t,n,s,r);case 3:e:{if(eb(t),e===null)throw Error(F(387));n=t.pendingProps,o=t.memoizedState,s=o.element,C0(e,t),Wc(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=pa(Error(F(423)),t),t=nv(e,t,n,r,s);break e}else if(n!==s){s=pa(Error(F(424)),t),t=nv(e,t,n,r,s);break e}else for(Vt=rs(t.stateNode.containerInfo.firstChild),qt=t,$e=!0,xr=null,r=N0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ha(),n===s){t=bn(e,t,r);break e}jt(e,t,n,r)}t=t.child}return t;case 5:return E0(t),e===null&&ef(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,Qh(n,s)?a=null:o!==null&&Qh(n,o)&&(t.flags|=32),Z0(e,t),jt(e,t,a,r),t.child;case 6:return e===null&&ef(t),null;case 13:return tb(e,t,r);case 4:return Um(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=fa(t,null,n,r):jt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:fr(n,s),ev(e,t,n,s,r);case 7:return jt(e,t,t.pendingProps,r),t.child;case 8:return jt(e,t,t.pendingProps.children,r),t.child;case 12:return jt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,Oe(Hc,n._currentValue),n._currentValue=a,o!==null)if(_r(o.value,a)){if(o.children===s.children&&!Dt.current){t=bn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=hn(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),tf(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(F(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),tf(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}jt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Bo(t,r),s=ar(s),n=n(s),t.flags|=1,jt(e,t,n,r),t.child;case 14:return n=t.type,s=fr(n,t.pendingProps),s=fr(n.type,s),tv(e,t,n,s,r);case 15:return X0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:fr(n,s),fc(e,t),t.tag=1,Lt(n)?(e=!0,Fc(t)):e=!1,Bo(t,r),G0(t,n,s),nf(t,n,s,r),af(null,t,n,!0,e,r);case 19:return rb(e,t,r);case 22:return J0(e,t,r)}throw Error(F(156,t.tag))};function xb(e,t){return Vy(e,t)}function kk(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(e,t,r,n){return new kk(e,t,r,n)}function tp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ck(e){if(typeof e=="function")return tp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bm)return 11;if(e===wm)return 14}return 2}function as(e,t){var r=e.alternate;return r===null?(r=nr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function gc(e,t,r,n,s,o){var a=2;if(n=e,typeof e=="function")tp(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Eo:return Bs(r.children,s,o,t);case ym:a=8,s|=8;break;case Ch:return e=nr(12,r,t,s|2),e.elementType=Ch,e.lanes=o,e;case Eh:return e=nr(13,r,t,s),e.elementType=Eh,e.lanes=o,e;case Ph:return e=nr(19,r,t,s),e.elementType=Ph,e.lanes=o,e;case Ey:return Ou(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ky:a=10;break e;case Cy:a=9;break e;case bm:a=11;break e;case wm:a=14;break e;case Dn:a=16,n=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=nr(a,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Bs(e,t,r,n){return e=nr(7,e,n,t),e.lanes=r,e}function Ou(e,t,r,n){return e=nr(22,e,n,t),e.elementType=Ey,e.lanes=r,e.stateNode={isHidden:!1},e}function Yd(e,t,r){return e=nr(6,e,null,t),e.lanes=r,e}function Xd(e,t,r){return t=nr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ek(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rd(0),this.expirationTimes=Rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rd(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rp(e,t,r,n,s,o,a,l,c){return e=new Ek(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=nr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fm(o),e}function Pk(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Co,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function yb(e){if(!e)return ls;e=e._reactInternals;e:{if(so(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(Lt(r))return y0(e,r,t)}return t}function bb(e,t,r,n,s,o,a,l,c){return e=rp(r,n,!0,e,s,o,a,l,c),e.context=yb(null),r=e.current,n=kt(),s=os(r),o=hn(n,s),o.callback=t??null,ns(r,o,s),e.current.lanes=s,Zi(e,s,n),$t(e,n),e}function Mu(e,t,r,n){var s=t.current,o=kt(),a=os(s);return r=yb(r),t.context===null?t.context=r:t.pendingContext=r,t=hn(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ns(s,t,a),e!==null&&(wr(e,s,a,o),uc(e,s,a)),a}function Jc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function np(e,t){fv(e,t),(e=e.alternate)&&fv(e,t)}function Tk(){return null}var wb=typeof reportError=="function"?reportError:function(e){console.error(e)};function sp(e){this._internalRoot=e}Iu.prototype.render=sp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Mu(e,t,null,null)};Iu.prototype.unmount=sp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gs(function(){Mu(null,e,null,null)}),t[xn]=null}};function Iu(e){this._internalRoot=e}Iu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jy();e={blockedOn:null,target:e,priority:t};for(var r=0;r<$n.length&&t!==0&&t<$n[r].priority;r++);$n.splice(r,0,e),r===0&&e0(e)}};function op(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Du(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mv(){}function Rk(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=Jc(a);o.call(u)}}var a=bb(t,n,e,0,null,!1,!1,"",mv);return e._reactRootContainer=a,e[xn]=a.current,Ai(e.nodeType===8?e.parentNode:e),Gs(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Jc(c);l.call(u)}}var c=rp(e,0,!1,null,null,!1,!1,"",mv);return e._reactRootContainer=c,e[xn]=c.current,Ai(e.nodeType===8?e.parentNode:e),Gs(function(){Mu(t,c,r,n)}),c}function Lu(e,t,r,n,s){var o=r._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=Jc(a);l.call(c)}}Mu(t,a,e,s)}else a=Rk(r,t,e,s,n);return Jc(a)}Yy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ai(t.pendingLanes);r!==0&&(jm(t,r|1),$t(t,qe()),!(we&6)&&(ga=qe()+500,ps()))}break;case 13:Gs(function(){var n=yn(e,1);if(n!==null){var s=kt();wr(n,e,1,s)}}),np(e,1)}};Nm=function(e){if(e.tag===13){var t=yn(e,134217728);if(t!==null){var r=kt();wr(t,e,134217728,r)}np(e,134217728)}};Xy=function(e){if(e.tag===13){var t=os(e),r=yn(e,t);if(r!==null){var n=kt();wr(r,e,t,n)}np(e,t)}};Jy=function(){return Pe};Zy=function(e,t){var r=Pe;try{return Pe=e,t()}finally{Pe=r}};Fh=function(e,t,r){switch(t){case"input":if(Ah(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Cu(n);if(!s)throw Error(F(90));Ty(n),Ah(n,s)}}}break;case"textarea":Ay(e,r);break;case"select":t=r.value,t!=null&&Fo(e,!!r.multiple,t,!1)}};Fy=Jm;Uy=Gs;var Ak={usingClientEntryPoint:!1,Events:[tl,Ao,Cu,Ly,$y,Jm]},Xa={findFiberByHostInstance:Rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ok={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=By(e),e===null?null:e.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||Tk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bl.isDisabled&&Bl.supportsFiber)try{Su=Bl.inject(Ok),Ur=Bl}catch{}}Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ak;Yt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!op(t))throw Error(F(200));return Pk(e,t,null,r)};Yt.createRoot=function(e,t){if(!op(e))throw Error(F(299));var r=!1,n="",s=wb;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=rp(e,1,!1,null,null,r,!1,n,s),e[xn]=t.current,Ai(e.nodeType===8?e.parentNode:e),new sp(t)};Yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=By(t),e=e===null?null:e.stateNode,e};Yt.flushSync=function(e){return Gs(e)};Yt.hydrate=function(e,t,r){if(!Du(t))throw Error(F(200));return Lu(null,e,t,!0,r)};Yt.hydrateRoot=function(e,t,r){if(!op(e))throw Error(F(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",a=wb;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=bb(t,null,e,1,r??null,s,!1,o,a),e[xn]=t.current,Ai(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Iu(t)};Yt.render=function(e,t,r){if(!Du(t))throw Error(F(200));return Lu(null,e,t,!1,r)};Yt.unmountComponentAtNode=function(e){if(!Du(e))throw Error(F(40));return e._reactRootContainer?(Gs(function(){Lu(null,null,e,!1,function(){e._reactRootContainer=null,e[xn]=null})}),!0):!1};Yt.unstable_batchedUpdates=Jm;Yt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Du(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Lu(e,t,r,!1,n)};Yt.version="18.3.1-next-f1338f8080-20240426";function _b(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_b)}catch(e){console.error(e)}}_b(),_y.exports=Yt;var Na=_y.exports;const Sb=uy(Na),Mk=cy({__proto__:null,default:Sb},[Na]);var pv=Na;Nh.createRoot=pv.createRoot,Nh.hydrateRoot=pv.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Le.apply(this,arguments)}var Qe;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qe||(Qe={}));const gv="popstate";function Ik(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:a,hash:l}=n.location;return zi("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Qs(s)}return Lk(t,r,null,e)}function ve(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function va(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Dk(){return Math.random().toString(36).substr(2,8)}function vv(e,t){return{usr:e.state,key:e.key,idx:t}}function zi(e,t,r,n){return r===void 0&&(r=null),Le({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gs(t):t,{state:r,key:t&&t.key||n||Dk()})}function Qs(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Lk(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,a=s.history,l=Qe.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Le({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=Qe.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:g.location,delta:y})}function m(b,y){l=Qe.Push;let x=zi(g.location,b,y);u=d()+1;let w=vv(x,u),_=g.createHref(x);try{a.pushState(w,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}o&&c&&c({action:l,location:g.location,delta:1})}function p(b,y){l=Qe.Replace;let x=zi(g.location,b,y);u=d();let w=vv(x,u),_=g.createHref(x);a.replaceState(w,"",_),o&&c&&c({action:l,location:g.location,delta:0})}function v(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:Qs(b);return x=x.replace(/ $/,"%20"),ve(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let g={get action(){return l},get location(){return e(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(gv,h),c=b,()=>{s.removeEventListener(gv,h),c=null}},createHref(b){return t(s,b)},createURL:v,encodeLocation(b){let y=v(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(b){return a.go(b)}};return g}var Te;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Te||(Te={}));const $k=new Set(["lazy","caseSensitive","path","id","index","children"]);function Fk(e){return e.index===!0}function Zc(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((s,o)=>{let a=[...r,String(o)],l=typeof s.id=="string"?s.id:a.join("-");if(ve(s.index!==!0||!s.children,"Cannot specify children on an index route"),ve(!n[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),Fk(s)){let c=Le({},s,t(s),{id:l});return n[l]=c,c}else{let c=Le({},s,t(s),{id:l,children:void 0});return n[l]=c,s.children&&(c.children=Zc(s.children,t,a,n)),c}})}function Cs(e,t,r){return r===void 0&&(r="/"),vc(e,t,r,!1)}function vc(e,t,r,n){let s=typeof t=="string"?gs(t):t,o=ka(s.pathname||"/",r);if(o==null)return null;let a=jb(e);zk(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Jk(o);l=Yk(a[c],u,n)}return l}function Uk(e,t){let{route:r,pathname:n,params:s}=e;return{id:r.id,pathname:n,params:s,data:t[r.id],handle:r.handle}}function jb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(ve(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=fn([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(ve(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jb(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Gk(u,o.index),routesMeta:d})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of Nb(o.path))s(o,a,c)}),t}function Nb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let a=Nb(n.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function zk(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Qk(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Hk=/^:[\w-]+$/,Bk=3,Wk=2,Vk=1,qk=10,Kk=-2,xv=e=>e==="*";function Gk(e,t){let r=e.split("/"),n=r.length;return r.some(xv)&&(n+=Kk),t&&(n+=Wk),r.filter(s=>!xv(s)).reduce((s,o)=>s+(Hk.test(o)?Bk:o===""?Vk:qk),n)}function Qk(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Yk(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,s={},o="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",h=yv({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=yv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:fn([o,h.pathname]),pathnameBase:tC(fn([o,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(o=fn([o,h.pathnameBase]))}return a}function yv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Xk(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let g=l[h]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const v=l[h];return p&&!v?u[m]=void 0:u[m]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function Xk(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),va(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Jk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return va(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ka(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Zk(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?gs(e):e;return{pathname:r?r.startsWith("/")?r:eC(r,t):t,search:rC(n),hash:nC(s)}}function eC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Jd(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kb(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ap(e,t){let r=kb(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ip(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=gs(e):(s=Le({},e),ve(!s.pathname||!s.pathname.includes("?"),Jd("?","pathname","search",s)),ve(!s.pathname||!s.pathname.includes("#"),Jd("#","pathname","hash",s)),ve(!s.search||!s.search.includes("#"),Jd("#","search","hash",s)));let o=e===""||s.pathname==="",a=o?"/":s.pathname,l;if(a==null)l=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=Zk(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const fn=e=>e.join("/").replace(/\/\/+/g,"/"),tC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class eu{constructor(t,r,n,s){s===void 0&&(s=!1),this.status=t,this.statusText=r||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function $u(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Cb=["post","put","patch","delete"],sC=new Set(Cb),oC=["get",...Cb],aC=new Set(oC),iC=new Set([301,302,303,307,308]),lC=new Set([307,308]),Zd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ja={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},lp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uC=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Eb="remix-router-transitions";function dC(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",n=!r;ve(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(e.mapRouteProperties)s=e.mapRouteProperties;else if(e.detectErrorBoundary){let k=e.detectErrorBoundary;s=T=>({hasErrorBoundary:k(T)})}else s=uC;let o={},a=Zc(e.routes,s,void 0,o),l,c=e.basename||"/",u=e.dataStrategy||pC,d=e.patchRoutesOnNavigation,h=Le({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),m=null,p=new Set,v=null,g=null,b=null,y=e.hydrationData!=null,x=Cs(a,e.history.location,c),w=null;if(x==null&&!d){let k=At(404,{pathname:e.history.location.pathname}),{matches:T,route:M}=Tv(a);x=T,w={[M.id]:k}}x&&!e.hydrationData&&_l(x,a,e.history.location.pathname).active&&(x=null);let _;if(x)if(x.some(k=>k.route.lazy))_=!1;else if(!x.some(k=>k.route.loader))_=!0;else if(h.v7_partialHydration){let k=e.hydrationData?e.hydrationData.loaderData:null,T=e.hydrationData?e.hydrationData.errors:null;if(T){let M=x.findIndex($=>T[$.route.id]!==void 0);_=x.slice(0,M+1).every($=>!bf($.route,k,T))}else _=x.every(M=>!bf(M.route,k,T))}else _=e.hydrationData!=null;else if(_=!1,x=[],h.v7_partialHydration){let k=_l(null,a,e.history.location.pathname);k.active&&k.matches&&(x=k.matches)}let j,S={historyAction:e.history.action,location:e.history.location,matches:x,initialized:_,navigation:Zd,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||w,fetchers:new Map,blockers:new Map},C=Qe.Pop,E=!1,P,A=!1,I=new Map,R=null,L=!1,O=!1,V=[],H=new Set,W=new Map,D=0,U=-1,z=new Map,J=new Set,fe=new Map,oe=new Map,de=new Set,wt=new Map,at=new Map,Jt;function pl(){if(m=e.history.listen(k=>{let{action:T,location:M,delta:$}=k;if(Jt){Jt(),Jt=void 0;return}va(at.size===0||$!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let G=rg({currentLocation:S.location,nextLocation:M,historyAction:T});if(G&&$!=null){let te=new Promise(ae=>{Jt=ae});e.history.go($*-1),wl(G,{state:"blocked",location:M,proceed(){wl(G,{state:"proceeding",proceed:void 0,reset:void 0,location:M}),te.then(()=>e.history.go($))},reset(){let ae=new Map(S.blockers);ae.set(G,Ja),rt({blockers:ae})}});return}return Yr(T,M)}),r){PC(t,I);let k=()=>TC(t,I);t.addEventListener("pagehide",k),R=()=>t.removeEventListener("pagehide",k)}return S.initialized||Yr(Qe.Pop,S.location,{initialHydration:!0}),j}function gl(){m&&m(),R&&R(),p.clear(),P&&P.abort(),S.fetchers.forEach((k,T)=>bl(T)),S.blockers.forEach((k,T)=>tg(T))}function vl(k){return p.add(k),()=>p.delete(k)}function rt(k,T){T===void 0&&(T={}),S=Le({},S,k);let M=[],$=[];h.v7_fetcherPersist&&S.fetchers.forEach((G,te)=>{G.state==="idle"&&(de.has(te)?$.push(te):M.push(te))}),[...p].forEach(G=>G(S,{deletedFetchers:$,viewTransitionOpts:T.viewTransitionOpts,flushSync:T.flushSync===!0})),h.v7_fetcherPersist&&(M.forEach(G=>S.fetchers.delete(G)),$.forEach(G=>bl(G)))}function Qr(k,T,M){var $,G;let{flushSync:te}=M===void 0?{}:M,ae=S.actionData!=null&&S.navigation.formMethod!=null&&gr(S.navigation.formMethod)&&S.navigation.state==="loading"&&(($=k.state)==null?void 0:$._isRedirect)!==!0,Y;T.actionData?Object.keys(T.actionData).length>0?Y=T.actionData:Y=null:ae?Y=S.actionData:Y=null;let Z=T.loaderData?Ev(S.loaderData,T.loaderData,T.matches||[],T.errors):S.loaderData,Q=S.blockers;Q.size>0&&(Q=new Map(Q),Q.forEach((be,it)=>Q.set(it,Ja)));let re=E===!0||S.navigation.formMethod!=null&&gr(S.navigation.formMethod)&&((G=k.state)==null?void 0:G._isRedirect)!==!0;l&&(a=l,l=void 0),L||C===Qe.Pop||(C===Qe.Push?e.history.push(k,k.state):C===Qe.Replace&&e.history.replace(k,k.state));let ge;if(C===Qe.Pop){let be=I.get(S.location.pathname);be&&be.has(k.pathname)?ge={currentLocation:S.location,nextLocation:k}:I.has(k.pathname)&&(ge={currentLocation:k,nextLocation:S.location})}else if(A){let be=I.get(S.location.pathname);be?be.add(k.pathname):(be=new Set([k.pathname]),I.set(S.location.pathname,be)),ge={currentLocation:S.location,nextLocation:k}}rt(Le({},T,{actionData:Y,loaderData:Z,historyAction:C,location:k,initialized:!0,navigation:Zd,revalidation:"idle",restoreScrollPosition:sg(k,T.matches||S.matches),preventScrollReset:re,blockers:Q}),{viewTransitionOpts:ge,flushSync:te===!0}),C=Qe.Pop,E=!1,A=!1,L=!1,O=!1,V=[]}async function Nn(k,T){if(typeof k=="number"){e.history.go(k);return}let M=yf(S.location,S.matches,c,h.v7_prependBasename,k,h.v7_relativeSplatPath,T==null?void 0:T.fromRouteId,T==null?void 0:T.relative),{path:$,submission:G,error:te}=bv(h.v7_normalizeFormMethod,!1,M,T),ae=S.location,Y=zi(S.location,$,T&&T.state);Y=Le({},Y,e.history.encodeLocation(Y));let Z=T&&T.replace!=null?T.replace:void 0,Q=Qe.Push;Z===!0?Q=Qe.Replace:Z===!1||G!=null&&gr(G.formMethod)&&G.formAction===S.location.pathname+S.location.search&&(Q=Qe.Replace);let re=T&&"preventScrollReset"in T?T.preventScrollReset===!0:void 0,ge=(T&&T.flushSync)===!0,be=rg({currentLocation:ae,nextLocation:Y,historyAction:Q});if(be){wl(be,{state:"blocked",location:Y,proceed(){wl(be,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),Nn(k,T)},reset(){let it=new Map(S.blockers);it.set(be,Ja),rt({blockers:it})}});return}return await Yr(Q,Y,{submission:G,pendingError:te,preventScrollReset:re,replace:T&&T.replace,enableViewTransition:T&&T.viewTransition,flushSync:ge})}function xl(){if(wd(),rt({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){Yr(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}Yr(C||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:A===!0})}}async function Yr(k,T,M){P&&P.abort(),P=null,C=k,L=(M&&M.startUninterruptedRevalidation)===!0,rj(S.location,S.matches),E=(M&&M.preventScrollReset)===!0,A=(M&&M.enableViewTransition)===!0;let $=l||a,G=M&&M.overrideNavigation,te=Cs($,T,c),ae=(M&&M.flushSync)===!0,Y=_l(te,$,T.pathname);if(Y.active&&Y.matches&&(te=Y.matches),!te){let{error:Re,notFoundMatches:Se,route:He}=_d(T.pathname);Qr(T,{matches:Se,loaderData:{},errors:{[He.id]:Re}},{flushSync:ae});return}if(S.initialized&&!O&&wC(S.location,T)&&!(M&&M.submission&&gr(M.submission.formMethod))){Qr(T,{matches:te},{flushSync:ae});return}P=new AbortController;let Z=go(e.history,T,P.signal,M&&M.submission),Q;if(M&&M.pendingError)Q=[Es(te).route.id,{type:Te.error,error:M.pendingError}];else if(M&&M.submission&&gr(M.submission.formMethod)){let Re=await yd(Z,T,M.submission,te,Y.active,{replace:M.replace,flushSync:ae});if(Re.shortCircuited)return;if(Re.pendingActionResult){let[Se,He]=Re.pendingActionResult;if(Ht(He)&&$u(He.error)&&He.error.status===404){P=null,Qr(T,{matches:Re.matches,loaderData:{},errors:{[Se]:He.error}});return}}te=Re.matches||te,Q=Re.pendingActionResult,G=eh(T,M.submission),ae=!1,Y.active=!1,Z=go(e.history,Z.url,Z.signal)}let{shortCircuited:re,matches:ge,loaderData:be,errors:it}=await bd(Z,T,te,Y.active,G,M&&M.submission,M&&M.fetcherSubmission,M&&M.replace,M&&M.initialHydration===!0,ae,Q);re||(P=null,Qr(T,Le({matches:ge||te},Pv(Q),{loaderData:be,errors:it})))}async function yd(k,T,M,$,G,te){te===void 0&&(te={}),wd();let ae=CC(T,M);if(rt({navigation:ae},{flushSync:te.flushSync===!0}),G){let Q=await Sl($,T.pathname,k.signal);if(Q.type==="aborted")return{shortCircuited:!0};if(Q.type==="error"){let re=Es(Q.partialMatches).route.id;return{matches:Q.partialMatches,pendingActionResult:[re,{type:Te.error,error:Q.error}]}}else if(Q.matches)$=Q.matches;else{let{notFoundMatches:re,error:ge,route:be}=_d(T.pathname);return{matches:re,pendingActionResult:[be.id,{type:Te.error,error:ge}]}}}let Y,Z=li($,T);if(!Z.route.action&&!Z.route.lazy)Y={type:Te.error,error:At(405,{method:k.method,pathname:T.pathname,routeId:Z.route.id})};else if(Y=(await Ua("action",S,k,[Z],$,null))[Z.route.id],k.signal.aborted)return{shortCircuited:!0};if(Ms(Y)){let Q;return te&&te.replace!=null?Q=te.replace:Q=Nv(Y.response.headers.get("Location"),new URL(k.url),c)===S.location.pathname+S.location.search,await bs(k,Y,!0,{submission:M,replace:Q}),{shortCircuited:!0}}if(Jn(Y))throw At(400,{type:"defer-action"});if(Ht(Y)){let Q=Es($,Z.route.id);return(te&&te.replace)!==!0&&(C=Qe.Push),{matches:$,pendingActionResult:[Q.route.id,Y]}}return{matches:$,pendingActionResult:[Z.route.id,Y]}}async function bd(k,T,M,$,G,te,ae,Y,Z,Q,re){let ge=G||eh(T,te),be=te||ae||Av(ge),it=!L&&(!h.v7_partialHydration||!Z);if($){if(it){let Be=yl(re);rt(Le({navigation:ge},Be!==void 0?{actionData:Be}:{}),{flushSync:Q})}let _e=await Sl(M,T.pathname,k.signal);if(_e.type==="aborted")return{shortCircuited:!0};if(_e.type==="error"){let Be=Es(_e.partialMatches).route.id;return{matches:_e.partialMatches,loaderData:{},errors:{[Be]:_e.error}}}else if(_e.matches)M=_e.matches;else{let{error:Be,notFoundMatches:ho,route:Ba}=_d(T.pathname);return{matches:ho,loaderData:{},errors:{[Ba.id]:Be}}}}let Re=l||a,[Se,He]=_v(e.history,S,M,be,T,h.v7_partialHydration&&Z===!0,h.v7_skipActionErrorRevalidation,O,V,H,de,fe,J,Re,c,re);if(Sd(_e=>!(M&&M.some(Be=>Be.route.id===_e))||Se&&Se.some(Be=>Be.route.id===_e)),U=++D,Se.length===0&&He.length===0){let _e=Zp();return Qr(T,Le({matches:M,loaderData:{},errors:re&&Ht(re[1])?{[re[0]]:re[1].error}:null},Pv(re),_e?{fetchers:new Map(S.fetchers)}:{}),{flushSync:Q}),{shortCircuited:!0}}if(it){let _e={};if(!$){_e.navigation=ge;let Be=yl(re);Be!==void 0&&(_e.actionData=Be)}He.length>0&&(_e.fetchers=co(He)),rt(_e,{flushSync:Q})}He.forEach(_e=>{Cn(_e.key),_e.controller&&W.set(_e.key,_e.controller)});let uo=()=>He.forEach(_e=>Cn(_e.key));P&&P.signal.addEventListener("abort",uo);let{loaderResults:za,fetcherResults:Jr}=await Yp(S,M,Se,He,k);if(k.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",uo),He.forEach(_e=>W.delete(_e.key));let Pr=Wl(za);if(Pr)return await bs(k,Pr.result,!0,{replace:Y}),{shortCircuited:!0};if(Pr=Wl(Jr),Pr)return J.add(Pr.key),await bs(k,Pr.result,!0,{replace:Y}),{shortCircuited:!0};let{loaderData:jd,errors:Ha}=Cv(S,M,za,re,He,Jr,wt);wt.forEach((_e,Be)=>{_e.subscribe(ho=>{(ho||_e.done)&&wt.delete(Be)})}),h.v7_partialHydration&&Z&&S.errors&&(Ha=Le({},S.errors,Ha));let ws=Zp(),jl=eg(U),Nl=ws||jl||He.length>0;return Le({matches:M,loaderData:jd,errors:Ha},Nl?{fetchers:new Map(S.fetchers)}:{})}function yl(k){if(k&&!Ht(k[1]))return{[k[0]]:k[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function co(k){return k.forEach(T=>{let M=S.fetchers.get(T.key),$=Za(void 0,M?M.data:void 0);S.fetchers.set(T.key,$)}),new Map(S.fetchers)}function YS(k,T,M,$){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Cn(k);let G=($&&$.flushSync)===!0,te=l||a,ae=yf(S.location,S.matches,c,h.v7_prependBasename,M,h.v7_relativeSplatPath,T,$==null?void 0:$.relative),Y=Cs(te,ae,c),Z=_l(Y,te,ae);if(Z.active&&Z.matches&&(Y=Z.matches),!Y){Xr(k,T,At(404,{pathname:ae}),{flushSync:G});return}let{path:Q,submission:re,error:ge}=bv(h.v7_normalizeFormMethod,!0,ae,$);if(ge){Xr(k,T,ge,{flushSync:G});return}let be=li(Y,Q),it=($&&$.preventScrollReset)===!0;if(re&&gr(re.formMethod)){XS(k,T,Q,be,Y,Z.active,G,it,re);return}fe.set(k,{routeId:T,path:Q}),JS(k,T,Q,be,Y,Z.active,G,it,re)}async function XS(k,T,M,$,G,te,ae,Y,Z){wd(),fe.delete(k);function Q(Ge){if(!Ge.route.action&&!Ge.route.lazy){let fo=At(405,{method:Z.formMethod,pathname:M,routeId:T});return Xr(k,T,fo,{flushSync:ae}),!0}return!1}if(!te&&Q($))return;let re=S.fetchers.get(k);kn(k,EC(Z,re),{flushSync:ae});let ge=new AbortController,be=go(e.history,M,ge.signal,Z);if(te){let Ge=await Sl(G,M,be.signal);if(Ge.type==="aborted")return;if(Ge.type==="error"){Xr(k,T,Ge.error,{flushSync:ae});return}else if(Ge.matches){if(G=Ge.matches,$=li(G,M),Q($))return}else{Xr(k,T,At(404,{pathname:M}),{flushSync:ae});return}}W.set(k,ge);let it=D,Se=(await Ua("action",S,be,[$],G,k))[$.route.id];if(be.signal.aborted){W.get(k)===ge&&W.delete(k);return}if(h.v7_fetcherPersist&&de.has(k)){if(Ms(Se)||Ht(Se)){kn(k,An(void 0));return}}else{if(Ms(Se))if(W.delete(k),U>it){kn(k,An(void 0));return}else return J.add(k),kn(k,Za(Z)),bs(be,Se,!1,{fetcherSubmission:Z,preventScrollReset:Y});if(Ht(Se)){Xr(k,T,Se.error);return}}if(Jn(Se))throw At(400,{type:"defer-action"});let He=S.navigation.location||S.location,uo=go(e.history,He,ge.signal),za=l||a,Jr=S.navigation.state!=="idle"?Cs(za,S.navigation.location,c):S.matches;ve(Jr,"Didn't find any matches after fetcher action");let Pr=++D;z.set(k,Pr);let jd=Za(Z,Se.data);S.fetchers.set(k,jd);let[Ha,ws]=_v(e.history,S,Jr,Z,He,!1,h.v7_skipActionErrorRevalidation,O,V,H,de,fe,J,za,c,[$.route.id,Se]);ws.filter(Ge=>Ge.key!==k).forEach(Ge=>{let fo=Ge.key,og=S.fetchers.get(fo),oj=Za(void 0,og?og.data:void 0);S.fetchers.set(fo,oj),Cn(fo),Ge.controller&&W.set(fo,Ge.controller)}),rt({fetchers:new Map(S.fetchers)});let jl=()=>ws.forEach(Ge=>Cn(Ge.key));ge.signal.addEventListener("abort",jl);let{loaderResults:Nl,fetcherResults:_e}=await Yp(S,Jr,Ha,ws,uo);if(ge.signal.aborted)return;ge.signal.removeEventListener("abort",jl),z.delete(k),W.delete(k),ws.forEach(Ge=>W.delete(Ge.key));let Be=Wl(Nl);if(Be)return bs(uo,Be.result,!1,{preventScrollReset:Y});if(Be=Wl(_e),Be)return J.add(Be.key),bs(uo,Be.result,!1,{preventScrollReset:Y});let{loaderData:ho,errors:Ba}=Cv(S,Jr,Nl,void 0,ws,_e,wt);if(S.fetchers.has(k)){let Ge=An(Se.data);S.fetchers.set(k,Ge)}eg(Pr),S.navigation.state==="loading"&&Pr>U?(ve(C,"Expected pending action"),P&&P.abort(),Qr(S.navigation.location,{matches:Jr,loaderData:ho,errors:Ba,fetchers:new Map(S.fetchers)})):(rt({errors:Ba,loaderData:Ev(S.loaderData,ho,Jr,Ba),fetchers:new Map(S.fetchers)}),O=!1)}async function JS(k,T,M,$,G,te,ae,Y,Z){let Q=S.fetchers.get(k);kn(k,Za(Z,Q?Q.data:void 0),{flushSync:ae});let re=new AbortController,ge=go(e.history,M,re.signal);if(te){let Se=await Sl(G,M,ge.signal);if(Se.type==="aborted")return;if(Se.type==="error"){Xr(k,T,Se.error,{flushSync:ae});return}else if(Se.matches)G=Se.matches,$=li(G,M);else{Xr(k,T,At(404,{pathname:M}),{flushSync:ae});return}}W.set(k,re);let be=D,Re=(await Ua("loader",S,ge,[$],G,k))[$.route.id];if(Jn(Re)&&(Re=await cp(Re,ge.signal,!0)||Re),W.get(k)===re&&W.delete(k),!ge.signal.aborted){if(de.has(k)){kn(k,An(void 0));return}if(Ms(Re))if(U>be){kn(k,An(void 0));return}else{J.add(k),await bs(ge,Re,!1,{preventScrollReset:Y});return}if(Ht(Re)){Xr(k,T,Re.error);return}ve(!Jn(Re),"Unhandled fetcher deferred data"),kn(k,An(Re.data))}}async function bs(k,T,M,$){let{submission:G,fetcherSubmission:te,preventScrollReset:ae,replace:Y}=$===void 0?{}:$;T.response.headers.has("X-Remix-Revalidate")&&(O=!0);let Z=T.response.headers.get("Location");ve(Z,"Expected a Location header on the redirect Response"),Z=Nv(Z,new URL(k.url),c);let Q=zi(S.location,Z,{_isRedirect:!0});if(r){let Se=!1;if(T.response.headers.has("X-Remix-Reload-Document"))Se=!0;else if(lp.test(Z)){const He=e.history.createURL(Z);Se=He.origin!==t.location.origin||ka(He.pathname,c)==null}if(Se){Y?t.location.replace(Z):t.location.assign(Z);return}}P=null;let re=Y===!0||T.response.headers.has("X-Remix-Replace")?Qe.Replace:Qe.Push,{formMethod:ge,formAction:be,formEncType:it}=S.navigation;!G&&!te&&ge&&be&&it&&(G=Av(S.navigation));let Re=G||te;if(lC.has(T.response.status)&&Re&&gr(Re.formMethod))await Yr(re,Q,{submission:Le({},Re,{formAction:Z}),preventScrollReset:ae||E,enableViewTransition:M?A:void 0});else{let Se=eh(Q,G);await Yr(re,Q,{overrideNavigation:Se,fetcherSubmission:te,preventScrollReset:ae||E,enableViewTransition:M?A:void 0})}}async function Ua(k,T,M,$,G,te){let ae,Y={};try{ae=await gC(u,k,T,M,$,G,te,o,s)}catch(Z){return $.forEach(Q=>{Y[Q.route.id]={type:Te.error,error:Z}}),Y}for(let[Z,Q]of Object.entries(ae))if(_C(Q)){let re=Q.result;Y[Z]={type:Te.redirect,response:yC(re,M,Z,G,c,h.v7_relativeSplatPath)}}else Y[Z]=await xC(Q);return Y}async function Yp(k,T,M,$,G){let te=k.matches,ae=Ua("loader",k,G,M,T,null),Y=Promise.all($.map(async re=>{if(re.matches&&re.match&&re.controller){let be=(await Ua("loader",k,go(e.history,re.path,re.controller.signal),[re.match],re.matches,re.key))[re.match.route.id];return{[re.key]:be}}else return Promise.resolve({[re.key]:{type:Te.error,error:At(404,{pathname:re.path})}})})),Z=await ae,Q=(await Y).reduce((re,ge)=>Object.assign(re,ge),{});return await Promise.all([NC(T,Z,G.signal,te,k.loaderData),kC(T,Q,$)]),{loaderResults:Z,fetcherResults:Q}}function wd(){O=!0,V.push(...Sd()),fe.forEach((k,T)=>{W.has(T)&&H.add(T),Cn(T)})}function kn(k,T,M){M===void 0&&(M={}),S.fetchers.set(k,T),rt({fetchers:new Map(S.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function Xr(k,T,M,$){$===void 0&&($={});let G=Es(S.matches,T);bl(k),rt({errors:{[G.route.id]:M},fetchers:new Map(S.fetchers)},{flushSync:($&&$.flushSync)===!0})}function Xp(k){return h.v7_fetcherPersist&&(oe.set(k,(oe.get(k)||0)+1),de.has(k)&&de.delete(k)),S.fetchers.get(k)||cC}function bl(k){let T=S.fetchers.get(k);W.has(k)&&!(T&&T.state==="loading"&&z.has(k))&&Cn(k),fe.delete(k),z.delete(k),J.delete(k),de.delete(k),H.delete(k),S.fetchers.delete(k)}function ZS(k){if(h.v7_fetcherPersist){let T=(oe.get(k)||0)-1;T<=0?(oe.delete(k),de.add(k)):oe.set(k,T)}else bl(k);rt({fetchers:new Map(S.fetchers)})}function Cn(k){let T=W.get(k);T&&(T.abort(),W.delete(k))}function Jp(k){for(let T of k){let M=Xp(T),$=An(M.data);S.fetchers.set(T,$)}}function Zp(){let k=[],T=!1;for(let M of J){let $=S.fetchers.get(M);ve($,"Expected fetcher: "+M),$.state==="loading"&&(J.delete(M),k.push(M),T=!0)}return Jp(k),T}function eg(k){let T=[];for(let[M,$]of z)if($<k){let G=S.fetchers.get(M);ve(G,"Expected fetcher: "+M),G.state==="loading"&&(Cn(M),z.delete(M),T.push(M))}return Jp(T),T.length>0}function ej(k,T){let M=S.blockers.get(k)||Ja;return at.get(k)!==T&&at.set(k,T),M}function tg(k){S.blockers.delete(k),at.delete(k)}function wl(k,T){let M=S.blockers.get(k)||Ja;ve(M.state==="unblocked"&&T.state==="blocked"||M.state==="blocked"&&T.state==="blocked"||M.state==="blocked"&&T.state==="proceeding"||M.state==="blocked"&&T.state==="unblocked"||M.state==="proceeding"&&T.state==="unblocked","Invalid blocker state transition: "+M.state+" -> "+T.state);let $=new Map(S.blockers);$.set(k,T),rt({blockers:$})}function rg(k){let{currentLocation:T,nextLocation:M,historyAction:$}=k;if(at.size===0)return;at.size>1&&va(!1,"A router only supports one blocker at a time");let G=Array.from(at.entries()),[te,ae]=G[G.length-1],Y=S.blockers.get(te);if(!(Y&&Y.state==="proceeding")&&ae({currentLocation:T,nextLocation:M,historyAction:$}))return te}function _d(k){let T=At(404,{pathname:k}),M=l||a,{matches:$,route:G}=Tv(M);return Sd(),{notFoundMatches:$,route:G,error:T}}function Sd(k){let T=[];return wt.forEach((M,$)=>{(!k||k($))&&(M.cancel(),T.push($),wt.delete($))}),T}function tj(k,T,M){if(v=k,b=T,g=M||null,!y&&S.navigation===Zd){y=!0;let $=sg(S.location,S.matches);$!=null&&rt({restoreScrollPosition:$})}return()=>{v=null,b=null,g=null}}function ng(k,T){return g&&g(k,T.map($=>Uk($,S.loaderData)))||k.key}function rj(k,T){if(v&&b){let M=ng(k,T);v[M]=b()}}function sg(k,T){if(v){let M=ng(k,T),$=v[M];if(typeof $=="number")return $}return null}function _l(k,T,M){if(d)if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:vc(T,M,c,!0)}}else return{active:!0,matches:vc(T,M,c,!0)||[]};return{active:!1,matches:null}}async function Sl(k,T,M){if(!d)return{type:"success",matches:k};let $=k;for(;;){let G=l==null,te=l||a,ae=o;try{await d({path:T,matches:$,patch:(Q,re)=>{M.aborted||jv(Q,re,te,ae,s)}})}catch(Q){return{type:"error",error:Q,partialMatches:$}}finally{G&&!M.aborted&&(a=[...a])}if(M.aborted)return{type:"aborted"};let Y=Cs(te,T,c);if(Y)return{type:"success",matches:Y};let Z=vc(te,T,c,!0);if(!Z||$.length===Z.length&&$.every((Q,re)=>Q.route.id===Z[re].route.id))return{type:"success",matches:null};$=Z}}function nj(k){o={},l=Zc(k,s,void 0,o)}function sj(k,T){let M=l==null;jv(k,T,l||a,o,s),M&&(a=[...a],rt({}))}return j={get basename(){return c},get future(){return h},get state(){return S},get routes(){return a},get window(){return t},initialize:pl,subscribe:vl,enableScrollRestoration:tj,navigate:Nn,fetch:YS,revalidate:xl,createHref:k=>e.history.createHref(k),encodeLocation:k=>e.history.encodeLocation(k),getFetcher:Xp,deleteFetcher:ZS,dispose:gl,getBlocker:ej,deleteBlocker:tg,patchRoutes:sj,_internalFetchControllers:W,_internalActiveDeferreds:wt,_internalSetRoutes:nj},j}function hC(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function yf(e,t,r,n,s,o,a,l){let c,u;if(a){c=[];for(let h of t)if(c.push(h),h.route.id===a){u=h;break}}else c=t,u=t[t.length-1];let d=ip(s||".",ap(c,o),ka(e.pathname,r)||e.pathname,l==="path");if(s==null&&(d.search=e.search,d.hash=e.hash),(s==null||s===""||s===".")&&u){let h=up(d.search);if(u.route.index&&!h)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let m=new URLSearchParams(d.search),p=m.getAll("index");m.delete("index"),p.filter(g=>g).forEach(g=>m.append("index",g));let v=m.toString();d.search=v?"?"+v:""}}return n&&r!=="/"&&(d.pathname=d.pathname==="/"?r:fn([r,d.pathname])),Qs(d)}function bv(e,t,r,n){if(!n||!hC(n))return{path:r};if(n.formMethod&&!jC(n.formMethod))return{path:r,error:At(405,{method:n.formMethod})};let s=()=>({path:r,error:At(400,{type:"invalid-body"})}),o=n.formMethod||"get",a=e?o.toUpperCase():o.toLowerCase(),l=Rb(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!gr(a))return s();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,v)=>{let[g,b]=v;return""+p+g+"="+b+`
`},""):String(n.body);return{path:r,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!gr(a))return s();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch{return s()}}}ve(typeof FormData=="function","FormData is not available in this environment");let c,u;if(n.formData)c=wf(n.formData),u=n.formData;else if(n.body instanceof FormData)c=wf(n.body),u=n.body;else if(n.body instanceof URLSearchParams)c=n.body,u=kv(c);else if(n.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(n.body),u=kv(c)}catch{return s()}let d={formMethod:a,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(gr(d.formMethod))return{path:r,submission:d};let h=gs(r);return t&&h.search&&up(h.search)&&c.append("index",""),h.search="?"+c,{path:Qs(h),submission:d}}function wv(e,t,r){r===void 0&&(r=!1);let n=e.findIndex(s=>s.route.id===t);return n>=0?e.slice(0,r?n+1:n):e}function _v(e,t,r,n,s,o,a,l,c,u,d,h,m,p,v,g){let b=g?Ht(g[1])?g[1].error:g[1].data:void 0,y=e.createURL(t.location),x=e.createURL(s),w=r;o&&t.errors?w=wv(r,Object.keys(t.errors)[0],!0):g&&Ht(g[1])&&(w=wv(r,g[0]));let _=g?g[1].statusCode:void 0,j=a&&_&&_>=400,S=w.filter((E,P)=>{let{route:A}=E;if(A.lazy)return!0;if(A.loader==null)return!1;if(o)return bf(A,t.loaderData,t.errors);if(fC(t.loaderData,t.matches[P],E)||c.some(L=>L===E.route.id))return!0;let I=t.matches[P],R=E;return Sv(E,Le({currentUrl:y,currentParams:I.params,nextUrl:x,nextParams:R.params},n,{actionResult:b,actionStatus:_,defaultShouldRevalidate:j?!1:l||y.pathname+y.search===x.pathname+x.search||y.search!==x.search||Pb(I,R)}))}),C=[];return h.forEach((E,P)=>{if(o||!r.some(O=>O.route.id===E.routeId)||d.has(P))return;let A=Cs(p,E.path,v);if(!A){C.push({key:P,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let I=t.fetchers.get(P),R=li(A,E.path),L=!1;m.has(P)?L=!1:u.has(P)?(u.delete(P),L=!0):I&&I.state!=="idle"&&I.data===void 0?L=l:L=Sv(R,Le({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:x,nextParams:r[r.length-1].params},n,{actionResult:b,actionStatus:_,defaultShouldRevalidate:j?!1:l})),L&&C.push({key:P,routeId:E.routeId,path:E.path,matches:A,match:R,controller:new AbortController})}),[S,C]}function bf(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&t[e.id]!==void 0,s=r!=null&&r[e.id]!==void 0;return!n&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!s}function fC(e,t,r){let n=!t||r.route.id!==t.route.id,s=e[r.route.id]===void 0;return n||s}function Pb(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Sv(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function jv(e,t,r,n,s){var o;let a;if(e){let u=n[e];ve(u,"No route found to patch children into: routeId = "+e),u.children||(u.children=[]),a=u.children}else a=r;let l=t.filter(u=>!a.some(d=>Tb(u,d))),c=Zc(l,s,[e||"_","patch",String(((o=a)==null?void 0:o.length)||"0")],n);a.push(...c)}function Tb(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var s;return(s=t.children)==null?void 0:s.some(o=>Tb(r,o))}):!1}async function mC(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let s=r[e.id];ve(s,"No route found in manifest");let o={};for(let a in n){let c=s[a]!==void 0&&a!=="hasErrorBoundary";va(!c,'Route "'+s.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!c&&!$k.has(a)&&(o[a]=n[a])}Object.assign(s,o),Object.assign(s,Le({},t(s),{lazy:void 0}))}async function pC(e){let{matches:t}=e,r=t.filter(s=>s.shouldLoad);return(await Promise.all(r.map(s=>s.resolve()))).reduce((s,o,a)=>Object.assign(s,{[r[a].route.id]:o}),{})}async function gC(e,t,r,n,s,o,a,l,c,u){let d=o.map(p=>p.route.lazy?mC(p.route,c,l):void 0),h=o.map((p,v)=>{let g=d[v],b=s.some(x=>x.route.id===p.route.id);return Le({},p,{shouldLoad:b,resolve:async x=>(x&&n.method==="GET"&&(p.route.lazy||p.route.loader)&&(b=!0),b?vC(t,n,p,g,x,u):Promise.resolve({type:Te.data,result:void 0}))})}),m=await e({matches:h,request:n,params:o[0].params,fetcherKey:a,context:u});try{await Promise.all(d)}catch{}return m}async function vC(e,t,r,n,s,o){let a,l,c=u=>{let d,h=new Promise((v,g)=>d=g);l=()=>d(),t.signal.addEventListener("abort",l);let m=v=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+r.route.id+"]"))):u({request:t,params:r.params,context:o},...v!==void 0?[v]:[]),p=(async()=>{try{return{type:"data",result:await(s?s(g=>m(g)):m())}}catch(v){return{type:"error",result:v}}})();return Promise.race([p,h])};try{let u=r.route[e];if(n)if(u){let d,[h]=await Promise.all([c(u).catch(m=>{d=m}),n]);if(d!==void 0)throw d;a=h}else if(await n,u=r.route[e],u)a=await c(u);else if(e==="action"){let d=new URL(t.url),h=d.pathname+d.search;throw At(405,{method:t.method,pathname:h,routeId:r.route.id})}else return{type:Te.data,result:void 0};else if(u)a=await c(u);else{let d=new URL(t.url),h=d.pathname+d.search;throw At(404,{pathname:h})}ve(a.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Te.error,result:u}}finally{l&&t.signal.removeEventListener("abort",l)}return a}async function xC(e){let{result:t,type:r}=e;if(Ab(t)){let u;try{let d=t.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?t.body==null?u=null:u=await t.json():u=await t.text()}catch(d){return{type:Te.error,error:d}}return r===Te.error?{type:Te.error,error:new eu(t.status,t.statusText,u),statusCode:t.status,headers:t.headers}:{type:Te.data,data:u,statusCode:t.status,headers:t.headers}}if(r===Te.error){if(Rv(t)){var n;if(t.data instanceof Error){var s;return{type:Te.error,error:t.data,statusCode:(s=t.init)==null?void 0:s.status}}t=new eu(((n=t.init)==null?void 0:n.status)||500,void 0,t.data)}return{type:Te.error,error:t,statusCode:$u(t)?t.status:void 0}}if(SC(t)){var o,a;return{type:Te.deferred,deferredData:t,statusCode:(o=t.init)==null?void 0:o.status,headers:((a=t.init)==null?void 0:a.headers)&&new Headers(t.init.headers)}}if(Rv(t)){var l,c;return{type:Te.data,data:t.data,statusCode:(l=t.init)==null?void 0:l.status,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}}return{type:Te.data,data:t}}function yC(e,t,r,n,s,o){let a=e.headers.get("Location");if(ve(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!lp.test(a)){let l=n.slice(0,n.findIndex(c=>c.route.id===r)+1);a=yf(new URL(t.url),l,s,!0,a,o),e.headers.set("Location",a)}return e}function Nv(e,t,r){if(lp.test(e)){let n=e,s=n.startsWith("//")?new URL(t.protocol+n):new URL(n),o=ka(s.pathname,r)!=null;if(s.origin===t.origin&&o)return s.pathname+s.search+s.hash}return e}function go(e,t,r,n){let s=e.createURL(Rb(t)).toString(),o={signal:r};if(n&&gr(n.formMethod)){let{formMethod:a,formEncType:l}=n;o.method=a.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(n.json)):l==="text/plain"?o.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?o.body=wf(n.formData):o.body=n.formData}return new Request(s,o)}function wf(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function kv(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function bC(e,t,r,n,s){let o={},a=null,l,c=!1,u={},d=r&&Ht(r[1])?r[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let m=h.route.id,p=t[m];if(ve(!Ms(p),"Cannot handle redirect results in processLoaderData"),Ht(p)){let v=p.error;d!==void 0&&(v=d,d=void 0),a=a||{};{let g=Es(e,m);a[g.route.id]==null&&(a[g.route.id]=v)}o[m]=void 0,c||(c=!0,l=$u(p.error)?p.error.status:500),p.headers&&(u[m]=p.headers)}else Jn(p)?(n.set(m,p.deferredData),o[m]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!c&&(l=p.statusCode),p.headers&&(u[m]=p.headers)):(o[m]=p.data,p.statusCode&&p.statusCode!==200&&!c&&(l=p.statusCode),p.headers&&(u[m]=p.headers))}),d!==void 0&&r&&(a={[r[0]]:d},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:u}}function Cv(e,t,r,n,s,o,a){let{loaderData:l,errors:c}=bC(t,r,n,a);return s.forEach(u=>{let{key:d,match:h,controller:m}=u,p=o[d];if(ve(p,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(Ht(p)){let v=Es(e.matches,h==null?void 0:h.route.id);c&&c[v.route.id]||(c=Le({},c,{[v.route.id]:p.error})),e.fetchers.delete(d)}else if(Ms(p))ve(!1,"Unhandled fetcher revalidation redirect");else if(Jn(p))ve(!1,"Unhandled fetcher deferred data");else{let v=An(p.data);e.fetchers.set(d,v)}}),{loaderData:l,errors:c}}function Ev(e,t,r,n){let s=Le({},t);for(let o of r){let a=o.route.id;if(t.hasOwnProperty(a)?t[a]!==void 0&&(s[a]=t[a]):e[a]!==void 0&&o.route.loader&&(s[a]=e[a]),n&&n.hasOwnProperty(a))break}return s}function Pv(e){return e?Ht(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Es(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function Tv(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function At(e,t){let{pathname:r,routeId:n,method:s,type:o,message:a}=t===void 0?{}:t,l="Unknown Server Error",c="Unknown @remix-run/router error";return e===400?(l="Bad Request",s&&r&&n?c="You made a "+s+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":o==="defer-action"?c="defer() is not supported in actions":o==="invalid-body"&&(c="Unable to encode submission body")):e===403?(l="Forbidden",c='Route "'+n+'" does not match URL "'+r+'"'):e===404?(l="Not Found",c='No route matches URL "'+r+'"'):e===405&&(l="Method Not Allowed",s&&r&&n?c="You made a "+s.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":s&&(c='Invalid request method "'+s.toUpperCase()+'"')),new eu(e||500,l,new Error(c),!0)}function Wl(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,s]=t[r];if(Ms(s))return{key:n,result:s}}}function Rb(e){let t=typeof e=="string"?gs(e):e;return Qs(Le({},t,{hash:""}))}function wC(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function _C(e){return Ab(e.result)&&iC.has(e.result.status)}function Jn(e){return e.type===Te.deferred}function Ht(e){return e.type===Te.error}function Ms(e){return(e&&e.type)===Te.redirect}function Rv(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function SC(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Ab(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function jC(e){return aC.has(e.toLowerCase())}function gr(e){return sC.has(e.toLowerCase())}async function NC(e,t,r,n,s){let o=Object.entries(t);for(let a=0;a<o.length;a++){let[l,c]=o[a],u=e.find(m=>(m==null?void 0:m.route.id)===l);if(!u)continue;let d=n.find(m=>m.route.id===u.route.id),h=d!=null&&!Pb(d,u)&&(s&&s[u.route.id])!==void 0;Jn(c)&&h&&await cp(c,r,!1).then(m=>{m&&(t[l]=m)})}}async function kC(e,t,r){for(let n=0;n<r.length;n++){let{key:s,routeId:o,controller:a}=r[n],l=t[s];e.find(u=>(u==null?void 0:u.route.id)===o)&&Jn(l)&&(ve(a,"Expected an AbortController for revalidating fetcher deferred result"),await cp(l,a.signal,!0).then(u=>{u&&(t[s]=u)}))}}async function cp(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:Te.data,data:e.deferredData.unwrappedData}}catch(s){return{type:Te.error,error:s}}return{type:Te.data,data:e.deferredData.data}}}function up(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function li(e,t){let r=typeof t=="string"?gs(t).search:t.search;if(e[e.length-1].route.index&&up(r||""))return e[e.length-1];let n=kb(e);return n[n.length-1]}function Av(e){let{formMethod:t,formAction:r,formEncType:n,text:s,formData:o,json:a}=e;if(!(!t||!r||!n)){if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:t,formAction:r,formEncType:n,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function eh(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function CC(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Za(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function EC(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function An(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function PC(e,t){try{let r=e.sessionStorage.getItem(Eb);if(r){let n=JSON.parse(r);for(let[s,o]of Object.entries(n||{}))o&&Array.isArray(o)&&t.set(s,new Set(o||[]))}}catch{}}function TC(e,t){if(t.size>0){let r={};for(let[n,s]of t)r[n]=[...s];try{e.sessionStorage.setItem(Eb,JSON.stringify(r))}catch(n){va(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tu.apply(this,arguments)}const Fu=f.createContext(null),Ob=f.createContext(null),oo=f.createContext(null),dp=f.createContext(null),vs=f.createContext({outlet:null,matches:[],isDataRoute:!1}),Mb=f.createContext(null);function RC(e,t){let{relative:r}=t===void 0?{}:t;nl()||ve(!1);let{basename:n,navigator:s}=f.useContext(oo),{hash:o,pathname:a,search:l}=Lb(e,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:fn([n,a])),s.createHref({pathname:c,search:l,hash:o})}function nl(){return f.useContext(dp)!=null}function sl(){return nl()||ve(!1),f.useContext(dp).location}function Ib(e){f.useContext(oo).static||f.useLayoutEffect(e)}function ao(){let{isDataRoute:e}=f.useContext(vs);return e?BC():AC()}function AC(){nl()||ve(!1);let e=f.useContext(Fu),{basename:t,future:r,navigator:n}=f.useContext(oo),{matches:s}=f.useContext(vs),{pathname:o}=sl(),a=JSON.stringify(ap(s,r.v7_relativeSplatPath)),l=f.useRef(!1);return Ib(()=>{l.current=!0}),f.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=ip(u,JSON.parse(a),o,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:fn([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,o,e])}function Db(){let{matches:e}=f.useContext(vs),t=e[e.length-1];return t?t.params:{}}function Lb(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=f.useContext(oo),{matches:s}=f.useContext(vs),{pathname:o}=sl(),a=JSON.stringify(ap(s,n.v7_relativeSplatPath));return f.useMemo(()=>ip(e,JSON.parse(a),o,r==="path"),[e,a,o,r])}function OC(e,t,r,n){nl()||ve(!1);let{navigator:s}=f.useContext(oo),{matches:o}=f.useContext(vs),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=sl(),d;d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let g=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=Cs(e,{pathname:m});return $C(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:fn([c,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:fn([c,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,r,n)}function MC(){let e=HC(),t=$u(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:s},r):null,null)}const IC=f.createElement(MC,null);class DC extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(vs.Provider,{value:this.props.routeContext},f.createElement(Mb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LC(e){let{routeContext:t,match:r,children:n}=e,s=f.useContext(Fu);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(vs.Provider,{value:t},n)}function $C(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ve(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:p}=r,v=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,m)=>{let p,v=!1,g=null,b=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||IC,c&&(u<0&&m===0?(v=!0,b=null):u===m&&(v=!0,b=h.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,m+1)),x=()=>{let w;return p?w=g:v?w=b:h.route.Component?w=f.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,f.createElement(LC,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?f.createElement(DC,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var $b=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($b||{}),ru=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ru||{});function FC(e){let t=f.useContext(Fu);return t||ve(!1),t}function UC(e){let t=f.useContext(Ob);return t||ve(!1),t}function zC(e){let t=f.useContext(vs);return t||ve(!1),t}function Fb(e){let t=zC(),r=t.matches[t.matches.length-1];return r.route.id||ve(!1),r.route.id}function HC(){var e;let t=f.useContext(Mb),r=UC(ru.UseRouteError),n=Fb(ru.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function BC(){let{router:e}=FC($b.UseNavigateStable),t=Fb(ru.UseNavigateStable),r=f.useRef(!1);return Ib(()=>{r.current=!0}),f.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,tu({fromRouteId:t},o)))},[e,t])}function WC(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Qe.Pop,navigator:o,static:a=!1,future:l}=e;nl()&&ve(!1);let c=t.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:c,navigator:o,static:a,future:tu({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof n=="string"&&(n=gs(n));let{pathname:d="/",search:h="",hash:m="",state:p=null,key:v="default"}=n,g=f.useMemo(()=>{let b=ka(d,c);return b==null?null:{location:{pathname:b,search:h,hash:m,state:p,key:v},navigationType:s}},[c,d,h,m,p,v,s]);return g==null?null:f.createElement(oo.Provider,{value:u},f.createElement(dp.Provider,{children:r,value:g}))}new Promise(()=>{});function VC(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:f.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:f.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:f.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hi.apply(this,arguments)}function qC(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function KC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function GC(e,t){return e.button===0&&(!t||t==="_self")&&!KC(e)}const QC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YC="6";try{window.__reactRouterVersion=YC}catch{}function XC(e,t){return dC({basename:void 0,future:Hi({},void 0,{v7_prependBasename:!0}),history:Ik({window:void 0}),hydrationData:JC(),routes:e,mapRouteProperties:VC,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function JC(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Hi({},t,{errors:ZC(t.errors)})),t}function ZC(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,s]of t)if(s&&s.__type==="RouteErrorResponse")r[n]=new eu(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let a=new o(s.message);a.stack="",r[n]=a}catch{}}if(r[n]==null){let o=new Error(s.message);o.stack="",r[n]=o}}else r[n]=s;return r}const eE=f.createContext({isTransitioning:!1}),tE=f.createContext(new Map),rE="startTransition",Ov=_u[rE],nE="flushSync",Mv=Mk[nE];function sE(e){Ov?Ov(e):e()}function ei(e){Mv?Mv(e):e()}let oE=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function aE(e){let{fallbackElement:t,router:r,future:n}=e,[s,o]=f.useState(r.state),[a,l]=f.useState(),[c,u]=f.useState({isTransitioning:!1}),[d,h]=f.useState(),[m,p]=f.useState(),[v,g]=f.useState(),b=f.useRef(new Map),{v7_startTransition:y}=n||{},x=f.useCallback(E=>{y?sE(E):E()},[y]),w=f.useCallback((E,P)=>{let{deletedFetchers:A,flushSync:I,viewTransitionOpts:R}=P;A.forEach(O=>b.current.delete(O)),E.fetchers.forEach((O,V)=>{O.data!==void 0&&b.current.set(V,O.data)});let L=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!R||L){I?ei(()=>o(E)):x(()=>o(E));return}if(I){ei(()=>{m&&(d&&d.resolve(),m.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let O=r.window.document.startViewTransition(()=>{ei(()=>o(E))});O.finished.finally(()=>{ei(()=>{h(void 0),p(void 0),l(void 0),u({isTransitioning:!1})})}),ei(()=>p(O));return}m?(d&&d.resolve(),m.skipTransition(),g({state:E,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(l(E),u({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[r.window,m,d,b,x]);f.useLayoutEffect(()=>r.subscribe(w),[r,w]),f.useEffect(()=>{c.isTransitioning&&!c.flushSync&&h(new oE)},[c]),f.useEffect(()=>{if(d&&a&&r.window){let E=a,P=d.promise,A=r.window.document.startViewTransition(async()=>{x(()=>o(E)),await P});A.finished.finally(()=>{h(void 0),p(void 0),l(void 0),u({isTransitioning:!1})}),p(A)}},[x,a,d,r.window]),f.useEffect(()=>{d&&a&&s.location.key===a.location.key&&d.resolve()},[d,m,s.location,a]),f.useEffect(()=>{!c.isTransitioning&&v&&(l(v.state),u({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),g(void 0))},[c.isTransitioning,v]),f.useEffect(()=>{},[]);let _=f.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:E=>r.navigate(E),push:(E,P,A)=>r.navigate(E,{state:P,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(E,P,A)=>r.navigate(E,{replace:!0,state:P,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[r]),j=r.basename||"/",S=f.useMemo(()=>({router:r,navigator:_,static:!1,basename:j}),[r,_,j]),C=f.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return f.createElement(f.Fragment,null,f.createElement(Fu.Provider,{value:S},f.createElement(Ob.Provider,{value:s},f.createElement(tE.Provider,{value:b.current},f.createElement(eE.Provider,{value:c},f.createElement(WC,{basename:j,location:s.location,navigationType:s.historyAction,navigator:_,future:C},s.initialized||r.future.v7_partialHydration?f.createElement(iE,{routes:r.routes,future:r.future,state:s}):t))))),null)}const iE=f.memo(lE);function lE(e){let{routes:t,future:r,state:n}=e;return OC(t,void 0,n,r)}const cE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ln=f.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,m=qC(t,QC),{basename:p}=f.useContext(oo),v,g=!1;if(typeof u=="string"&&uE.test(u)&&(v=u,cE))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=ka(_.pathname,p);_.origin===w.origin&&j!=null?u=j+_.search+_.hash:g=!0}catch{}let b=RC(u,{relative:s}),y=dE(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function x(w){n&&n(w),w.defaultPrevented||y(w)}return f.createElement("a",Hi({},m,{href:v||b,onClick:g||o?n:x,ref:r,target:c}))});var Iv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Iv||(Iv={}));var Dv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Dv||(Dv={}));function dE(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:a,viewTransition:l}=t===void 0?{}:t,c=ao(),u=sl(),d=Lb(e,{relative:a});return f.useCallback(h=>{if(GC(h,r)){h.preventDefault();let m=n!==void 0?n:Qs(u)===Qs(d);c(e,{replace:m,state:s,preventScrollReset:o,relative:a,viewTransition:l})}},[u,c,d,n,s,r,e,o,a,l])}var Ca=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ys=typeof window>"u"||"Deno"in globalThis;function er(){}function hE(e,t){return typeof e=="function"?e(t):e}function _f(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ub(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Vo(e,t){return typeof e=="function"?e(t):e}function yr(e,t){return typeof e=="function"?e(t):e}function Lv(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:a,stale:l}=e;if(a){if(n){if(t.queryHash!==hp(a,t.options))return!1}else if(!Bi(t.queryKey,a))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function $v(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Xs(t.options.mutationKey)!==Xs(o))return!1}else if(!Bi(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function hp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Xs)(e)}function Xs(e){return JSON.stringify(e,(t,r)=>Sf(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Bi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Bi(e[r],t[r])):!1}function zb(e,t){if(e===t)return e;const r=Fv(e)&&Fv(t);if(r||Sf(e)&&Sf(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),a=o.length,l=r?[]:{};let c=0;for(let u=0;u<a;u++){const d=r?u:o[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=zb(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===a&&c===s?e:l}return t}function nu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Fv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Sf(e){if(!Uv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Uv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Uv(e){return Object.prototype.toString.call(e)==="[object Object]"}function fE(e){return new Promise(t=>{setTimeout(t,e)})}function jf(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?zb(e,t):t}function mE(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function pE(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var fp=Symbol();function Hb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===fp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Is,zn,Xo,Zx,gE=(Zx=class extends Ca{constructor(){super();ne(this,Is);ne(this,zn);ne(this,Xo);q(this,Xo,t=>{if(!Ys&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){N(this,zn)||this.setEventListener(N(this,Xo))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,zn))==null||t.call(this),q(this,zn,void 0))}setEventListener(t){var r;q(this,Xo,t),(r=N(this,zn))==null||r.call(this),q(this,zn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){N(this,Is)!==t&&(q(this,Is,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof N(this,Is)=="boolean"?N(this,Is):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Is=new WeakMap,zn=new WeakMap,Xo=new WeakMap,Zx),mp=new gE,Jo,Hn,Zo,ey,vE=(ey=class extends Ca{constructor(){super();ne(this,Jo,!0);ne(this,Hn);ne(this,Zo);q(this,Zo,t=>{if(!Ys&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){N(this,Hn)||this.setEventListener(N(this,Zo))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,Hn))==null||t.call(this),q(this,Hn,void 0))}setEventListener(t){var r;q(this,Zo,t),(r=N(this,Hn))==null||r.call(this),q(this,Hn,t(this.setOnline.bind(this)))}setOnline(t){N(this,Jo)!==t&&(q(this,Jo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return N(this,Jo)}},Jo=new WeakMap,Hn=new WeakMap,Zo=new WeakMap,ey),su=new vE;function Nf(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function xE(e){return Math.min(1e3*2**e,3e4)}function Bb(e){return(e??"online")==="online"?su.isOnline():!0}var Wb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function th(e){return e instanceof Wb}function Vb(e){let t=!1,r=0,n=!1,s;const o=Nf(),a=g=>{var b;n||(m(new Wb(g)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>mp.isFocused()&&(e.networkMode==="always"||su.isOnline())&&e.canRun(),d=()=>Bb(e.networkMode)&&e.canRun(),h=g=>{var b;n||(n=!0,(b=e.onSuccess)==null||b.call(e,g),s==null||s(),o.resolve(g))},m=g=>{var b;n||(n=!0,(b=e.onError)==null||b.call(e,g),s==null||s(),o.reject(g))},p=()=>new Promise(g=>{var b;s=y=>{(n||u())&&g(y)},(b=e.onPause)==null||b.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),v=()=>{if(n)return;let g;const b=r===0?e.initialPromise:void 0;try{g=b??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(h).catch(y=>{var S;if(n)return;const x=e.retry??(Ys?0:3),w=e.retryDelay??xE,_=typeof w=="function"?w(r,y):w,j=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(t||!j){m(y);return}r++,(S=e.onFail)==null||S.call(e,r,y),fE(_).then(()=>u()?void 0:p()).then(()=>{t?m(y):v()})})};return{promise:o,cancel:a,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():p().then(v),o)}}function yE(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const o=l=>{t?e.push(l):s(()=>{r(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var et=yE(),Ds,ty,qb=(ty=class{constructor(){ne(this,Ds)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_f(this.gcTime)&&q(this,Ds,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ys?1/0:5*60*1e3))}clearGcTimeout(){N(this,Ds)&&(clearTimeout(N(this,Ds)),q(this,Ds,void 0))}},Ds=new WeakMap,ty),ea,ta,Zt,vt,Gi,Ls,mr,en,ry,bE=(ry=class extends qb{constructor(t){super();ne(this,mr);ne(this,ea);ne(this,ta);ne(this,Zt);ne(this,vt);ne(this,Gi);ne(this,Ls);q(this,Ls,!1),q(this,Gi,t.defaultOptions),this.setOptions(t.options),this.observers=[],q(this,Zt,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,q(this,ea,wE(this.options)),this.state=t.state??N(this,ea),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=N(this,vt))==null?void 0:t.promise}setOptions(t){this.options={...N(this,Gi),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,Zt).remove(this)}setData(t,r){const n=jf(this.state.data,t,this.options);return ue(this,mr,en).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ue(this,mr,en).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=N(this,vt))==null?void 0:n.promise;return(s=N(this,vt))==null||s.cancel(t),r?r.then(er).catch(er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,ea))}isActive(){return this.observers.some(t=>yr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Ub(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,vt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,vt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),N(this,Zt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(N(this,vt)&&(N(this,Ls)?N(this,vt).cancel({revert:!0}):N(this,vt).cancelRetry()),this.scheduleGc()),N(this,Zt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ue(this,mr,en).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(N(this,vt))return N(this,vt).continueRetry(),N(this,vt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(q(this,Ls,!0),n.signal)})},o=()=>{const h=Hb(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return s(m),q(this,Ls,!1),this.options.persister?this.options.persister(h,m,this):h(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),q(this,ta,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&ue(this,mr,en).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=h=>{var m,p,v,g;th(h)&&h.silent||ue(this,mr,en).call(this,{type:"error",error:h}),th(h)||((p=(m=N(this,Zt).config).onError)==null||p.call(m,h,this),(g=(v=N(this,Zt).config).onSettled)==null||g.call(v,this.state.data,h,this)),this.scheduleGc()};return q(this,vt,Vb({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,p,v,g;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){l(b);return}(p=(m=N(this,Zt).config).onSuccess)==null||p.call(m,h,this),(g=(v=N(this,Zt).config).onSettled)==null||g.call(v,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{ue(this,mr,en).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{ue(this,mr,en).call(this,{type:"pause"})},onContinue:()=>{ue(this,mr,en).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),N(this,vt).start()}},ea=new WeakMap,ta=new WeakMap,Zt=new WeakMap,vt=new WeakMap,Gi=new WeakMap,Ls=new WeakMap,mr=new WeakSet,en=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Kb(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return th(s)&&s.revert&&N(this,ta)?{...N(this,ta),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),et.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),N(this,Zt).notify({query:this,type:"updated",action:t})})},ry);function Kb(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Bb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function wE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ar,ny,_E=(ny=class extends Ca{constructor(t={}){super();ne(this,Ar);this.config=t,q(this,Ar,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??hp(s,r);let a=this.get(o);return a||(a=new bE({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){N(this,Ar).has(t.queryHash)||(N(this,Ar).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=N(this,Ar).get(t.queryHash);r&&(t.destroy(),r===t&&N(this,Ar).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){et.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return N(this,Ar).get(t)}getAll(){return[...N(this,Ar).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Lv(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Lv(t,n)):r}notify(t){et.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){et.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){et.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ar=new WeakMap,ny),Or,_t,$s,Mr,On,sy,SE=(sy=class extends qb{constructor(t){super();ne(this,Mr);ne(this,Or);ne(this,_t);ne(this,$s);this.mutationId=t.mutationId,q(this,_t,t.mutationCache),q(this,Or,[]),this.state=t.state||Gb(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){N(this,Or).includes(t)||(N(this,Or).push(t),this.clearGcTimeout(),N(this,_t).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){q(this,Or,N(this,Or).filter(r=>r!==t)),this.scheduleGc(),N(this,_t).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){N(this,Or).length||(this.state.status==="pending"?this.scheduleGc():N(this,_t).remove(this))}continue(){var t;return((t=N(this,$s))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,a,l,c,u,d,h,m,p,v,g,b,y,x,w,_,j,S,C;q(this,$s,Vb({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,P)=>{ue(this,Mr,On).call(this,{type:"failed",failureCount:E,error:P})},onPause:()=>{ue(this,Mr,On).call(this,{type:"pause"})},onContinue:()=>{ue(this,Mr,On).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,_t).canRun(this)}));const r=this.state.status==="pending",n=!N(this,$s).canStart();try{if(!r){ue(this,Mr,On).call(this,{type:"pending",variables:t,isPaused:n}),await((o=(s=N(this,_t).config).onMutate)==null?void 0:o.call(s,t,this));const P=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));P!==this.state.context&&ue(this,Mr,On).call(this,{type:"pending",context:P,variables:t,isPaused:n})}const E=await N(this,$s).start();return await((u=(c=N(this,_t).config).onSuccess)==null?void 0:u.call(c,E,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,E,t,this.state.context)),await((p=(m=N(this,_t).config).onSettled)==null?void 0:p.call(m,E,null,this.state.variables,this.state.context,this)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,E,null,t,this.state.context)),ue(this,Mr,On).call(this,{type:"success",data:E}),E}catch(E){try{throw await((y=(b=N(this,_t).config).onError)==null?void 0:y.call(b,E,t,this.state.context,this)),await((w=(x=this.options).onError)==null?void 0:w.call(x,E,t,this.state.context)),await((j=(_=N(this,_t).config).onSettled)==null?void 0:j.call(_,void 0,E,this.state.variables,this.state.context,this)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,E,t,this.state.context)),E}finally{ue(this,Mr,On).call(this,{type:"error",error:E})}}finally{N(this,_t).runNext(this)}}},Or=new WeakMap,_t=new WeakMap,$s=new WeakMap,Mr=new WeakSet,On=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),et.batch(()=>{N(this,Or).forEach(n=>{n.onMutationUpdate(t)}),N(this,_t).notify({mutation:this,type:"updated",action:t})})},sy);function Gb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ut,Qi,oy,jE=(oy=class extends Ca{constructor(t={}){super();ne(this,Ut);ne(this,Qi);this.config=t,q(this,Ut,new Map),q(this,Qi,Date.now())}build(t,r,n){const s=new SE({mutationCache:this,mutationId:++kl(this,Qi)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=Vl(t),n=N(this,Ut).get(r)??[];n.push(t),N(this,Ut).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Vl(t);if(N(this,Ut).has(r)){const s=(n=N(this,Ut).get(r))==null?void 0:n.filter(o=>o!==t);s&&(s.length===0?N(this,Ut).delete(r):N(this,Ut).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=N(this,Ut).get(Vl(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=N(this,Ut).get(Vl(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){et.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...N(this,Ut).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>$v(r,n))}findAll(t={}){return this.getAll().filter(r=>$v(t,r))}notify(t){et.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return et.batch(()=>Promise.all(t.map(r=>r.continue().catch(er))))}},Ut=new WeakMap,Qi=new WeakMap,oy);function Vl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function ou(e){return{onFetch:(t,r)=>{var d,h,m,p,v;const n=t.options,s=(m=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],a=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=Hb(t.options,t.fetchOptions),x=async(w,_,j)=>{if(g)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const S={queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};b(S);const C=await y(S),{maxPages:E}=t.options,P=j?pE:mE;return{pages:P(w.pages,C,E),pageParams:P(w.pageParams,_,E)}};if(s&&o.length){const w=s==="backward",_=w?Qb:kf,j={pages:o,pageParams:a},S=_(n,j);l=await x(j,S,w)}else{const w=e??o.length;do{const _=c===0?a[0]??n.initialPageParam:kf(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,b;return(b=(g=t.options).persister)==null?void 0:b.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function kf(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Qb(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}function NE(e,t){return t?kf(e,t)!=null:!1}function kE(e,t){return!t||!e.getPreviousPageParam?!1:Qb(e,t)!=null}var We,Bn,Wn,ra,na,Vn,sa,oa,ay,CE=(ay=class{constructor(e={}){ne(this,We);ne(this,Bn);ne(this,Wn);ne(this,ra);ne(this,na);ne(this,Vn);ne(this,sa);ne(this,oa);q(this,We,e.queryCache||new _E),q(this,Bn,e.mutationCache||new jE),q(this,Wn,e.defaultOptions||{}),q(this,ra,new Map),q(this,na,new Map),q(this,Vn,0)}mount(){kl(this,Vn)._++,N(this,Vn)===1&&(q(this,sa,mp.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,We).onFocus())})),q(this,oa,su.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,We).onOnline())})))}unmount(){var e,t;kl(this,Vn)._--,N(this,Vn)===0&&((e=N(this,sa))==null||e.call(this),q(this,sa,void 0),(t=N(this,oa))==null||t.call(this),q(this,oa,void 0))}isFetching(e){return N(this,We).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return N(this,Bn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,We).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=N(this,We).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Vo(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return N(this,We).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=N(this,We).get(n.queryHash),o=s==null?void 0:s.state.data,a=hE(t,o);if(a!==void 0)return N(this,We).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return et.batch(()=>N(this,We).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,We).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=N(this,We);et.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=N(this,We),n={type:"active",...e};return et.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=et.batch(()=>N(this,We).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(er).catch(er)}invalidateQueries(e={},t={}){return et.batch(()=>{if(N(this,We).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=et.batch(()=>N(this,We).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(er)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(er)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=N(this,We).build(this,t);return r.isStaleByTime(Vo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(er).catch(er)}fetchInfiniteQuery(e){return e.behavior=ou(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(er).catch(er)}ensureInfiniteQueryData(e){return e.behavior=ou(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return su.isOnline()?N(this,Bn).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,We)}getMutationCache(){return N(this,Bn)}getDefaultOptions(){return N(this,Wn)}setDefaultOptions(e){q(this,Wn,e)}setQueryDefaults(e,t){N(this,ra).set(Xs(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...N(this,ra).values()];let r={};return t.forEach(n=>{Bi(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){N(this,na).set(Xs(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...N(this,na).values()];let r={};return t.forEach(n=>{Bi(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...N(this,Wn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=hp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===fp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...N(this,Wn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){N(this,We).clear(),N(this,Bn).clear()}},We=new WeakMap,Bn=new WeakMap,Wn=new WeakMap,ra=new WeakMap,na=new WeakMap,Vn=new WeakMap,sa=new WeakMap,oa=new WeakMap,ay),Tt,xe,Yi,St,Fs,aa,qn,Ir,Xi,ia,la,Us,zs,Kn,ca,Ne,ci,Cf,Ef,Pf,Tf,Rf,Af,Of,Xb,iy,Yb=(iy=class extends Ca{constructor(t,r){super();ne(this,Ne);ne(this,Tt);ne(this,xe);ne(this,Yi);ne(this,St);ne(this,Fs);ne(this,aa);ne(this,qn);ne(this,Ir);ne(this,Xi);ne(this,ia);ne(this,la);ne(this,Us);ne(this,zs);ne(this,Kn);ne(this,ca,new Set);this.options=r,q(this,Tt,t),q(this,Ir,null),q(this,qn,Nf()),this.options.experimental_prefetchInRender||N(this,qn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,xe).addObserver(this),zv(N(this,xe),this.options)?ue(this,Ne,ci).call(this):this.updateResult(),ue(this,Ne,Tf).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mf(N(this,xe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mf(N(this,xe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ue(this,Ne,Rf).call(this),ue(this,Ne,Af).call(this),N(this,xe).removeObserver(this)}setOptions(t,r){const n=this.options,s=N(this,xe);if(this.options=N(this,Tt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof yr(this.options.enabled,N(this,xe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ue(this,Ne,Of).call(this),N(this,xe).setOptions(this.options),n._defaulted&&!nu(this.options,n)&&N(this,Tt).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,xe),observer:this});const o=this.hasListeners();o&&Hv(N(this,xe),s,this.options,n)&&ue(this,Ne,ci).call(this),this.updateResult(r),o&&(N(this,xe)!==s||yr(this.options.enabled,N(this,xe))!==yr(n.enabled,N(this,xe))||Vo(this.options.staleTime,N(this,xe))!==Vo(n.staleTime,N(this,xe)))&&ue(this,Ne,Cf).call(this);const a=ue(this,Ne,Ef).call(this);o&&(N(this,xe)!==s||yr(this.options.enabled,N(this,xe))!==yr(n.enabled,N(this,xe))||a!==N(this,Kn))&&ue(this,Ne,Pf).call(this,a)}getOptimisticResult(t){const r=N(this,Tt).getQueryCache().build(N(this,Tt),t),n=this.createResult(r,t);return PE(this,n)&&(q(this,St,n),q(this,aa,this.options),q(this,Fs,N(this,xe).state)),n}getCurrentResult(){return N(this,St)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){N(this,ca).add(t)}getCurrentQuery(){return N(this,xe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=N(this,Tt).defaultQueryOptions(t),n=N(this,Tt).getQueryCache().build(N(this,Tt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ue(this,Ne,ci).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,St)))}createResult(t,r){var E;const n=N(this,xe),s=this.options,o=N(this,St),a=N(this,Fs),l=N(this,aa),u=t!==n?t.state:N(this,Yi),{state:d}=t;let h={...d},m=!1,p;if(r._optimisticResults){const P=this.hasListeners(),A=!P&&zv(t,r),I=P&&Hv(t,n,r,s);(A||I)&&(h={...h,...Kb(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:b}=h;if(r.select&&h.data!==void 0)if(o&&h.data===(a==null?void 0:a.data)&&r.select===N(this,Xi))p=N(this,ia);else try{q(this,Xi,r.select),p=r.select(h.data),p=jf(o==null?void 0:o.data,p,r),q(this,ia,p),q(this,Ir,null)}catch(P){q(this,Ir,P)}else p=h.data;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let P;if(o!=null&&o.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))P=o.data;else if(P=typeof r.placeholderData=="function"?r.placeholderData((E=N(this,la))==null?void 0:E.state.data,N(this,la)):r.placeholderData,r.select&&P!==void 0)try{P=r.select(P),q(this,Ir,null)}catch(A){q(this,Ir,A)}P!==void 0&&(b="success",p=jf(o==null?void 0:o.data,P,r),m=!0)}N(this,Ir)&&(v=N(this,Ir),p=N(this,ia),g=Date.now(),b="error");const y=h.fetchStatus==="fetching",x=b==="pending",w=b==="error",_=x&&y,j=p!==void 0,C={status:b,fetchStatus:h.fetchStatus,isPending:x,isSuccess:b==="success",isError:w,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!x,isLoadingError:w&&!j,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:w&&j,isStale:pp(t,r),refetch:this.refetch,promise:N(this,qn)};if(this.options.experimental_prefetchInRender){const P=R=>{C.status==="error"?R.reject(C.error):C.data!==void 0&&R.resolve(C.data)},A=()=>{const R=q(this,qn,C.promise=Nf());P(R)},I=N(this,qn);switch(I.status){case"pending":t.queryHash===n.queryHash&&P(I);break;case"fulfilled":(C.status==="error"||C.data!==I.value)&&A();break;case"rejected":(C.status!=="error"||C.error!==I.reason)&&A();break}}return C}updateResult(t){const r=N(this,St),n=this.createResult(N(this,xe),this.options);if(q(this,Fs,N(this,xe).state),q(this,aa,this.options),N(this,Fs).data!==void 0&&q(this,la,N(this,xe)),nu(n,r))return;q(this,St,n);const s={},o=()=>{if(!r)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!N(this,ca).size)return!0;const c=new Set(l??N(this,ca));return this.options.throwOnError&&c.add("error"),Object.keys(N(this,St)).some(u=>{const d=u;return N(this,St)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&o()&&(s.listeners=!0),ue(this,Ne,Xb).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ue(this,Ne,Tf).call(this)}},Tt=new WeakMap,xe=new WeakMap,Yi=new WeakMap,St=new WeakMap,Fs=new WeakMap,aa=new WeakMap,qn=new WeakMap,Ir=new WeakMap,Xi=new WeakMap,ia=new WeakMap,la=new WeakMap,Us=new WeakMap,zs=new WeakMap,Kn=new WeakMap,ca=new WeakMap,Ne=new WeakSet,ci=function(t){ue(this,Ne,Of).call(this);let r=N(this,xe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(er)),r},Cf=function(){ue(this,Ne,Rf).call(this);const t=Vo(this.options.staleTime,N(this,xe));if(Ys||N(this,St).isStale||!_f(t))return;const n=Ub(N(this,St).dataUpdatedAt,t)+1;q(this,Us,setTimeout(()=>{N(this,St).isStale||this.updateResult()},n))},Ef=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,xe)):this.options.refetchInterval)??!1},Pf=function(t){ue(this,Ne,Af).call(this),q(this,Kn,t),!(Ys||yr(this.options.enabled,N(this,xe))===!1||!_f(N(this,Kn))||N(this,Kn)===0)&&q(this,zs,setInterval(()=>{(this.options.refetchIntervalInBackground||mp.isFocused())&&ue(this,Ne,ci).call(this)},N(this,Kn)))},Tf=function(){ue(this,Ne,Cf).call(this),ue(this,Ne,Pf).call(this,ue(this,Ne,Ef).call(this))},Rf=function(){N(this,Us)&&(clearTimeout(N(this,Us)),q(this,Us,void 0))},Af=function(){N(this,zs)&&(clearInterval(N(this,zs)),q(this,zs,void 0))},Of=function(){const t=N(this,Tt).getQueryCache().build(N(this,Tt),this.options);if(t===N(this,xe))return;const r=N(this,xe);q(this,xe,t),q(this,Yi,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Xb=function(t){et.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(N(this,St))}),N(this,Tt).getQueryCache().notify({query:N(this,xe),type:"observerResultsUpdated"})})},iy);function EE(e,t){return yr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function zv(e,t){return EE(e,t)||e.state.data!==void 0&&Mf(e,t,t.refetchOnMount)}function Mf(e,t,r){if(yr(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&pp(e,t)}return!1}function Hv(e,t,r,n){return(e!==t||yr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&pp(e,r)}function pp(e,t){return yr(t.enabled,e)!==!1&&e.isStaleByTime(Vo(t.staleTime,e))}function PE(e,t){return!nu(e.getCurrentResult(),t)}var TE=class extends Yb{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:ou()},t)}getOptimisticResult(e){return e.behavior=ou(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var v,g;const{state:r}=e,n=super.createResult(e,t),{isFetching:s,isRefetching:o,isError:a,isRefetchError:l}=n,c=(g=(v=r.fetchMeta)==null?void 0:v.fetchMore)==null?void 0:g.direction,u=a&&c==="forward",d=s&&c==="forward",h=a&&c==="backward",m=s&&c==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:NE(t,r.data),hasPreviousPage:kE(t,r.data),isFetchNextPageError:u,isFetchingNextPage:d,isFetchPreviousPageError:h,isFetchingPreviousPage:m,isRefetchError:l&&!u&&!h,isRefetching:o&&!d&&!m}}},Gn,Qn,Rt,an,gn,xc,If,ly,RE=(ly=class extends Ca{constructor(r,n){super();ne(this,gn);ne(this,Gn);ne(this,Qn);ne(this,Rt);ne(this,an);q(this,Gn,r),this.setOptions(n),this.bindMethods(),ue(this,gn,xc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=N(this,Gn).defaultMutationOptions(r),nu(this.options,n)||N(this,Gn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,Rt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Xs(n.mutationKey)!==Xs(this.options.mutationKey)?this.reset():((s=N(this,Rt))==null?void 0:s.state.status)==="pending"&&N(this,Rt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=N(this,Rt))==null||r.removeObserver(this)}onMutationUpdate(r){ue(this,gn,xc).call(this),ue(this,gn,If).call(this,r)}getCurrentResult(){return N(this,Qn)}reset(){var r;(r=N(this,Rt))==null||r.removeObserver(this),q(this,Rt,void 0),ue(this,gn,xc).call(this),ue(this,gn,If).call(this)}mutate(r,n){var s;return q(this,an,n),(s=N(this,Rt))==null||s.removeObserver(this),q(this,Rt,N(this,Gn).getMutationCache().build(N(this,Gn),this.options)),N(this,Rt).addObserver(this),N(this,Rt).execute(r)}},Gn=new WeakMap,Qn=new WeakMap,Rt=new WeakMap,an=new WeakMap,gn=new WeakSet,xc=function(){var n;const r=((n=N(this,Rt))==null?void 0:n.state)??Gb();q(this,Qn,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},If=function(r){et.batch(()=>{var n,s,o,a,l,c,u,d;if(N(this,an)&&this.hasListeners()){const h=N(this,Qn).variables,m=N(this,Qn).context;(r==null?void 0:r.type)==="success"?((s=(n=N(this,an)).onSuccess)==null||s.call(n,r.data,h,m),(a=(o=N(this,an)).onSettled)==null||a.call(o,r.data,null,h,m)):(r==null?void 0:r.type)==="error"&&((c=(l=N(this,an)).onError)==null||c.call(l,r.error,h,m),(d=(u=N(this,an)).onSettled)==null||d.call(u,void 0,r.error,h,m))}this.listeners.forEach(h=>{h(N(this,Qn))})})},ly),Jb=f.createContext(void 0),ol=e=>{const t=f.useContext(Jb);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},AE=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(Jb.Provider,{value:e,children:t})),Zb=f.createContext(!1),OE=()=>f.useContext(Zb);Zb.Provider;function ME(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var IE=f.createContext(ME()),DE=()=>f.useContext(IE);function ew(e,t){return typeof e=="function"?e(...t):!!e}function tw(){}var LE=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},$E=e=>{f.useEffect(()=>{e.clearReset()},[e])},FE=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&ew(r,[e.error,n]),UE=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},zE=(e,t)=>e.isLoading&&e.isFetching&&!t,HE=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Bv=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function rw(e,t,r){var d,h,m,p,v;const n=ol(),s=OE(),o=DE(),a=n.defaultQueryOptions(e);(h=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,a),a._optimisticResults=s?"isRestoring":"optimistic",UE(a),LE(a,o),$E(o);const l=!n.getQueryCache().get(a.queryHash),[c]=f.useState(()=>new t(n,a)),u=c.getOptimisticResult(a);if(f.useSyncExternalStore(f.useCallback(g=>{const b=s?()=>{}:c.subscribe(et.batchCalls(g));return c.updateResult(),b},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),f.useEffect(()=>{c.setOptions(a,{listeners:!1})},[a,c]),HE(a,u))throw Bv(a,c,o);if(FE({result:u,errorResetBoundary:o,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash)}))throw u.error;if((p=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,a,u),a.experimental_prefetchInRender&&!Ys&&zE(u,s)){const g=l?Bv(a,c,o):(v=n.getQueryCache().get(a.queryHash))==null?void 0:v.promise;g==null||g.catch(tw).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Ye(e,t){return rw(e,Yb)}function Df(e,t){const r=ol(),[n]=f.useState(()=>new RE(r,e));f.useEffect(()=>{n.setOptions(e)},[n,e]);const s=f.useSyncExternalStore(f.useCallback(a=>n.subscribe(et.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=f.useCallback((a,l)=>{n.mutate(a,l).catch(tw)},[n]);if(s.error&&ew(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}function BE(e,t){return rw(e,TE)}const WE=1,VE=1e6;let rh=0;function qE(){return rh=(rh+1)%Number.MAX_SAFE_INTEGER,rh.toString()}const nh=new Map,Wv=e=>{if(nh.has(e))return;const t=setTimeout(()=>{nh.delete(e),bi({type:"REMOVE_TOAST",toastId:e})},VE);nh.set(e,t)},KE=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,WE)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Wv(r):e.toasts.forEach(n=>{Wv(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},yc=[];let bc={toasts:[]};function bi(e){bc=KE(bc,e),yc.forEach(t=>{t(bc)})}function GE({...e}){const t=qE(),r=s=>bi({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>bi({type:"DISMISS_TOAST",toastId:t});return bi({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Ea(){const[e,t]=f.useState(bc);return f.useEffect(()=>(yc.push(t),()=>{const r=yc.indexOf(t);r>-1&&yc.splice(r,1)}),[e]),{...e,toast:GE,dismiss:r=>bi({type:"DISMISS_TOAST",toastId:r})}}function je(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function QE(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function nw(...e){return t=>e.forEach(r=>QE(r,t))}function Ke(...e){return f.useCallback(nw(...e),e)}function YE(e,t=[]){let r=[];function n(o,a){const l=f.createContext(a),c=r.length;r=[...r,a];function u(h){const{scope:m,children:p,...v}=h,g=(m==null?void 0:m[e][c])||l,b=f.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:b,children:p})}function d(h,m){const p=(m==null?void 0:m[e][c])||l,v=f.useContext(p);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=r.map(a=>f.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,XE(s,...t)]}function XE(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var Sr=f.forwardRef((e,t)=>{const{children:r,...n}=e,s=f.Children.toArray(r),o=s.find(JE);if(o){const a=o.props.children,l=s.map(c=>c===o?f.Children.count(a)>1?f.Children.only(null):f.isValidElement(a)?a.props.children:null:c);return i.jsx(Lf,{...n,ref:t,children:f.isValidElement(a)?f.cloneElement(a,void 0,l):null})}return i.jsx(Lf,{...n,ref:t,children:r})});Sr.displayName="Slot";var Lf=f.forwardRef((e,t)=>{const{children:r,...n}=e;if(f.isValidElement(r)){const s=e2(r);return f.cloneElement(r,{...ZE(n,r.props),ref:t?nw(t,s):s})}return f.Children.count(r)>1?f.Children.only(null):null});Lf.displayName="SlotClone";var sw=({children:e})=>i.jsx(i.Fragment,{children:e});function JE(e){return f.isValidElement(e)&&e.type===sw}function ZE(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{o(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function e2(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function t2(e){const t=e+"CollectionProvider",[r,n]=YE(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:v,children:g}=p,b=ye.useRef(null),y=ye.useRef(new Map).current;return i.jsx(s,{scope:v,itemMap:y,collectionRef:b,children:g})};a.displayName=t;const l=e+"CollectionSlot",c=ye.forwardRef((p,v)=>{const{scope:g,children:b}=p,y=o(l,g),x=Ke(v,y.collectionRef);return i.jsx(Sr,{ref:x,children:b})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=ye.forwardRef((p,v)=>{const{scope:g,children:b,...y}=p,x=ye.useRef(null),w=Ke(v,x),_=o(u,g);return ye.useEffect(()=>(_.itemMap.set(x,{ref:x,...y}),()=>void _.itemMap.delete(x))),i.jsx(Sr,{[d]:"",ref:w,children:b})});h.displayName=u;function m(p){const v=o(e+"CollectionConsumer",p);return ye.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const y=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((_,j)=>y.indexOf(_.ref.current)-y.indexOf(j.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:c,ItemSlot:h},m,n]}function r2(e,t){const r=f.createContext(t),n=o=>{const{children:a,...l}=o,c=f.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:a})};n.displayName=e+"Provider";function s(o){const a=f.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function al(e,t=[]){let r=[];function n(o,a){const l=f.createContext(a),c=r.length;r=[...r,a];const u=h=>{var y;const{scope:m,children:p,...v}=h,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,b=f.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:b,children:p})};u.displayName=o+"Provider";function d(h,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=f.useContext(p);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(a=>f.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,n2(s,...t)]}function n2(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var s2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ee=s2.reduce((e,t)=>{const r=f.forwardRef((n,s)=>{const{asChild:o,...a}=n,l=o?Sr:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function ow(e,t){e&&Na.flushSync(()=>e.dispatchEvent(t))}function Je(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function o2(e,t=globalThis==null?void 0:globalThis.document){const r=Je(e);f.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var a2="DismissableLayer",$f="dismissableLayer.update",i2="dismissableLayer.pointerDownOutside",l2="dismissableLayer.focusOutside",Vv,aw=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Uu=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=e,u=f.useContext(aw),[d,h]=f.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=f.useState({}),v=Ke(t,C=>h(C)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(b),x=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=y,j=u2(C=>{const E=C.target,P=[...u.branches].some(A=>A.contains(E));!_||P||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},m),S=d2(C=>{const E=C.target;[...u.branches].some(A=>A.contains(E))||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},m);return o2(C=>{x===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),f.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Vv=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),qv(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Vv)}},[d,m,r,u]),f.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),qv())},[d,u]),f.useEffect(()=>{const C=()=>p({});return document.addEventListener($f,C),()=>document.removeEventListener($f,C)},[]),i.jsx(Ee.div,{...c,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:je(e.onFocusCapture,S.onFocusCapture),onBlurCapture:je(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:je(e.onPointerDownCapture,j.onPointerDownCapture)})});Uu.displayName=a2;var c2="DismissableLayerBranch",iw=f.forwardRef((e,t)=>{const r=f.useContext(aw),n=f.useRef(null),s=Ke(t,n);return f.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),i.jsx(Ee.div,{...e,ref:s})});iw.displayName=c2;function u2(e,t=globalThis==null?void 0:globalThis.document){const r=Je(e),n=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){lw(i2,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function d2(e,t=globalThis==null?void 0:globalThis.document){const r=Je(e),n=f.useRef(!1);return f.useEffect(()=>{const s=o=>{o.target&&!n.current&&lw(l2,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function qv(){const e=new CustomEvent($f);document.dispatchEvent(e)}function lw(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?ow(s,o):s.dispatchEvent(o)}var h2=Uu,f2=iw,jr=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},m2="Portal",gp=f.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,o]=f.useState(!1);jr(()=>o(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?Sb.createPortal(i.jsx(Ee.div,{...n,ref:t}),a):null});gp.displayName=m2;function p2(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var Br=e=>{const{present:t,children:r}=e,n=g2(t),s=typeof r=="function"?r({present:n.isPresent}):f.Children.only(r),o=Ke(n.ref,v2(s));return typeof r=="function"||n.isPresent?f.cloneElement(s,{ref:o}):null};Br.displayName="Presence";function g2(e){const[t,r]=f.useState(),n=f.useRef({}),s=f.useRef(e),o=f.useRef("none"),a=e?"mounted":"unmounted",[l,c]=p2(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=ql(n.current);o.current=l==="mounted"?u:"none"},[l]),jr(()=>{const u=n.current,d=s.current;if(d!==e){const m=o.current,p=ql(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),jr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const g=ql(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=p=>{p.target===t&&(o.current=ql(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function ql(e){return(e==null?void 0:e.animationName)||"none"}function v2(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function vp({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=x2({defaultProp:t,onChange:r}),o=e!==void 0,a=o?e:n,l=Je(r),c=f.useCallback(u=>{if(o){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else s(u)},[o,e,s,l]);return[a,c]}function x2({defaultProp:e,onChange:t}){const r=f.useState(e),[n]=r,s=f.useRef(n),o=Je(t);return f.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}var y2="VisuallyHidden",zu=f.forwardRef((e,t)=>i.jsx(Ee.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));zu.displayName=y2;var b2=zu,xp="ToastProvider",[yp,w2,_2]=t2("Toast"),[cw,R3]=al("Toast",[_2]),[S2,Hu]=cw(xp),uw=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:a}=e,[l,c]=f.useState(null),[u,d]=f.useState(0),h=f.useRef(!1),m=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${xp}\`. Expected non-empty \`string\`.`),i.jsx(yp.Provider,{scope:t,children:i.jsx(S2,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>d(p=>p+1),[]),onToastRemove:f.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:a})})};uw.displayName=xp;var dw="ToastViewport",j2=["F8"],Ff="toast.viewportPause",Uf="toast.viewportResume",hw=f.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=j2,label:s="Notifications ({hotkey})",...o}=e,a=Hu(dw,r),l=w2(r),c=f.useRef(null),u=f.useRef(null),d=f.useRef(null),h=f.useRef(null),m=Ke(t,h,a.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;f.useEffect(()=>{const b=y=>{var w;n.length!==0&&n.every(_=>y[_]||y.code===_)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),f.useEffect(()=>{const b=c.current,y=h.current;if(v&&b&&y){const x=()=>{if(!a.isClosePausedRef.current){const S=new CustomEvent(Ff);y.dispatchEvent(S),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const S=new CustomEvent(Uf);y.dispatchEvent(S),a.isClosePausedRef.current=!1}},_=S=>{!b.contains(S.relatedTarget)&&w()},j=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",x),b.addEventListener("focusout",_),b.addEventListener("pointermove",x),b.addEventListener("pointerleave",j),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",x),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",x),b.removeEventListener("pointerleave",j),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[v,a.isClosePausedRef]);const g=f.useCallback(({tabbingDirection:b})=>{const x=l().map(w=>{const _=w.ref.current,j=[_,...L2(_)];return b==="forwards"?j:j.reverse()});return(b==="forwards"?x.reverse():x).flat()},[l]);return f.useEffect(()=>{const b=h.current;if(b){const y=x=>{var j,S,C;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const E=document.activeElement,P=x.shiftKey;if(x.target===b&&P){(j=u.current)==null||j.focus();return}const R=g({tabbingDirection:P?"backwards":"forwards"}),L=R.findIndex(O=>O===E);sh(R.slice(L+1))?x.preventDefault():P?(S=u.current)==null||S.focus():(C=d.current)==null||C.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[l,g]),i.jsxs(f2,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&i.jsx(zf,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});sh(b)}}),i.jsx(yp.Slot,{scope:r,children:i.jsx(Ee.ol,{tabIndex:-1,...o,ref:m})}),v&&i.jsx(zf,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});sh(b)}})]})});hw.displayName=dw;var fw="ToastFocusProxy",zf=f.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=Hu(fw,r);return i.jsx(zu,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&n()}})});zf.displayName=fw;var Bu="Toast",N2="toast.swipeStart",k2="toast.swipeMove",C2="toast.swipeCancel",E2="toast.swipeEnd",mw=f.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...a}=e,[l=!0,c]=vp({prop:n,defaultProp:s,onChange:o});return i.jsx(Br,{present:r||l,children:i.jsx(R2,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:Je(e.onPause),onResume:Je(e.onResume),onSwipeStart:je(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:je(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:je(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:je(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});mw.displayName=Bu;var[P2,T2]=cw(Bu,{onClose(){}}),R2=f.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:p,...v}=e,g=Hu(Bu,r),[b,y]=f.useState(null),x=Ke(t,O=>y(O)),w=f.useRef(null),_=f.useRef(null),j=s||g.duration,S=f.useRef(0),C=f.useRef(j),E=f.useRef(0),{onToastAdd:P,onToastRemove:A}=g,I=Je(()=>{var V;(b==null?void 0:b.contains(document.activeElement))&&((V=g.viewport)==null||V.focus()),a()}),R=f.useCallback(O=>{!O||O===1/0||(window.clearTimeout(E.current),S.current=new Date().getTime(),E.current=window.setTimeout(I,O))},[I]);f.useEffect(()=>{const O=g.viewport;if(O){const V=()=>{R(C.current),u==null||u()},H=()=>{const W=new Date().getTime()-S.current;C.current=C.current-W,window.clearTimeout(E.current),c==null||c()};return O.addEventListener(Ff,H),O.addEventListener(Uf,V),()=>{O.removeEventListener(Ff,H),O.removeEventListener(Uf,V)}}},[g.viewport,j,c,u,R]),f.useEffect(()=>{o&&!g.isClosePausedRef.current&&R(j)},[o,j,g.isClosePausedRef,R]),f.useEffect(()=>(P(),()=>A()),[P,A]);const L=f.useMemo(()=>b?ww(b):null,[b]);return g.viewport?i.jsxs(i.Fragment,{children:[L&&i.jsx(A2,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),i.jsx(P2,{scope:r,onClose:I,children:Na.createPortal(i.jsx(yp.ItemSlot,{scope:r,children:i.jsx(h2,{asChild:!0,onEscapeKeyDown:je(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Ee.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:je(e.onKeyDown,O=>{O.key==="Escape"&&(l==null||l(O.nativeEvent),O.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:je(e.onPointerDown,O=>{O.button===0&&(w.current={x:O.clientX,y:O.clientY})}),onPointerMove:je(e.onPointerMove,O=>{if(!w.current)return;const V=O.clientX-w.current.x,H=O.clientY-w.current.y,W=!!_.current,D=["left","right"].includes(g.swipeDirection),U=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,z=D?U(0,V):0,J=D?0:U(0,H),fe=O.pointerType==="touch"?10:2,oe={x:z,y:J},de={originalEvent:O,delta:oe};W?(_.current=oe,Kl(k2,h,de,{discrete:!1})):Kv(oe,g.swipeDirection,fe)?(_.current=oe,Kl(N2,d,de,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(V)>fe||Math.abs(H)>fe)&&(w.current=null)}),onPointerUp:je(e.onPointerUp,O=>{const V=_.current,H=O.target;if(H.hasPointerCapture(O.pointerId)&&H.releasePointerCapture(O.pointerId),_.current=null,w.current=null,V){const W=O.currentTarget,D={originalEvent:O,delta:V};Kv(V,g.swipeDirection,g.swipeThreshold)?Kl(E2,p,D,{discrete:!0}):Kl(C2,m,D,{discrete:!0}),W.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),A2=e=>{const{__scopeToast:t,children:r,...n}=e,s=Hu(Bu,t),[o,a]=f.useState(!1),[l,c]=f.useState(!1);return I2(()=>a(!0)),f.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(gp,{asChild:!0,children:i.jsx(zu,{...n,children:o&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},O2="ToastTitle",pw=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(Ee.div,{...n,ref:t})});pw.displayName=O2;var M2="ToastDescription",gw=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(Ee.div,{...n,ref:t})});gw.displayName=M2;var vw="ToastAction",xw=f.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(bw,{altText:r,asChild:!0,children:i.jsx(bp,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${vw}\`. Expected non-empty \`string\`.`),null)});xw.displayName=vw;var yw="ToastClose",bp=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=T2(yw,r);return i.jsx(bw,{asChild:!0,children:i.jsx(Ee.button,{type:"button",...n,ref:t,onClick:je(e.onClick,s.onClose)})})});bp.displayName=yw;var bw=f.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return i.jsx(Ee.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function ww(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),D2(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const a=n.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...ww(n))}}),t}function Kl(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?ow(s,o):s.dispatchEvent(o)}var Kv=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function I2(e=()=>{}){const t=Je(e);jr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function D2(e){return e.nodeType===e.ELEMENT_NODE}function L2(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function sh(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var $2=uw,_w=hw,Sw=mw,jw=pw,Nw=gw,kw=xw,Cw=bp;function Ew(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Ew(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Pw(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Ew(e))&&(n&&(n+=" "),n+=t);return n}const Gv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Qv=Pw,Pa=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Qv(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,a=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=o==null?void 0:o[u];if(d===null)return null;const m=Gv(d)||Gv(h);return s[u][m]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:m,...p}=d;return Object.entries(p).every(v=>{let[g,b]=v;return Array.isArray(b)?b.includes({...o,...l}[g]):{...o,...l}[g]===b})?[...u,h,m]:u},[]);return Qv(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tw=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:a,...l},c)=>f.createElement("svg",{ref:c,...U2,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Tw("lucide",s),...l},[...a.map(([u,d])=>f.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(e,t)=>{const r=f.forwardRef(({className:n,...s},o)=>f.createElement(z2,{ref:o,iconNode:t,className:Tw(`lucide-${F2(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=se("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=se("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=se("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=se("Candy",[["path",{d:"m9.5 7.5-2 2a4.95 4.95 0 1 0 7 7l2-2a4.95 4.95 0 1 0-7-7Z",key:"ue6khb"}],["path",{d:"M14 6.5v10",key:"5xnk7c"}],["path",{d:"M10 7.5v10",key:"1uew51"}],["path",{d:"m16 7 1-5 1.37.68A3 3 0 0 0 19.7 3H21v1.3c0 .46.1.92.32 1.33L22 7l-5 1",key:"b9cp6k"}],["path",{d:"m8 17-1 5-1.37-.68A3 3 0 0 0 4.3 21H3v-1.3a3 3 0 0 0-.32-1.33L2 17l5-1",key:"5lney8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=se("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=se("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=se("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=se("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=se("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=se("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=se("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=se("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=se("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=se("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=se("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=se("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=se("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=se("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=se("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=se("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=se("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=se("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=se("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=se("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=se("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=se("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=se("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=se("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),_p="-",hP=e=>{const t=mP(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split(_p);return l[0]===""&&l.length!==1&&l.shift(),Uw(l,t)||fP(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},Uw=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Uw(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(_p);return(a=t.validators.find(({validator:l})=>l(o)))==null?void 0:a.classGroupId},Xv=/^\[(.+)\]$/,fP=e=>{if(Xv.test(e)){const t=Xv.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},mP=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return gP(Object.entries(e.classGroups),r).forEach(([o,a])=>{Hf(a,n,o,t)}),n},Hf=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Jv(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(pP(s)){Hf(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,a])=>{Hf(a,Jv(t,o),r,n)})})},Jv=(e,t)=>{let r=e;return t.split(_p).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},pP=e=>e.isThemeGetter,gP=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,l])=>[t+a,l])):o);return[r,s]}):e,vP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,a)=>{r.set(o,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return s(o,a),a},set(o,a){r.has(o)?r.set(o,a):s(o,a)}}},zw="!",xP=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,a=l=>{const c=[];let u=0,d=0,h;for(let b=0;b<l.length;b++){let y=l[b];if(u===0){if(y===s&&(n||l.slice(b,b+o)===t)){c.push(l.slice(d,b)),d=b+o;continue}if(y==="/"){h=b;continue}}y==="["?u++:y==="]"&&u--}const m=c.length===0?l:l.substring(d),p=m.startsWith(zw),v=p?m.substring(1):m,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:a}):a},yP=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},bP=e=>({cache:vP(e.cacheSize),parseClassName:xP(e),...hP(e)}),wP=/\s+/,_P=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],a=e.trim().split(wP);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}=r(u);let v=!!p,g=n(v?m.substring(0,p):m);if(!g){if(!v){l=u+(l.length>0?" "+l:l);continue}if(g=n(m),!g){l=u+(l.length>0?" "+l:l);continue}v=!1}const b=yP(d).join(":"),y=h?b+zw:b,x=y+g;if(o.includes(x))continue;o.push(x);const w=s(g,v);for(let _=0;_<w.length;++_){const j=w[_];o.push(y+j)}l=u+(l.length>0?" "+l:l)}return l};function SP(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Hw(t))&&(n&&(n+=" "),n+=r);return n}const Hw=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Hw(e[n]))&&(r&&(r+=" "),r+=t);return r};function jP(e,...t){let r,n,s,o=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return r=bP(u),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=_P(c,r);return s(c,d),d}return function(){return o(SP.apply(null,arguments))}}const Me=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Bw=/^\[(?:([a-z-]+):)?(.+)\]$/i,NP=/^\d+\/\d+$/,kP=new Set(["px","full","screen"]),CP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,TP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zr=e=>qo(e)||kP.has(e)||NP.test(e),Pn=e=>Oa(e,"length",FP),qo=e=>!!e&&!Number.isNaN(Number(e)),oh=e=>Oa(e,"number",qo),ti=e=>!!e&&Number.isInteger(Number(e)),AP=e=>e.endsWith("%")&&qo(e.slice(0,-1)),ce=e=>Bw.test(e),Tn=e=>CP.test(e),OP=new Set(["length","size","percentage"]),MP=e=>Oa(e,OP,Ww),IP=e=>Oa(e,"position",Ww),DP=new Set(["image","url"]),LP=e=>Oa(e,DP,zP),$P=e=>Oa(e,"",UP),ri=()=>!0,Oa=(e,t,r)=>{const n=Bw.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},FP=e=>EP.test(e)&&!PP.test(e),Ww=()=>!1,UP=e=>TP.test(e),zP=e=>RP.test(e),HP=()=>{const e=Me("colors"),t=Me("spacing"),r=Me("blur"),n=Me("brightness"),s=Me("borderColor"),o=Me("borderRadius"),a=Me("borderSpacing"),l=Me("borderWidth"),c=Me("contrast"),u=Me("grayscale"),d=Me("hueRotate"),h=Me("invert"),m=Me("gap"),p=Me("gradientColorStops"),v=Me("gradientColorStopPositions"),g=Me("inset"),b=Me("margin"),y=Me("opacity"),x=Me("padding"),w=Me("saturate"),_=Me("scale"),j=Me("sepia"),S=Me("skew"),C=Me("space"),E=Me("translate"),P=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",ce,t],R=()=>[ce,t],L=()=>["",Zr,Pn],O=()=>["auto",qo,ce],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",ce],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[qo,ce];return{cacheSize:500,separator:":",theme:{colors:[ri],spacing:[Zr,Pn],blur:["none","",Tn,ce],brightness:J(),borderColor:[e],borderRadius:["none","","full",Tn,ce],borderSpacing:R(),borderWidth:L(),contrast:J(),grayscale:U(),hueRotate:J(),invert:U(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[AP,Pn],inset:I(),margin:I(),opacity:J(),padding:R(),saturate:J(),scale:J(),sepia:U(),skew:J(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Tn]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),ce]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ti,ce]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",ti,ce]}],"grid-cols":[{"grid-cols":[ri]}],"col-start-end":[{col:["auto",{span:["full",ti,ce]},ce]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[ri]}],"row-start-end":[{row:["auto",{span:[ti,ce]},ce]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,t]}],"min-w":[{"min-w":[ce,t,"min","max","fit"]}],"max-w":[{"max-w":[ce,t,"none","full","min","max","fit","prose",{screen:[Tn]},Tn]}],h:[{h:[ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Tn,Pn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",oh]}],"font-family":[{font:[ri]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",qo,oh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zr,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zr,Pn]}],"underline-offset":[{"underline-offset":["auto",Zr,ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),IP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",MP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LP]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[Zr,ce]}],"outline-w":[{outline:[Zr,Pn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Zr,Pn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Tn,$P]}],"shadow-color":[{shadow:[ri]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Tn,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[ti,ce]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Zr,Pn,oh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},BP=jP(HP);function X(...e){return BP(Pw(e))}const WP=$2,Vw=f.forwardRef(({className:e,...t},r)=>i.jsx(_w,{ref:r,className:X("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Vw.displayName=_w.displayName;const VP=Pa("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),qw=f.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(Sw,{ref:n,className:X(VP({variant:t}),e),...r}));qw.displayName=Sw.displayName;const qP=f.forwardRef(({className:e,...t},r)=>i.jsx(kw,{ref:r,className:X("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));qP.displayName=kw.displayName;const Kw=f.forwardRef(({className:e,...t},r)=>i.jsx(Cw,{ref:r,className:X("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(io,{className:"h-4 w-4"})}));Kw.displayName=Cw.displayName;const Gw=f.forwardRef(({className:e,...t},r)=>i.jsx(jw,{ref:r,className:X("text-sm font-semibold",e),...t}));Gw.displayName=jw.displayName;const Qw=f.forwardRef(({className:e,...t},r)=>i.jsx(Nw,{ref:r,className:X("text-sm opacity-90",e),...t}));Qw.displayName=Nw.displayName;function KP(){const{toasts:e}=Ea();return i.jsxs(WP,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return i.jsxs(qw,{...o,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(Gw,{children:r}),n&&i.jsx(Qw,{children:n})]}),s,i.jsx(Kw,{})]},t)}),i.jsx(Vw,{})]})}const GP="modulepreload",QP=function(e){return"/"+e},Zv={},il=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=QP(c),c in Zv)return;Zv[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":GP,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},YP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>il(async()=>{const{default:n}=await Promise.resolve().then(()=>Ma);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Sp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class XP extends Sp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ex extends Sp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class tx extends Sp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Bf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Bf||(Bf={}));var JP=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class ZP{constructor(t,{headers:r={},customFetch:n,region:s=Bf.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=YP(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return JP(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:a}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(g=>{throw new XP(g)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new ex(h);if(!h.ok)throw new tx(h);let p=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield h.json():p==="application/octet-stream"?v=yield h.blob():p==="text/event-stream"?v=h:p==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof tx||s instanceof ex?s.context:void 0}}})}}var Mt={},jp={},Vu={},ll={},qu={},Ku={},eT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xa=eT();const tT=xa.fetch,Yw=xa.fetch.bind(xa),Xw=xa.Headers,rT=xa.Request,nT=xa.Response,Ma=Object.freeze(Object.defineProperty({__proto__:null,Headers:Xw,Request:rT,Response:nT,default:Yw,fetch:tT},Symbol.toStringTag,{value:"Module"})),sT=lj(Ma);var Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});let oT=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Gu.default=oT;var Jw=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ku,"__esModule",{value:!0});const aT=Jw(sT),iT=Jw(Gu);let lT=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=aT.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var a,l,c;let u=null,d=null,h=null,m=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const g=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await o.text();try{u=JSON.parse(g),Array.isArray(u)&&o.status===404&&(d=[],u=null,m=200,p="OK")}catch{o.status===404&&g===""?(m=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,p="OK"),u&&this.shouldThrowOnError)throw new iT.default(u)}return{error:u,data:d,count:h,status:m,statusText:p}});return this.shouldThrowOnError||(s=s.catch(o=>{var a,l,c;return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Ku.default=lT;var cT=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qu,"__esModule",{value:!0});const uT=cT(Ku);let dT=class extends uT.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};qu.default=dT;var hT=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ll,"__esModule",{value:!0});const fT=hT(qu);let mT=class extends fT.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ll.default=mT;var pT=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vu,"__esModule",{value:!0});const ni=pT(ll);let gT=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new ni.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ni.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ni.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new ni.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new ni.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Vu.default=gT;var Qu={},Yu={};Object.defineProperty(Yu,"__esModule",{value:!0});Yu.version=void 0;Yu.version="0.0.0-automated";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.DEFAULT_HEADERS=void 0;const vT=Yu;Qu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${vT.version}`};var Zw=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jp,"__esModule",{value:!0});const xT=Zw(Vu),yT=Zw(ll),bT=Qu;let wT=class e1{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},bT.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new xT.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new yT.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};jp.default=wT;var Ia=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.PostgrestError=Mt.PostgrestBuilder=Mt.PostgrestTransformBuilder=Mt.PostgrestFilterBuilder=Mt.PostgrestQueryBuilder=Mt.PostgrestClient=void 0;const t1=Ia(jp);Mt.PostgrestClient=t1.default;const r1=Ia(Vu);Mt.PostgrestQueryBuilder=r1.default;const n1=Ia(ll);Mt.PostgrestFilterBuilder=n1.default;const s1=Ia(qu);Mt.PostgrestTransformBuilder=s1.default;const o1=Ia(Ku);Mt.PostgrestBuilder=o1.default;const a1=Ia(Gu);Mt.PostgrestError=a1.default;var _T=Mt.default={PostgrestClient:t1.default,PostgrestQueryBuilder:r1.default,PostgrestFilterBuilder:n1.default,PostgrestTransformBuilder:s1.default,PostgrestBuilder:o1.default,PostgrestError:a1.default};const{PostgrestClient:ST,PostgrestQueryBuilder:L3,PostgrestFilterBuilder:$3,PostgrestTransformBuilder:F3,PostgrestBuilder:U3,PostgrestError:z3}=_T;function jT(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const NT=jT(),kT="2.11.15",CT=`realtime-js/${kT}`,ET="1.0.0",i1=1e4,PT=1e3;var wi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(wi||(wi={}));var gt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(gt||(gt={}));var vr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vr||(vr={}));var Wf;(function(e){e.websocket="websocket"})(Wf||(Wf={}));var Ps;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ps||(Ps={}));class TT{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+s));a=a+s;const c=n.decode(t.slice(a,a+o));a=a+o;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class l1{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ae;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ae||(Ae={}));const rx=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,a)=>(o[a]=RT(a,e,t,s),o),{})},RT=(e,t,r,n)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,a=r[e];return o&&!n.includes(o)?c1(o,a):Vf(a)},c1=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return IT(t,r)}switch(e){case Ae.bool:return AT(t);case Ae.float4:case Ae.float8:case Ae.int2:case Ae.int4:case Ae.int8:case Ae.numeric:case Ae.oid:return OT(t);case Ae.json:case Ae.jsonb:return MT(t);case Ae.timestamp:return DT(t);case Ae.abstime:case Ae.date:case Ae.daterange:case Ae.int4range:case Ae.int8range:case Ae.money:case Ae.reltime:case Ae.text:case Ae.time:case Ae.timestamptz:case Ae.timetz:case Ae.tsrange:case Ae.tstzrange:return Vf(t);default:return Vf(t)}},Vf=e=>e,AT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},OT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},MT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},IT=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const a=e.slice(1,r);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(l=>c1(t,l))}return e},DT=e=>typeof e=="string"?e.replace(" ","T"):e,u1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ah{constructor(t,r,n={},s=i1){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var nx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(nx||(nx={}));class _i{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_i.syncState(this.state,s,o,a),this.pendingDiffs.forEach(c=>{this.state=_i.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=_i.syncDiff(this.state,s,o,a),l())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(o,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=o[u];if(h){const m=d.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),v=d.filter(b=>p.indexOf(b.presence_ref)<0),g=h.filter(b=>m.indexOf(b.presence_ref)<0);v.length>0&&(l[u]=v),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(p=>p.presence_ref),m=d.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...m)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(sx||(sx={}));var ox;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ox||(ox={}));var nn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(nn||(nn={}));class Np{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ah(this,vr.join,this.params,this.timeout),this.rejoinTimer=new l1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vr.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new _i(this),this.broadcastEndpointURL=u1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==gt.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(nn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(nn.CLOSED));const c={},u={broadcast:o,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(nn.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,p=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,v=[];for(let g=0;g<p;g++){const b=m[g],{filter:{event:y,schema:x,table:w,filter:_}}=b,j=d&&d[g];if(j&&j.event===y&&j.schema===x&&j.table===w&&j.filter===_)v.push(Object.assign(Object.assign({},b),{id:j.id}));else{this.unsubscribe(),this.state=gt.errored,t==null||t(nn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(nn.SUBSCRIBED);return}}).receive("error",d=>{this.state=gt.errored,t==null||t(nn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(nn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=gt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ah(this,vr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ah(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=vr;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let m=this._onMessage(a,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,g,b;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(g=p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(p=>p.callback(m,n)):(o=this.bindings[a])===null||o===void 0||o.filter(p=>{var v,g,b,y,x,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const _=p.id,j=(v=p.filter)===null||v===void 0?void 0:v.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(x=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:g,table:b,commit_timestamp:y,type:x,errors:w}=v;m=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:y,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(v))}p.callback(m,n)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Np.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vr.close,{},t)}_onError(t){this._on(vr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=rx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=rx(t.columns,t.old_record)),r}}const ax=()=>{},LT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $T{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=i1,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ax,this.ref=0,this.logger=ax,this.conn=null,this.sendBuffer=[],this.serializer=new TT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...l)=>il(async()=>{const{default:c}=await Promise.resolve().then(()=>Ma);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${Wf.websocket}`,this.httpEndpoint=u1(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,a)=>a(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new l1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=NT),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ET}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case wi.connecting:return Ps.Connecting;case wi.open:return Ps.Open;case wi.closing:return Ps.Closing;default:return Ps.Closed}}isConnected(){return this.connectionState()===Ps.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Np(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:CT};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(vr.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(PT,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:o,ref:a}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,o,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(vr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([LT],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class kp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function nt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class FT extends kp{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qf extends kp{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var UT=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const d1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>il(async()=>{const{default:n}=await Promise.resolve().then(()=>Ma);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},zT=()=>UT(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield il(()=>Promise.resolve().then(()=>Ma),void 0)).Response:Response}),Kf=e=>{if(Array.isArray(e))return e.map(r=>Kf(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Kf(n)}),t},HT=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var lo=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const ih=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),BT=(e,t,r)=>lo(void 0,void 0,void 0,function*(){const n=yield zT();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const o=e.status||500,a=(s==null?void 0:s.statusCode)||o+"";t(new FT(ih(s),o,a))}).catch(s=>{t(new qf(ih(s),s))}):t(new qf(ih(e),e))}),WT=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(HT(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function cl(e,t,r,n,s,o){return lo(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,WT(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>BT(c,l,n))})})}function cu(e,t,r,n){return lo(this,void 0,void 0,function*(){return cl(e,"GET",t,r,n)})}function sn(e,t,r,n,s){return lo(this,void 0,void 0,function*(){return cl(e,"POST",t,n,s,r)})}function Gf(e,t,r,n,s){return lo(this,void 0,void 0,function*(){return cl(e,"PUT",t,n,s,r)})}function VT(e,t,r,n){return lo(this,void 0,void 0,function*(){return cl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function h1(e,t,r,n,s){return lo(this,void 0,void 0,function*(){return cl(e,"DELETE",t,n,s,r)})}var Pt=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const qT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ix={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class KT{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=d1(s)}uploadOrUpdate(t,r,n,s){return Pt(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},ix),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?Gf:sn)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(nt(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Pt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),a=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:ix.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Gf(this.fetch,l.toString(),c,{headers:d});return{data:{path:o,fullPath:h.Key},error:null}}catch(c){if(nt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Pt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield sn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+o.url),l=a.searchParams.get("token");if(!l)throw new kp("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Pt(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Pt(this,void 0,void 0,function*(){try{return{data:{path:(yield sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Pt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield sn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Pt(this,void 0,void 0,function*(){try{const s=yield sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}download(t,r){return Pt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield cu(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(nt(l))return{data:null,error:l};throw l}})}info(t){return Pt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield cu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Kf(n),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}exists(t){return Pt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield VT(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(nt(n)&&n instanceof qf){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Pt(this,void 0,void 0,function*(){try{return{data:yield h1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Pt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},qT),r),{prefix:t||""});return{data:yield sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const GT="2.10.4",QT={"X-Client-Info":`storage-js/${GT}`};var vo=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class YT{constructor(t,r={},n,s){const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},QT),r),this.fetch=d1(n)}listBuckets(){return vo(this,void 0,void 0,function*(){try{return{data:yield cu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(nt(t))return{data:null,error:t};throw t}})}getBucket(t){return vo(this,void 0,void 0,function*(){try{return{data:yield cu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return vo(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return vo(this,void 0,void 0,function*(){try{return{data:yield Gf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return vo(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return vo(this,void 0,void 0,function*(){try{return{data:yield h1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}})}}class XT extends YT{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new KT(this.url,this.headers,t,this.fetch)}}const JT="2.53.0";let ui="";typeof Deno<"u"?ui="deno":typeof document<"u"?ui="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ui="react-native":ui="node";const ZT={"X-Client-Info":`supabase-js-${ui}/${JT}`},eR={headers:ZT},tR={schema:"public"},rR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nR={};var sR=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const oR=e=>{let t;return e?t=e:typeof fetch>"u"?t=Yw:t=fetch,(...r)=>t(...r)},aR=()=>typeof Headers>"u"?Xw:Headers,iR=(e,t,r)=>{const n=oR(r),s=aR();return(o,a)=>sR(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},a),{headers:u}))})};var lR=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function cR(e){return e.endsWith("/")?e:e+"/"}function uR(e,t){var r,n;const{db:s,auth:o,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>lR(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const f1="2.71.1",No=30*1e3,Qf=3,lh=Qf*No,dR="http://localhost:9999",hR="supabase.auth.token",fR={"X-Client-Info":`gotrue-js/${f1}`},Yf="X-Supabase-Api-Version",m1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pR=10*60*1e3;class Cp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function le(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class gR extends Cp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function vR(e){return le(e)&&e.name==="AuthApiError"}class p1 extends Cp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class xs extends Cp{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Mn extends xs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xR(e){return le(e)&&e.name==="AuthSessionMissingError"}class Gl extends xs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ql extends xs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Yl extends xs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yR(e){return le(e)&&e.name==="AuthImplicitGrantRedirectError"}class lx extends xs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xf extends xs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ch(e){return le(e)&&e.name==="AuthRetryableFetchError"}class cx extends xs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Jf extends xs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const uu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ux=` 	
\r=`.split(""),bR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ux.length;t+=1)e[ux[t].charCodeAt(0)]=-2;for(let t=0;t<uu.length;t+=1)e[uu[t].charCodeAt(0)]=t;return e})();function dx(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(uu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(uu[n]),t.queuedBits-=6}}function g1(e,t,r){const n=bR[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function hx(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{SR(a,n,r)};for(let a=0;a<e.length;a+=1)g1(e.charCodeAt(a),s,o);return t.join("")}function wR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function _R(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}wR(n,t)}}function SR(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function jR(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)g1(e.charCodeAt(s),r,n);return new Uint8Array(t)}function NR(e){const t=[];return _R(e,r=>t.push(r)),new Uint8Array(t)}function kR(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>dx(s,r,n)),dx(null,r,n),t.join("")}function CR(e){return Math.round(Date.now()/1e3)+e}function ER(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const dr=()=>typeof window<"u"&&typeof document<"u",_s={tested:!1,writable:!1},v1=()=>{if(!dr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_s.tested)return _s.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),_s.tested=!0,_s.writable=!0}catch{_s.tested=!0,_s.writable=!1}return _s.writable};function PR(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const x1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>il(async()=>{const{default:n}=await Promise.resolve().then(()=>Ma);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},TR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ko=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ss=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Rn=async(e,t)=>{await e.removeItem(t)};class Xu{constructor(){this.promise=new Xu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Xu.promiseConstructor=Promise;function uh(e){const t=e.split(".");if(t.length!==3)throw new Jf("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!mR.test(t[n]))throw new Jf("JWT not in base64url format");return{header:JSON.parse(hx(t[0])),payload:JSON.parse(hx(t[1])),signature:jR(t[2]),raw:{header:t[0],payload:t[1]}}}async function RR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function AR(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){n(a);return}}catch(a){if(!t(o,a)){s(a);return}}})()})}function OR(e){return("0"+e.toString(16)).substr(-2)}function MR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,OR).join("")}async function IR(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function DR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await IR(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xo(e,t,r=!1){const n=MR();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ko(e,`${t}-code-verifier`,s);const o=await DR(n);return[o,n===o?"plain":"s256"]}const LR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $R(e){const t=e.headers.get(Yf);if(!t||!t.match(LR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function FR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function UR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yo(e){if(!zR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function dh(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fx(e){return JSON.parse(JSON.stringify(e))}var HR=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ks=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),BR=[502,503,504];async function mx(e){var t;if(!TR(e))throw new Xf(ks(e),0);if(BR.includes(e.status))throw new Xf(ks(e),e.status);let r;try{r=await e.json()}catch(o){throw new p1(ks(o),o)}let n;const s=$R(e);if(s&&s.getTime()>=m1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new cx(ks(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Mn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new cx(ks(r),e.status,r.weak_password.reasons);throw new gR(ks(r),e.status||500,n)}const WR=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function me(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Yf]||(o[Yf]=m1["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await VR(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function VR(e,t,r,n,s,o){const a=WR(t,n,s,o);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new Xf(ks(c),0)}if(l.ok||await mx(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await mx(c)}}function tn(e){var t;let r=null;QR(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=CR(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function px(e){const t=tn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Un(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function qR(e){return{data:e,error:null}}function KR(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,a=HR(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function GR(e){return e}function QR(e){return e.access_token&&e.refresh_token&&e.expires_in}const hh=["global","local","others"];var YR=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class XR{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=x1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=hh[0]){if(hh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hh.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Un})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=YR(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:KR,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(le(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Un})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:GR});if(d.error)throw d.error;const h=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(le(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){yo(t);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Un})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){yo(t);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Un})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){yo(t);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Un})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){yo(t.userId);try{const{data:r,error:n}=await me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(le(r))return{data:null,error:r};throw r}}async _deleteFactor(t){yo(t.userId),yo(t.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}}function gx(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function JR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const bo={debug:!!(globalThis&&v1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class y1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ZR extends y1{}async function eA(e,t,r){bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),bo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ZR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(bo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}JR();const tA={url:dR,storageKey:hR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vx(e,t,r){return await r()}const wo={};class Vi{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vi.nextInstanceID,Vi.nextInstanceID+=1,this.instanceID>0&&dr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},tA),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new XR({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=x1(s.fetch),this.lock=s.lock||vx,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:dr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=eA:this.lock=vx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:v1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gx(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=gx(this.memoryStorage)),dr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=wo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){wo[this.storageKey]=Object.assign(Object.assign({},wo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=wo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){wo[this.storageKey]=Object.assign(Object.assign({},wo[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${f1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=PR(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),dr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),yR(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return le(r)?{error:r}:{error:new p1("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:tn}),{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(le(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:h,options:m}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await xo(this.storage,this.storageKey)),o=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:v},xform:tn})}else if("phone"in t){const{phone:d,password:h,options:m}=t;o=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:tn})}else throw new Ql("You must provide either an email or phone number and a password");const{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(le(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:a,options:l}=t;r=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:px})}else if("phone"in t){const{phone:o,password:a,options:l}=t;r=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:px})}else throw new Ql("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Gl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(le(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,o,a,l,c,u,d,h,m,p;let v,g;if("message"in t)v=t.message,g=t.signature;else{const{chain:b,wallet:y,statement:x,options:w}=t;let _;if(dr())if(typeof y=="object")_=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),x?{statement:x}:null));let C;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")C=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)C=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:b,error:y}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:kR(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:tn});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Gl}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(le(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await Ss(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:a}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:tn});if(await Rn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Gl}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(le(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:a}=t,l=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:tn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Gl}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(le(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await xo(this.storage,this.storageKey));const{error:h}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ql("You must provide either an email or phone number.")}catch(l){if(le(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:tn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(le(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await xo(this.storage,this.storageKey)),await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:qR})}catch(o){if(le(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Mn;const{error:s}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(le(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:a}=await me(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:a,error:l}=await me(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Ql("You must provide either an email or phone number and a type")}catch(r){if(le(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ss(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<lh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Ss(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=dh()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Un}):await this._useSession(async r=>{var n,s,o;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mn}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Un})})}catch(r){if(le(r))return xR(r)&&(await this._removeSession(),await Rn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Mn;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await xo(this.storage,this.storageKey));const{data:u,error:d}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Un});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Mn;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:a}=uh(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(le(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Mn;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(le(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!dr())throw new Yl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Yl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new lx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new lx("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!a||!u)throw new Yl("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;c&&(m=parseInt(c));const p=m-d;p*1e3<=No&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=m-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,d);const{data:g,error:b}=await this._getUser(o);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:m,refresh_token:a,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(le(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ss(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(vR(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Rn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=ER(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await xo(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(le(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var a,l,c,u,d;const{data:h,error:m}=o;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return dr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(le(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)throw a;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(le(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await AR(async s=>(s>0&&await RR(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:tn})),(s,o)=>{const a=200*Math.pow(2,s);return o&&ch(o)&&Date.now()+a-n<No})}catch(n){if(this._debug(r,"error",n),le(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),dr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Ss(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Ss(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await ko(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:dh()}else if(s&&!s.user&&!s.user){const a=await Ss(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Rn(this.storage,this.storageKey+"-user"),await ko(this.storage,this.storageKey,s)):s.user=dh()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<lh;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${lh}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),ch(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Xu;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new Mn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),le(o)){const a={session:null,error:o};return ch(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(a),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ko(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=fx(s);await ko(this.storage,this.storageKey,o)}else{const s=fx(r);await ko(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Rn(this.storage,this.storageKey),await Rn(this.storage,this.storageKey+"-code-verifier"),await Rn(this.storage,this.storageKey+"-user"),this.userStorage&&await Rn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),No);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/No);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${No}ms, refresh threshold is ${Qf} ticks`),s<=Qf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof y1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,a]=await xo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(le(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await me(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(le(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:a,error:l}=await me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(le(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(le(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=uh(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+pR>s)return n;const{data:o,error:a}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};n=p.session.access_token}const{header:s,payload:o,signature:a,raw:{header:l,payload:c}}=uh(n);r!=null&&r.allowExpired||FR(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:a},error:null}}const d=UR(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,NR(`${l}.${c}`)))throw new Jf("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}}Vi.nextInstanceID=0;const rA=Vi;class nA extends rA{constructor(t){super(t)}}var sA=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class oA{constructor(t,r,n){var s,o,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=cR(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:tR,realtime:nR,auth:Object.assign(Object.assign({},rR),{storageKey:u}),global:eR},h=uR(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=iR(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new ST(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new XT(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new ZP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return sA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:a,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nA({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new $T(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const aA=(e,t,r)=>new oA(e,t,r);function iA(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}iA()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lA="https://wueccgeizznjmjgmuscy.supabase.co",cA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1ZWNjZ2Vpenpuam1qZ211c2N5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM3NDczODYsImV4cCI6MjA2OTMyMzM4Nn0.anj1HLW-eXLyZd0SQmB6Rmkf00-wndFKqtOW4PV5bmc",B=aA(lA,cA,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage}}),b1=f.createContext(void 0),uA=({children:e})=>{const[t,r]=f.useState(null),[n,s]=f.useState(null),[o,a]=f.useState(!0),{toast:l}=Ea(),c=!!t&&!!n;f.useEffect(()=>{console.log("🚀 [useUnifiedAuth] Getting initial session..."),B.auth.getSession().then(({data:{session:g}})=>{r((g==null?void 0:g.user)??null),g!=null&&g.user?u(g.user.id):a(!1)});const{data:{subscription:v}}=B.auth.onAuthStateChange((g,b)=>{var y;console.log(`🔄 [useUnifiedAuth] Auth state changed: ${g}`,(y=b==null?void 0:b.user)==null?void 0:y.id),r((b==null?void 0:b.user)??null),b!=null&&b.user?setTimeout(()=>{u(b.user.id)},0):(s(null),a(!1))});return()=>v.unsubscribe()},[]);const u=async v=>{try{console.log(`🔍 [useUnifiedAuth] Loading Habbo account for user: ${v}`);const{data:g,error:b}=await B.from("habbo_accounts").select("*").eq("supabase_user_id",v).single();b?(console.error("❌ [useUnifiedAuth] Error loading Habbo account:",b),s(null)):(console.log("✅ [useUnifiedAuth] Habbo account loaded:",g.habbo_name),s(g))}catch(g){console.error("❌ [useUnifiedAuth] Error loading Habbo account:",g),s(null)}finally{a(!1)}},d=async(v,g)=>{try{a(!0),console.log("🔐 [useUnifiedAuth] Attempting login for:",v);const{data:b,error:y}=await B.rpc("get_auth_email_for_habbo_with_hotel",{habbo_name_param:v,hotel_param:"br"});if(y||!b)throw new Error('Conta não encontrada. Use a aba "Missão" para se cadastrar.');const x=b;console.log("🔐 [useUnifiedAuth] Attempting login with email:",x);const{data:w,error:_}=await B.auth.signInWithPassword({email:x,password:g});if(_)throw _.message.includes("Invalid login credentials")?new Error('Senha incorreta. Use a aba "Missão" para redefinir.'):_;if(w.user)return console.log("✅ [useUnifiedAuth] Login successful for:",v),l({title:"Login realizado",description:`Bem-vindo de volta, ${v}!`}),w;throw new Error("Erro no login")}catch(b){throw console.error("❌ [useUnifiedAuth] Login error:",b),l({title:"Erro no login",description:b.message,variant:"destructive"}),b}finally{a(!1)}},h=async()=>{try{a(!0),r(null),s(null);const{error:v}=await B.auth.signOut();v&&v.message!=="Auth session missing!"&&console.error("❌ [useUnifiedAuth] Logout error:",v),l({title:"Logout realizado",description:"Você foi desconectado com sucesso."})}catch(v){console.error("❌ [useUnifiedAuth] Logout error:",v),r(null),s(null),l({title:"Logout realizado",description:"Você foi desconectado com sucesso."})}finally{a(!1)}},m=async()=>{t&&await u(t.id)},p=()=>(n==null?void 0:n.is_admin)===!0;return i.jsx(b1.Provider,{value:{user:t,habboAccount:n,isLoggedIn:c,loading:o,loginWithPassword:d,logout:h,refreshHabboAccount:m,isAdmin:p},children:e})},ys=()=>{const e=f.useContext(b1);if(e===void 0)throw new Error("useUnifiedAuth must be used within an UnifiedAuthProvider");return e},fh=768;function Ju(){const[e,t]=f.useState(void 0);return f.useEffect(()=>{const r=window.matchMedia(`(max-width: ${fh-1}px)`),n=()=>{t(window.innerWidth<fh)};return r.addEventListener("change",n),t(window.innerWidth<fh),()=>r.removeEventListener("change",n)},[]),!!e}const dA=Pa("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=f.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const a=n?Sr:"button";return i.jsx(a,{className:X(dA({variant:t,size:r,className:e})),ref:o,...s})});ee.displayName="Button";const Kt=f.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:X("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Kt.displayName="Input";var hA="Separator",xx="horizontal",fA=["horizontal","vertical"],w1=f.forwardRef((e,t)=>{const{decorative:r,orientation:n=xx,...s}=e,o=mA(n)?n:xx,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return i.jsx(Ee.div,{"data-orientation":o,...l,...s,ref:t})});w1.displayName=hA;function mA(e){return fA.includes(e)}var _1=w1;const S1=f.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>i.jsx(_1,{ref:s,decorative:r,orientation:t,className:X("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));S1.displayName=_1.displayName;var pA=_u.useId||(()=>{}),gA=0;function wc(e){const[t,r]=f.useState(pA());return jr(()=>{e||r(n=>n??String(gA++))},[e]),e||(t?`radix-${t}`:"")}var mh="focusScope.autoFocusOnMount",ph="focusScope.autoFocusOnUnmount",yx={bubbles:!1,cancelable:!0},vA="FocusScope",j1=f.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=e,[l,c]=f.useState(null),u=Je(s),d=Je(o),h=f.useRef(null),m=Ke(t,g=>c(g)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(n){let g=function(w){if(p.paused||!l)return;const _=w.target;l.contains(_)?h.current=_:In(h.current,{select:!0})},b=function(w){if(p.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||In(h.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&In(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const x=new MutationObserver(y);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),x.disconnect()}}},[n,l,p.paused]),f.useEffect(()=>{if(l){wx.add(p);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(mh,yx);l.addEventListener(mh,u),l.dispatchEvent(y),y.defaultPrevented||(xA(SA(N1(l)),{select:!0}),document.activeElement===g&&In(l))}return()=>{l.removeEventListener(mh,u),setTimeout(()=>{const y=new CustomEvent(ph,yx);l.addEventListener(ph,d),l.dispatchEvent(y),y.defaultPrevented||In(g??document.body,{select:!0}),l.removeEventListener(ph,d),wx.remove(p)},0)}}},[l,u,d,p]);const v=f.useCallback(g=>{if(!r&&!n||p.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(b&&y){const x=g.currentTarget,[w,_]=yA(x);w&&_?!g.shiftKey&&y===_?(g.preventDefault(),r&&In(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),r&&In(_,{select:!0})):y===x&&g.preventDefault()}},[r,n,p.paused]);return i.jsx(Ee.div,{tabIndex:-1,...a,ref:m,onKeyDown:v})});j1.displayName=vA;function xA(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(In(n,{select:t}),document.activeElement!==r)return}function yA(e){const t=N1(e),r=bx(t,e),n=bx(t.reverse(),e);return[r,n]}function N1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function bx(e,t){for(const r of e)if(!bA(r,{upTo:t}))return r}function bA(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function wA(e){return e instanceof HTMLInputElement&&"select"in e}function In(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&wA(e)&&t&&e.select()}}var wx=_A();function _A(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=_x(e,t),e.unshift(t)},remove(t){var r;e=_x(e,t),(r=e[0])==null||r.resume()}}}function _x(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function SA(e){return e.filter(t=>t.tagName!=="A")}var gh=0;function jA(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Sx()),document.body.insertAdjacentElement("beforeend",e[1]??Sx()),gh++,()=>{gh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gh--}},[])}function Sx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Lr=function(){return Lr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Lr.apply(this,arguments)};function k1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function NA(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var _c="right-scroll-bar-position",Sc="width-before-scroll-bar",kA="with-scroll-bars-hidden",CA="--removed-body-scroll-bar-size";function vh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function EA(e,t){var r=f.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var PA=typeof window<"u"?f.useLayoutEffect:f.useEffect,jx=new WeakMap;function TA(e,t){var r=EA(null,function(n){return e.forEach(function(s){return vh(s,n)})});return PA(function(){var n=jx.get(r);if(n){var s=new Set(n),o=new Set(e),a=r.current;s.forEach(function(l){o.has(l)||vh(l,null)}),o.forEach(function(l){s.has(l)||vh(l,a)})}jx.set(r,e)},[e]),r}function RA(e){return e}function AA(e,t){t===void 0&&(t=RA);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var a=t(o,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(n=!0;r.length;){var a=r;r=[],a.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(o),a=r}var c=function(){var d=a;a=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return s}function OA(e){e===void 0&&(e={});var t=AA(null);return t.options=Lr({async:!0,ssr:!1},e),t}var C1=function(e){var t=e.sideCar,r=k1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return f.createElement(n,Lr({},r))};C1.isSideCarExport=!0;function MA(e,t){return e.useMedium(t),C1}var E1=OA(),xh=function(){},Zu=f.forwardRef(function(e,t){var r=f.useRef(null),n=f.useState({onScrollCapture:xh,onWheelCapture:xh,onTouchMoveCapture:xh}),s=n[0],o=n[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,m=e.sideCar,p=e.noIsolation,v=e.inert,g=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,x=e.gapMode,w=k1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=m,j=TA([r,t]),S=Lr(Lr({},w),s);return f.createElement(f.Fragment,null,d&&f.createElement(_,{sideCar:E1,removeScrollBar:u,shards:h,noIsolation:p,inert:v,setCallbacks:o,allowPinchZoom:!!g,lockRef:r,gapMode:x}),a?f.cloneElement(f.Children.only(l),Lr(Lr({},S),{ref:j})):f.createElement(y,Lr({},S,{className:c,ref:j}),l))});Zu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zu.classNames={fullWidth:Sc,zeroRight:_c};var IA=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function DA(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=IA();return t&&e.setAttribute("nonce",t),e}function LA(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $A(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var FA=function(){var e=0,t=null;return{add:function(r){e==0&&(t=DA())&&(LA(t,r),$A(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},UA=function(){var e=FA();return function(t,r){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},P1=function(){var e=UA(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},zA={left:0,top:0,right:0,gap:0},yh=function(e){return parseInt(e||"",10)||0},HA=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[yh(r),yh(n),yh(s)]},BA=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return zA;var t=HA(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},WA=P1(),Ko="data-scroll-locked",VA=function(e,t,r,n){var s=e.left,o=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(kA,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ko,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_c,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Sc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(_c," .").concat(_c,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Sc," .").concat(Sc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ko,`] {
    `).concat(CA,": ").concat(l,`px;
  }
`)},Nx=function(){var e=parseInt(document.body.getAttribute(Ko)||"0",10);return isFinite(e)?e:0},qA=function(){f.useEffect(function(){return document.body.setAttribute(Ko,(Nx()+1).toString()),function(){var e=Nx()-1;e<=0?document.body.removeAttribute(Ko):document.body.setAttribute(Ko,e.toString())}},[])},KA=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;qA();var o=f.useMemo(function(){return BA(s)},[s]);return f.createElement(WA,{styles:VA(o,!t,s,r?"":"!important")})},Zf=!1;if(typeof window<"u")try{var Xl=Object.defineProperty({},"passive",{get:function(){return Zf=!0,!0}});window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{Zf=!1}var _o=Zf?{passive:!1}:!1,GA=function(e){return e.tagName==="TEXTAREA"},T1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!GA(e)&&r[t]==="visible")},QA=function(e){return T1(e,"overflowY")},YA=function(e){return T1(e,"overflowX")},kx=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=R1(e,n);if(s){var o=A1(e,n),a=o[1],l=o[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},XA=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},JA=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},R1=function(e,t){return e==="v"?QA(t):YA(t)},A1=function(e,t){return e==="v"?XA(t):JA(t)},ZA=function(e,t){return e==="h"&&t==="rtl"?-1:1},eO=function(e,t,r,n,s){var o=ZA(e,window.getComputedStyle(t).direction),a=o*n,l=r.target,c=t.contains(l),u=!1,d=a>0,h=0,m=0;do{var p=A1(e,l),v=p[0],g=p[1],b=p[2],y=g-b-o*v;(v||y)&&R1(e,l)&&(h+=y,m+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(m)<1||!s))&&(u=!0),u},Jl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Cx=function(e){return[e.deltaX,e.deltaY]},Ex=function(e){return e&&"current"in e?e.current:e},tO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},rO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},nO=0,So=[];function sO(e){var t=f.useRef([]),r=f.useRef([0,0]),n=f.useRef(),s=f.useState(nO++)[0],o=f.useState(P1)[0],a=f.useRef(e);f.useEffect(function(){a.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=NA([e.lockRef.current],(e.shards||[]).map(Ex),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var y=Jl(g),x=r.current,w="deltaX"in g?g.deltaX:x[0]-y[0],_="deltaY"in g?g.deltaY:x[1]-y[1],j,S=g.target,C=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in g&&C==="h"&&S.type==="range")return!1;var E=kx(C,S);if(!E)return!0;if(E?j=C:(j=C==="v"?"h":"v",E=kx(C,S)),!E)return!1;if(!n.current&&"changedTouches"in g&&(w||_)&&(n.current=j),!j)return!0;var P=n.current||j;return eO(P,b,g,P==="h"?w:_,!0)},[]),c=f.useCallback(function(g){var b=g;if(!(!So.length||So[So.length-1]!==o)){var y="deltaY"in b?Cx(b):Jl(b),x=t.current.filter(function(j){return j.name===b.type&&(j.target===b.target||b.target===j.shadowParent)&&tO(j.delta,y)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var w=(a.current.shards||[]).map(Ex).filter(Boolean).filter(function(j){return j.contains(b.target)}),_=w.length>0?l(b,w[0]):!a.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=f.useCallback(function(g,b,y,x){var w={name:g,delta:b,target:y,should:x,shadowParent:oO(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=f.useCallback(function(g){r.current=Jl(g),n.current=void 0},[]),h=f.useCallback(function(g){u(g.type,Cx(g),g.target,l(g,e.lockRef.current))},[]),m=f.useCallback(function(g){u(g.type,Jl(g),g.target,l(g,e.lockRef.current))},[]);f.useEffect(function(){return So.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,_o),document.addEventListener("touchmove",c,_o),document.addEventListener("touchstart",d,_o),function(){So=So.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,_o),document.removeEventListener("touchmove",c,_o),document.removeEventListener("touchstart",d,_o)}},[]);var p=e.removeScrollBar,v=e.inert;return f.createElement(f.Fragment,null,v?f.createElement(o,{styles:rO(s)}):null,p?f.createElement(KA,{gapMode:e.gapMode}):null)}function oO(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const aO=MA(E1,sO);var O1=f.forwardRef(function(e,t){return f.createElement(Zu,Lr({},e,{ref:t,sideCar:aO}))});O1.classNames=Zu.classNames;var iO=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},jo=new WeakMap,Zl=new WeakMap,ec={},bh=0,M1=function(e){return e&&(e.host||M1(e.parentNode))},lO=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=M1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},cO=function(e,t,r,n){var s=lO(t,Array.isArray(e)?e:[e]);ec[r]||(ec[r]=new WeakMap);var o=ec[r],a=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))d(m);else try{var p=m.getAttribute(n),v=p!==null&&p!=="false",g=(jo.get(m)||0)+1,b=(o.get(m)||0)+1;jo.set(m,g),o.set(m,b),a.push(m),g===1&&v&&Zl.set(m,!0),b===1&&m.setAttribute(r,"true"),v||m.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return d(t),l.clear(),bh++,function(){a.forEach(function(h){var m=jo.get(h)-1,p=o.get(h)-1;jo.set(h,m),o.set(h,p),m||(Zl.has(h)||h.removeAttribute(n),Zl.delete(h)),p||h.removeAttribute(r)}),bh--,bh||(jo=new WeakMap,jo=new WeakMap,Zl=new WeakMap,ec={})}},uO=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=iO(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),cO(n,s,r,"aria-hidden")):function(){return null}},Ep="Dialog",[I1,H3]=al(Ep),[dO,Cr]=I1(Ep),D1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,l=f.useRef(null),c=f.useRef(null),[u=!1,d]=vp({prop:n,defaultProp:s,onChange:o});return i.jsx(dO,{scope:t,triggerRef:l,contentRef:c,contentId:wc(),titleId:wc(),descriptionId:wc(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:a,children:r})};D1.displayName=Ep;var L1="DialogTrigger",hO=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cr(L1,r),o=Ke(t,s.triggerRef);return i.jsx(Ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Rp(s.open),...n,ref:o,onClick:je(e.onClick,s.onOpenToggle)})});hO.displayName=L1;var Pp="DialogPortal",[fO,$1]=I1(Pp,{forceMount:void 0}),F1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Cr(Pp,t);return i.jsx(fO,{scope:t,forceMount:r,children:f.Children.map(n,a=>i.jsx(Br,{present:r||o.open,children:i.jsx(gp,{asChild:!0,container:s,children:a})}))})};F1.displayName=Pp;var du="DialogOverlay",U1=f.forwardRef((e,t)=>{const r=$1(du,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Cr(du,e.__scopeDialog);return o.modal?i.jsx(Br,{present:n||o.open,children:i.jsx(mO,{...s,ref:t})}):null});U1.displayName=du;var mO=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cr(du,r);return i.jsx(O1,{as:Sr,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Ee.div,{"data-state":Rp(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),eo="DialogContent",z1=f.forwardRef((e,t)=>{const r=$1(eo,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Cr(eo,e.__scopeDialog);return i.jsx(Br,{present:n||o.open,children:o.modal?i.jsx(pO,{...s,ref:t}):i.jsx(gO,{...s,ref:t})})});z1.displayName=eo;var pO=f.forwardRef((e,t)=>{const r=Cr(eo,e.__scopeDialog),n=f.useRef(null),s=Ke(t,r.contentRef,n);return f.useEffect(()=>{const o=n.current;if(o)return uO(o)},[]),i.jsx(H1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&o.preventDefault()}),onFocusOutside:je(e.onFocusOutside,o=>o.preventDefault())})}),gO=f.forwardRef((e,t)=>{const r=Cr(eo,e.__scopeDialog),n=f.useRef(!1),s=f.useRef(!1);return i.jsx(H1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),H1=f.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=e,l=Cr(eo,r),c=f.useRef(null),u=Ke(t,c);return jA(),i.jsxs(i.Fragment,{children:[i.jsx(j1,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(Uu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Rp(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(vO,{titleId:l.titleId}),i.jsx(yO,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Tp="DialogTitle",B1=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cr(Tp,r);return i.jsx(Ee.h2,{id:s.titleId,...n,ref:t})});B1.displayName=Tp;var W1="DialogDescription",V1=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cr(W1,r);return i.jsx(Ee.p,{id:s.descriptionId,...n,ref:t})});V1.displayName=W1;var q1="DialogClose",K1=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cr(q1,r);return i.jsx(Ee.button,{type:"button",...n,ref:t,onClick:je(e.onClick,()=>s.onOpenChange(!1))})});K1.displayName=q1;function Rp(e){return e?"open":"closed"}var G1="DialogTitleWarning",[B3,Q1]=r2(G1,{contentName:eo,titleName:Tp,docsSlug:"dialog"}),vO=({titleId:e})=>{const t=Q1(G1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},xO="DialogDescriptionWarning",yO=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Q1(xO).contentName}}.`;return f.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Y1=D1,X1=F1,ed=U1,td=z1,rd=B1,nd=V1,J1=K1;const bO=Y1,wO=X1,Z1=f.forwardRef(({className:e,...t},r)=>i.jsx(ed,{className:X("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Z1.displayName=ed.displayName;const _O=Pa("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),e_=f.forwardRef(({side:e="right",className:t,children:r,...n},s)=>i.jsxs(wO,{children:[i.jsx(Z1,{}),i.jsxs(td,{ref:s,className:X(_O({side:e}),t),...n,children:[r,i.jsxs(J1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(io,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));e_.displayName=td.displayName;const SO=f.forwardRef(({className:e,...t},r)=>i.jsx(rd,{ref:r,className:X("text-lg font-semibold text-foreground",e),...t}));SO.displayName=rd.displayName;const jO=f.forwardRef(({className:e,...t},r)=>i.jsx(nd,{ref:r,className:X("text-sm text-muted-foreground",e),...t}));jO.displayName=nd.displayName;function Px({className:e,...t}){return i.jsx("div",{className:X("animate-pulse rounded-md bg-muted",e),...t})}const NO=["top","right","bottom","left"],cs=Math.min,Wt=Math.max,hu=Math.round,tc=Math.floor,us=e=>({x:e,y:e}),kO={left:"right",right:"left",bottom:"top",top:"bottom"},CO={start:"end",end:"start"};function em(e,t,r){return Wt(e,cs(t,r))}function wn(e,t){return typeof e=="function"?e(t):e}function _n(e){return e.split("-")[0]}function Da(e){return e.split("-")[1]}function Ap(e){return e==="x"?"y":"x"}function Op(e){return e==="y"?"height":"width"}function ds(e){return["top","bottom"].includes(_n(e))?"y":"x"}function Mp(e){return Ap(ds(e))}function EO(e,t,r){r===void 0&&(r=!1);const n=Da(e),s=Mp(e),o=Op(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=fu(a)),[a,fu(a)]}function PO(e){const t=fu(e);return[tm(e),t,tm(t)]}function tm(e){return e.replace(/start|end/g,t=>CO[t])}function TO(e,t,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?o:a;default:return[]}}function RO(e,t,r,n){const s=Da(e);let o=TO(_n(e),r==="start",n);return s&&(o=o.map(a=>a+"-"+s),t&&(o=o.concat(o.map(tm)))),o}function fu(e){return e.replace(/left|right|bottom|top/g,t=>kO[t])}function AO(e){return{top:0,right:0,bottom:0,left:0,...e}}function t_(e){return typeof e!="number"?AO(e):{top:e,right:e,bottom:e,left:e}}function mu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Tx(e,t,r){let{reference:n,floating:s}=e;const o=ds(t),a=Mp(t),l=Op(a),c=_n(t),u=o==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,m=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-s.width,y:h};break;default:p={x:n.x,y:n.y}}switch(Da(t)){case"start":p[a]-=m*(r&&u?-1:1);break;case"end":p[a]+=m*(r&&u?-1:1);break}return p}const OO=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:a}=r,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Tx(u,n,c),m=n,p={},v=0;for(let g=0;g<l.length;g++){const{name:b,fn:y}=l[g],{x,y:w,data:_,reset:j}=await y({x:d,y:h,initialPlacement:n,placement:m,strategy:s,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});d=x??d,h=w??h,p={...p,[b]:{...p[b],..._}},j&&v<=50&&(v++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(u=j.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:d,y:h}=Tx(u,m,c)),g=-1)}return{x:d,y:h,placement:m,strategy:s,middlewareData:p}};async function qi(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=wn(t,e),v=t_(p),b=l[m?h==="floating"?"reference":"floating":h],y=mu(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(b)))==null||r?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=h==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),_=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},j=mu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(y.top-j.top+v.top)/_.y,bottom:(j.bottom-y.bottom+v.bottom)/_.y,left:(y.left-j.left+v.left)/_.x,right:(j.right-y.right+v.right)/_.x}}const MO=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=wn(e,t)||{};if(u==null)return{};const h=t_(d),m={x:r,y:n},p=Mp(s),v=Op(p),g=await a.getDimensions(u),b=p==="y",y=b?"top":"left",x=b?"bottom":"right",w=b?"clientHeight":"clientWidth",_=o.reference[v]+o.reference[p]-m[p]-o.floating[v],j=m[p]-o.reference[p],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=S?S[w]:0;(!C||!await(a.isElement==null?void 0:a.isElement(S)))&&(C=l.floating[w]||o.floating[v]);const E=_/2-j/2,P=C/2-g[v]/2-1,A=cs(h[y],P),I=cs(h[x],P),R=A,L=C-g[v]-I,O=C/2-g[v]/2+E,V=em(R,O,L),H=!c.arrow&&Da(s)!=null&&O!==V&&o.reference[v]/2-(O<R?A:I)-g[v]/2<0,W=H?O<R?O-R:O-L:0;return{[p]:m[p]+W,data:{[p]:V,centerOffset:O-V-W,...H&&{alignmentOffset:W}},reset:H}}}),IO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...b}=wn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=_n(s),x=ds(l),w=_n(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=m||(w||!g?[fu(l)]:PO(l)),S=v!=="none";!m&&S&&j.push(...RO(l,g,v,_));const C=[l,...j],E=await qi(t,b),P=[];let A=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&P.push(E[y]),h){const O=EO(s,a,_);P.push(E[O[0]],E[O[1]])}if(A=[...A,{placement:s,overflows:P}],!P.every(O=>O<=0)){var I,R;const O=(((I=o.flip)==null?void 0:I.index)||0)+1,V=C[O];if(V)return{data:{index:O,overflows:A},reset:{placement:V}};let H=(R=A.filter(W=>W.overflows[0]<=0).sort((W,D)=>W.overflows[1]-D.overflows[1])[0])==null?void 0:R.placement;if(!H)switch(p){case"bestFit":{var L;const W=(L=A.filter(D=>{if(S){const U=ds(D.placement);return U===x||U==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(U=>U>0).reduce((U,z)=>U+z,0)]).sort((D,U)=>D[1]-U[1])[0])==null?void 0:L[0];W&&(H=W);break}case"initialPlacement":H=l;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function Rx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ax(e){return NO.some(t=>e[t]>=0)}const DO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=wn(e,t);switch(n){case"referenceHidden":{const o=await qi(t,{...s,elementContext:"reference"}),a=Rx(o,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Ax(a)}}}case"escaped":{const o=await qi(t,{...s,altBoundary:!0}),a=Rx(o,r.floating);return{data:{escapedOffsets:a,escaped:Ax(a)}}}default:return{}}}}};async function LO(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=_n(r),l=Da(r),c=ds(r)==="y",u=["left","top"].includes(a)?-1:1,d=o&&c?-1:1,h=wn(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const $O=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:a,middlewareData:l}=t,c=await LO(t,e);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},FO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:b=>{let{x:y,y:x}=b;return{x:y,y:x}}},...c}=wn(e,t),u={x:r,y:n},d=await qi(t,c),h=ds(_n(s)),m=Ap(h);let p=u[m],v=u[h];if(o){const b=m==="y"?"top":"left",y=m==="y"?"bottom":"right",x=p+d[b],w=p-d[y];p=em(x,p,w)}if(a){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=v+d[b],w=v-d[y];v=em(x,v,w)}const g=l.fn({...t,[m]:p,[h]:v});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:o,[h]:a}}}}}},UO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=wn(e,t),d={x:r,y:n},h=ds(s),m=Ap(h);let p=d[m],v=d[h];const g=wn(l,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=m==="y"?"height":"width",_=o.reference[m]-o.floating[w]+b.mainAxis,j=o.reference[m]+o.reference[w]-b.mainAxis;p<_?p=_:p>j&&(p=j)}if(u){var y,x;const w=m==="y"?"width":"height",_=["top","left"].includes(_n(s)),j=o.reference[h]-o.floating[w]+(_&&((y=a.offset)==null?void 0:y[h])||0)+(_?0:b.crossAxis),S=o.reference[h]+o.reference[w]+(_?0:((x=a.offset)==null?void 0:x[h])||0)-(_?b.crossAxis:0);v<j?v=j:v>S&&(v=S)}return{[m]:p,[h]:v}}}},zO=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:a,elements:l}=t,{apply:c=()=>{},...u}=wn(e,t),d=await qi(t,u),h=_n(s),m=Da(s),p=ds(s)==="y",{width:v,height:g}=o.floating;let b,y;h==="top"||h==="bottom"?(b=h,y=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,b=m==="end"?"top":"bottom");const x=g-d.top-d.bottom,w=v-d.left-d.right,_=cs(g-d[b],x),j=cs(v-d[y],w),S=!t.middlewareData.shift;let C=_,E=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=x),S&&!m){const A=Wt(d.left,0),I=Wt(d.right,0),R=Wt(d.top,0),L=Wt(d.bottom,0);p?E=v-2*(A!==0||I!==0?A+I:Wt(d.left,d.right)):C=g-2*(R!==0||L!==0?R+L:Wt(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:C});const P=await a.getDimensions(l.floating);return v!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function sd(){return typeof window<"u"}function La(e){return r_(e)?(e.nodeName||"").toLowerCase():"#document"}function Gt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Wr(e){var t;return(t=(r_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function r_(e){return sd()?e instanceof Node||e instanceof Gt(e).Node:!1}function Nr(e){return sd()?e instanceof Element||e instanceof Gt(e).Element:!1}function Hr(e){return sd()?e instanceof HTMLElement||e instanceof Gt(e).HTMLElement:!1}function Ox(e){return!sd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Gt(e).ShadowRoot}function ul(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=kr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function HO(e){return["table","td","th"].includes(La(e))}function od(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ip(e){const t=Dp(),r=Nr(e)?kr(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function BO(e){let t=hs(e);for(;Hr(t)&&!ya(t);){if(Ip(t))return t;if(od(t))return null;t=hs(t)}return null}function Dp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ya(e){return["html","body","#document"].includes(La(e))}function kr(e){return Gt(e).getComputedStyle(e)}function ad(e){return Nr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function hs(e){if(La(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ox(e)&&e.host||Wr(e);return Ox(t)?t.host:t}function n_(e){const t=hs(e);return ya(t)?e.ownerDocument?e.ownerDocument.body:e.body:Hr(t)&&ul(t)?t:n_(t)}function Ki(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=n_(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),a=Gt(s);if(o){const l=rm(a);return t.concat(a,a.visualViewport||[],ul(s)?s:[],l&&r?Ki(l):[])}return t.concat(s,Ki(s,[],r))}function rm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function s_(e){const t=kr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Hr(e),o=s?e.offsetWidth:r,a=s?e.offsetHeight:n,l=hu(r)!==o||hu(n)!==a;return l&&(r=o,n=a),{width:r,height:n,$:l}}function Lp(e){return Nr(e)?e:e.contextElement}function Go(e){const t=Lp(e);if(!Hr(t))return us(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=s_(t);let a=(o?hu(r.width):r.width)/n,l=(o?hu(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const WO=us(0);function o_(e){const t=Gt(e);return!Dp()||!t.visualViewport?WO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function VO(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Gt(e)?!1:t}function to(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=Lp(e);let a=us(1);t&&(n?Nr(n)&&(a=Go(n)):a=Go(e));const l=VO(o,r,n)?o_(o):us(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(o){const m=Gt(o),p=n&&Nr(n)?Gt(n):n;let v=m,g=rm(v);for(;g&&n&&p!==v;){const b=Go(g),y=g.getBoundingClientRect(),x=kr(g),w=y.left+(g.clientLeft+parseFloat(x.paddingLeft))*b.x,_=y.top+(g.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=w,u+=_,v=Gt(g),g=rm(v)}}return mu({width:d,height:h,x:c,y:u})}function qO(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",a=Wr(n),l=t?od(t.floating):!1;if(n===a||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=us(1);const d=us(0),h=Hr(n);if((h||!h&&!o)&&((La(n)!=="body"||ul(a))&&(c=ad(n)),Hr(n))){const m=to(n);u=Go(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function KO(e){return Array.from(e.getClientRects())}function nm(e,t){const r=ad(e).scrollLeft;return t?t.left+r:to(Wr(e)).left+r}function GO(e){const t=Wr(e),r=ad(e),n=e.ownerDocument.body,s=Wt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Wt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+nm(e);const l=-r.scrollTop;return kr(n).direction==="rtl"&&(a+=Wt(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:a,y:l}}function QO(e,t){const r=Gt(e),n=Wr(e),s=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,l=0,c=0;if(s){o=s.width,a=s.height;const u=Dp();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:a,x:l,y:c}}function YO(e,t){const r=to(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Hr(e)?Go(e):us(1),a=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:a,height:l,x:c,y:u}}function Mx(e,t,r){let n;if(t==="viewport")n=QO(e,r);else if(t==="document")n=GO(Wr(e));else if(Nr(t))n=YO(t,r);else{const s=o_(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return mu(n)}function a_(e,t){const r=hs(e);return r===t||!Nr(r)||ya(r)?!1:kr(r).position==="fixed"||a_(r,t)}function XO(e,t){const r=t.get(e);if(r)return r;let n=Ki(e,[],!1).filter(l=>Nr(l)&&La(l)!=="body"),s=null;const o=kr(e).position==="fixed";let a=o?hs(e):e;for(;Nr(a)&&!ya(a);){const l=kr(a),c=Ip(a);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ul(a)&&!c&&a_(e,a))?n=n.filter(d=>d!==a):s=l,a=hs(a)}return t.set(e,n),n}function JO(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const a=[...r==="clippingAncestors"?od(t)?[]:XO(t,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,d)=>{const h=Mx(t,d,s);return u.top=Wt(h.top,u.top),u.right=cs(h.right,u.right),u.bottom=cs(h.bottom,u.bottom),u.left=Wt(h.left,u.left),u},Mx(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ZO(e){const{width:t,height:r}=s_(e);return{width:t,height:r}}function eM(e,t,r){const n=Hr(t),s=Wr(t),o=r==="fixed",a=to(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=us(0);if(n||!n&&!o)if((La(t)!=="body"||ul(s))&&(l=ad(t)),n){const p=to(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&(c.x=nm(s));let u=0,d=0;if(s&&!n&&!o){const p=s.getBoundingClientRect();d=p.top+l.scrollTop,u=p.left+l.scrollLeft-nm(s,p)}const h=a.left+l.scrollLeft-c.x-u,m=a.top+l.scrollTop-c.y-d;return{x:h,y:m,width:a.width,height:a.height}}function wh(e){return kr(e).position==="static"}function Ix(e,t){if(!Hr(e)||kr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Wr(e)===r&&(r=r.ownerDocument.body),r}function i_(e,t){const r=Gt(e);if(od(e))return r;if(!Hr(e)){let s=hs(e);for(;s&&!ya(s);){if(Nr(s)&&!wh(s))return s;s=hs(s)}return r}let n=Ix(e,t);for(;n&&HO(n)&&wh(n);)n=Ix(n,t);return n&&ya(n)&&wh(n)&&!Ip(n)?r:n||BO(e)||r}const tM=async function(e){const t=this.getOffsetParent||i_,r=this.getDimensions,n=await r(e.floating);return{reference:eM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function rM(e){return kr(e).direction==="rtl"}const nM={convertOffsetParentRelativeRectToViewportRelativeRect:qO,getDocumentElement:Wr,getClippingRect:JO,getOffsetParent:i_,getElementRects:tM,getClientRects:KO,getDimensions:ZO,getScale:Go,isElement:Nr,isRTL:rM};function sM(e,t){let r=null,n;const s=Wr(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:u,top:d,width:h,height:m}=e.getBoundingClientRect();if(l||t(),!h||!m)return;const p=tc(d),v=tc(s.clientWidth-(u+h)),g=tc(s.clientHeight-(d+m)),b=tc(u),x={rootMargin:-p+"px "+-v+"px "+-g+"px "+-b+"px",threshold:Wt(0,cs(1,c))||1};let w=!0;function _(j){const S=j[0].intersectionRatio;if(S!==c){if(!w)return a();S?a(!1,S):n=setTimeout(()=>{a(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(_,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,x)}r.observe(e)}return a(!0),o}function oM(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Lp(e),d=s||o?[...u?Ki(u):[],...Ki(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const h=u&&l?sM(u,r):null;let m=-1,p=null;a&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let v,g=c?to(e):null;c&&b();function b(){const y=to(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&r(),g=y,v=requestAnimationFrame(b)}return r(),()=>{var y;d.forEach(x=>{s&&x.removeEventListener("scroll",r),o&&x.removeEventListener("resize",r)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const aM=$O,iM=FO,lM=IO,cM=zO,uM=DO,Dx=MO,dM=UO,hM=(e,t,r)=>{const n=new Map,s={platform:nM,...r},o={...s.platform,_c:n};return OO(e,t,{...s,platform:o})};var jc=typeof document<"u"?f.useLayoutEffect:f.useEffect;function pu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!pu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!pu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function l_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Lx(e,t){const r=l_(e);return Math.round(t*r)/r}function _h(e){const t=f.useRef(e);return jc(()=>{t.current=e}),t}function fM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=f.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=f.useState(n);pu(m,n)||p(n);const[v,g]=f.useState(null),[b,y]=f.useState(null),x=f.useCallback(D=>{D!==S.current&&(S.current=D,g(D))},[]),w=f.useCallback(D=>{D!==C.current&&(C.current=D,y(D))},[]),_=o||v,j=a||b,S=f.useRef(null),C=f.useRef(null),E=f.useRef(d),P=c!=null,A=_h(c),I=_h(s),R=_h(u),L=f.useCallback(()=>{if(!S.current||!C.current)return;const D={placement:t,strategy:r,middleware:m};I.current&&(D.platform=I.current),hM(S.current,C.current,D).then(U=>{const z={...U,isPositioned:R.current!==!1};O.current&&!pu(E.current,z)&&(E.current=z,Na.flushSync(()=>{h(z)}))})},[m,t,r,I,R]);jc(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[u]);const O=f.useRef(!1);jc(()=>(O.current=!0,()=>{O.current=!1}),[]),jc(()=>{if(_&&(S.current=_),j&&(C.current=j),_&&j){if(A.current)return A.current(_,j,L);L()}},[_,j,L,A,P]);const V=f.useMemo(()=>({reference:S,floating:C,setReference:x,setFloating:w}),[x,w]),H=f.useMemo(()=>({reference:_,floating:j}),[_,j]),W=f.useMemo(()=>{const D={position:r,left:0,top:0};if(!H.floating)return D;const U=Lx(H.floating,d.x),z=Lx(H.floating,d.y);return l?{...D,transform:"translate("+U+"px, "+z+"px)",...l_(H.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:z}},[r,l,H.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:L,refs:V,elements:H,floatingStyles:W}),[d,L,V,H,W])}const mM=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Dx({element:n.current,padding:s}).fn(r):{}:n?Dx({element:n,padding:s}).fn(r):{}}}},pM=(e,t)=>({...aM(e),options:[e,t]}),gM=(e,t)=>({...iM(e),options:[e,t]}),vM=(e,t)=>({...dM(e),options:[e,t]}),xM=(e,t)=>({...lM(e),options:[e,t]}),yM=(e,t)=>({...cM(e),options:[e,t]}),bM=(e,t)=>({...uM(e),options:[e,t]}),wM=(e,t)=>({...mM(e),options:[e,t]});var _M="Arrow",c_=f.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return i.jsx(Ee.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});c_.displayName=_M;var SM=c_;function jM(e,t=[]){let r=[];function n(o,a){const l=f.createContext(a),c=r.length;r=[...r,a];function u(h){const{scope:m,children:p,...v}=h,g=(m==null?void 0:m[e][c])||l,b=f.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:b,children:p})}function d(h,m){const p=(m==null?void 0:m[e][c])||l,v=f.useContext(p);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=r.map(a=>f.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,NM(s,...t)]}function NM(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function kM(e){const[t,r]=f.useState(void 0);return jr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var $p="Popper",[u_,d_]=jM($p),[CM,h_]=u_($p),f_=e=>{const{__scopePopper:t,children:r}=e,[n,s]=f.useState(null);return i.jsx(CM,{scope:t,anchor:n,onAnchorChange:s,children:r})};f_.displayName=$p;var m_="PopperAnchor",p_=f.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=h_(m_,r),a=f.useRef(null),l=Ke(t,a);return f.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:i.jsx(Ee.div,{...s,ref:l})});p_.displayName=m_;var Fp="PopperContent",[EM,PM]=u_(Fp),g_=f.forwardRef((e,t)=>{var Jt,pl,gl,vl,rt,Qr;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:v,...g}=e,b=h_(Fp,r),[y,x]=f.useState(null),w=Ke(t,Nn=>x(Nn)),[_,j]=f.useState(null),S=kM(_),C=(S==null?void 0:S.width)??0,E=(S==null?void 0:S.height)??0,P=n+(o!=="center"?"-"+o:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],R=I.length>0,L={padding:A,boundary:I.filter(RM),altBoundary:R},{refs:O,floatingStyles:V,placement:H,isPositioned:W,middlewareData:D}=fM({strategy:"fixed",placement:P,whileElementsMounted:(...Nn)=>oM(...Nn,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[pM({mainAxis:s+E,alignmentAxis:a}),c&&gM({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?vM():void 0,...L}),c&&xM({...L}),yM({...L,apply:({elements:Nn,rects:xl,availableWidth:Yr,availableHeight:yd})=>{const{width:bd,height:yl}=xl.reference,co=Nn.floating.style;co.setProperty("--radix-popper-available-width",`${Yr}px`),co.setProperty("--radix-popper-available-height",`${yd}px`),co.setProperty("--radix-popper-anchor-width",`${bd}px`),co.setProperty("--radix-popper-anchor-height",`${yl}px`)}}),_&&wM({element:_,padding:l}),AM({arrowWidth:C,arrowHeight:E}),m&&bM({strategy:"referenceHidden",...L})]}),[U,z]=y_(H),J=Je(v);jr(()=>{W&&(J==null||J())},[W,J]);const fe=(Jt=D.arrow)==null?void 0:Jt.x,oe=(pl=D.arrow)==null?void 0:pl.y,de=((gl=D.arrow)==null?void 0:gl.centerOffset)!==0,[wt,at]=f.useState();return jr(()=>{y&&at(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:W?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:wt,"--radix-popper-transform-origin":[(vl=D.transformOrigin)==null?void 0:vl.x,(rt=D.transformOrigin)==null?void 0:rt.y].join(" "),...((Qr=D.hide)==null?void 0:Qr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(EM,{scope:r,placedSide:U,onArrowChange:j,arrowX:fe,arrowY:oe,shouldHideArrow:de,children:i.jsx(Ee.div,{"data-side":U,"data-align":z,...g,ref:w,style:{...g.style,animation:W?void 0:"none"}})})})});g_.displayName=Fp;var v_="PopperArrow",TM={top:"bottom",right:"left",bottom:"top",left:"right"},x_=f.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=PM(v_,n),a=TM[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx(SM,{...s,ref:r,style:{...s.style,display:"block"}})})});x_.displayName=v_;function RM(e){return e!==null}var AM=e=>({name:"transformOrigin",options:e,fn(t){var b,y,x;const{placement:r,rects:n,middlewareData:s}=t,a=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=y_(r),h={start:"0%",center:"50%",end:"100%"}[d],m=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let v="",g="";return u==="bottom"?(v=a?h:`${m}px`,g=`${-c}px`):u==="top"?(v=a?h:`${m}px`,g=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,g=a?h:`${p}px`):u==="left"&&(v=`${n.floating.width+c}px`,g=a?h:`${p}px`),{data:{x:v,y:g}}}});function y_(e){const[t,r="center"]=e.split("-");return[t,r]}var OM=f_,MM=p_,IM=g_,DM=x_,[id,W3]=al("Tooltip",[d_]),ld=d_(),b_="TooltipProvider",LM=700,sm="tooltip.open",[$M,Up]=id(b_),w_=e=>{const{__scopeTooltip:t,delayDuration:r=LM,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,[a,l]=f.useState(!0),c=f.useRef(!1),u=f.useRef(0);return f.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),i.jsx($M,{scope:t,isOpenDelayed:a,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:f.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:f.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:o})};w_.displayName=b_;var cd="Tooltip",[FM,ud]=id(cd),__=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:a,delayDuration:l}=e,c=Up(cd,e.__scopeTooltip),u=ld(t),[d,h]=f.useState(null),m=wc(),p=f.useRef(0),v=a??c.disableHoverableContent,g=l??c.delayDuration,b=f.useRef(!1),[y=!1,x]=vp({prop:n,defaultProp:s,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(sm))):c.onClose(),o==null||o(C)}}),w=f.useMemo(()=>y?b.current?"delayed-open":"instant-open":"closed",[y]),_=f.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,x(!0)},[x]),j=f.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),S=f.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,x(!0),p.current=0},g)},[g,x]);return f.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),i.jsx(OM,{...u,children:i.jsx(FM,{scope:t,contentId:m,open:y,stateAttribute:w,trigger:d,onTriggerChange:h,onTriggerEnter:f.useCallback(()=>{c.isOpenDelayed?S():_()},[c.isOpenDelayed,S,_]),onTriggerLeave:f.useCallback(()=>{v?j():(window.clearTimeout(p.current),p.current=0)},[j,v]),onOpen:_,onClose:j,disableHoverableContent:v,children:r})})};__.displayName=cd;var om="TooltipTrigger",S_=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=ud(om,r),o=Up(om,r),a=ld(r),l=f.useRef(null),c=Ke(t,l,s.onTriggerChange),u=f.useRef(!1),d=f.useRef(!1),h=f.useCallback(()=>u.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),i.jsx(MM,{asChild:!0,...a,children:i.jsx(Ee.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:je(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:je(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:je(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:je(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:je(e.onBlur,s.onClose),onClick:je(e.onClick,s.onClose)})})});S_.displayName=om;var UM="TooltipPortal",[V3,zM]=id(UM,{forceMount:void 0}),ba="TooltipContent",j_=f.forwardRef((e,t)=>{const r=zM(ba,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,a=ud(ba,e.__scopeTooltip);return i.jsx(Br,{present:n||a.open,children:a.disableHoverableContent?i.jsx(N_,{side:s,...o,ref:t}):i.jsx(HM,{side:s,...o,ref:t})})}),HM=f.forwardRef((e,t)=>{const r=ud(ba,e.__scopeTooltip),n=Up(ba,e.__scopeTooltip),s=f.useRef(null),o=Ke(t,s),[a,l]=f.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:h}=n,m=f.useCallback(()=>{l(null),h(!1)},[h]),p=f.useCallback((v,g)=>{const b=v.currentTarget,y={x:v.clientX,y:v.clientY},x=qM(y,b.getBoundingClientRect()),w=KM(y,x),_=GM(g.getBoundingClientRect()),j=YM([...w,..._]);l(j),h(!0)},[h]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(c&&d){const v=b=>p(b,d),g=b=>p(b,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[c,d,p,m]),f.useEffect(()=>{if(a){const v=g=>{const b=g.target,y={x:g.clientX,y:g.clientY},x=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),w=!QM(y,a);x?m():w&&(m(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,a,u,m]),i.jsx(N_,{...e,ref:o})}),[BM,WM]=id(cd,{isInside:!1}),N_=f.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:a,...l}=e,c=ud(ba,r),u=ld(r),{onClose:d}=c;return f.useEffect(()=>(document.addEventListener(sm,d),()=>document.removeEventListener(sm,d)),[d]),f.useEffect(()=>{if(c.trigger){const h=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),i.jsx(Uu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:i.jsxs(IM,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(sw,{children:n}),i.jsx(BM,{scope:r,isInside:!0,children:i.jsx(b2,{id:c.contentId,role:"tooltip",children:s||n})})]})})});j_.displayName=ba;var k_="TooltipArrow",VM=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=ld(r);return WM(k_,r).isInside?null:i.jsx(DM,{...s,...n,ref:t})});VM.displayName=k_;function qM(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function KM(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function GM(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function QM(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const l=t[o].x,c=t[o].y,u=t[a].x,d=t[a].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function YM(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),XM(t)}function XM(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],a=t[t.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],a=r[r.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var JM=w_,ZM=__,e4=S_,C_=j_;const Nc=JM,kc=ZM,Cc=e4,Si=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(C_,{ref:n,sideOffset:t,className:X("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Si.displayName=C_.displayName;const t4="sidebar:state",r4=60*60*24*7,n4="16rem",s4="18rem",o4="3rem",a4="b",E_=f.createContext(null);function dl(){const e=f.useContext(E_);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const dt=f.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:s,children:o,...a},l)=>{const c=Ju(),[u,d]=f.useState(!1),[h,m]=f.useState(e),p=t??h,v=f.useCallback(x=>{const w=typeof x=="function"?x(p):x;r?r(w):m(w),document.cookie=`${t4}=${w}; path=/; max-age=${r4}`},[r,p]),g=f.useCallback(()=>c?d(x=>!x):v(x=>!x),[c,v,d]);f.useEffect(()=>{const x=w=>{w.key===a4&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),g())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[g]);const b=p?"expanded":"collapsed",y=f.useMemo(()=>({state:b,open:p,setOpen:v,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:g}),[b,p,v,c,u,d,g]);return i.jsx(E_.Provider,{value:y,children:i.jsx(Nc,{delayDuration:0,children:i.jsx("div",{style:{"--sidebar-width":n4,"--sidebar-width-icon":o4,...s},className:X("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...a,children:o})})})});dt.displayName="SidebarProvider";const P_=f.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:s,...o},a)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:d}=dl();return r==="none"?i.jsx("div",{className:X("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:a,...o,children:s}):l?i.jsx(bO,{open:u,onOpenChange:d,...o,children:i.jsx(e_,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":s4},side:e,children:i.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):i.jsxs("div",{ref:a,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[i.jsx("div",{className:X("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),i.jsx("div",{className:X("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...o,children:i.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});P_.displayName="Sidebar";const i4=f.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:s}=dl();return i.jsxs(ee,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:X("h-7 w-7",e),onClick:o=>{t==null||t(o),s()},...r,children:[i.jsx(rP,{}),i.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});i4.displayName="SidebarTrigger";const l4=f.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=dl();return i.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:X("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});l4.displayName="SidebarRail";const ht=f.forwardRef(({className:e,...t},r)=>i.jsx("main",{ref:r,className:X("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));ht.displayName="SidebarInset";const c4=f.forwardRef(({className:e,...t},r)=>i.jsx(Kt,{ref:r,"data-sidebar":"input",className:X("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));c4.displayName="SidebarInput";const T_=f.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"header",className:X("flex flex-col gap-2 p-2",e),...t}));T_.displayName="SidebarHeader";const R_=f.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"footer",className:X("flex flex-col gap-2 p-2",e),...t}));R_.displayName="SidebarFooter";const u4=f.forwardRef(({className:e,...t},r)=>i.jsx(S1,{ref:r,"data-sidebar":"separator",className:X("mx-2 w-auto bg-sidebar-border",e),...t}));u4.displayName="SidebarSeparator";const A_=f.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"content",className:X("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));A_.displayName="SidebarContent";const O_=f.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"group",className:X("relative flex w-full min-w-0 flex-col p-2",e),...t}));O_.displayName="SidebarGroup";const d4=f.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?Sr:"div";return i.jsx(s,{ref:n,"data-sidebar":"group-label",className:X("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});d4.displayName="SidebarGroupLabel";const h4=f.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?Sr:"button";return i.jsx(s,{ref:n,"data-sidebar":"group-action",className:X("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});h4.displayName="SidebarGroupAction";const M_=f.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"group-content",className:X("w-full text-sm",e),...t}));M_.displayName="SidebarGroupContent";const I_=f.forwardRef(({className:e,...t},r)=>i.jsx("ul",{ref:r,"data-sidebar":"menu",className:X("flex w-full min-w-0 flex-col gap-1",e),...t}));I_.displayName="SidebarMenu";const D_=f.forwardRef(({className:e,...t},r)=>i.jsx("li",{ref:r,"data-sidebar":"menu-item",className:X("group/menu-item relative",e),...t}));D_.displayName="SidebarMenuItem";const f4=Pa("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),am=f.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:s,className:o,...a},l)=>{const c=e?Sr:"button",{isMobile:u,state:d}=dl(),h=i.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:X(f4({variant:r,size:n}),o),...a});return s?(typeof s=="string"&&(s={children:s}),i.jsxs(kc,{children:[i.jsx(Cc,{asChild:!0,children:h}),i.jsx(Si,{side:"right",align:"center",hidden:d!=="collapsed"||u,...s})]})):h});am.displayName="SidebarMenuButton";const m4=f.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},s)=>{const o=t?Sr:"button";return i.jsx(o,{ref:s,"data-sidebar":"menu-action",className:X("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});m4.displayName="SidebarMenuAction";const p4=f.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:X("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));p4.displayName="SidebarMenuBadge";const g4=f.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const s=f.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return i.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:X("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&i.jsx(Px,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),i.jsx(Px,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});g4.displayName="SidebarMenuSkeleton";const v4=f.forwardRef(({className:e,...t},r)=>i.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:X("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));v4.displayName="SidebarMenuSub";const x4=f.forwardRef(({...e},t)=>i.jsx("li",{ref:t,...e}));x4.displayName="SidebarMenuSubItem";const y4=f.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...s},o)=>{const a=e?Sr:"a";return i.jsx(a,{ref:o,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:X("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...s})});y4.displayName="SidebarMenuSubButton";const $a=()=>(console.warn("⚠️ [useAuth] DEPRECATED: Please use useUnifiedAuth instead"),ys()),dd=()=>{const e=$a();return{habboAccount:e.habboAccount,isLoggedIn:e.isLoggedIn,user:e.user,loading:e.loading,logout:e.logout}};function yt(){const e=sl(),{habboAccount:t,isLoggedIn:r,logout:n}=dd(),{state:s,toggleSidebar:o}=dl(),a=s==="collapsed",l=[{name:"Início",path:"/",icon:"/assets/home.png"},{name:"Console",path:"/console",icon:"/assets/consoleoff.gif"},{name:"Homes",path:"/homes",icon:"/assets/home.png"},{name:"Notícias",path:"/noticias",icon:"/assets/news.png"},{name:"Emblemas",path:"/emblemas",icon:"/assets/emblemas.png"},{name:"Catálogo",path:"/catalogo",icon:"/assets/Carrinho.png"},{name:"Ferramentas",path:"/ferramentas",icon:"/assets/ferramentas.png"},{name:"Eventos",path:"/eventos",icon:"/assets/eventos.png"},{name:"Mercado",path:"/mercado",icon:"/assets/Diamante.png"}],c=({item:u})=>{const d=i.jsxs(ln,{to:u.path,className:"flex items-center gap-3 w-full",children:[i.jsx("img",{src:u.icon,alt:u.name,className:`flex-shrink-0 ${a?"w-8 h-8":"w-4 h-4"}`,onError:h=>{const m=h.target;m.style.display="none"}}),!a&&i.jsx("span",{className:"habbo-text text-sm font-bold text-[#8B4513]",children:u.name})]});return a?i.jsx(Nc,{children:i.jsxs(kc,{children:[i.jsx(Cc,{asChild:!0,children:i.jsx(am,{asChild:!0,isActive:e.pathname===u.path,className:"w-full justify-center px-3 py-3 hover:bg-yellow-200/50 data-[active=true]:bg-yellow-300/70 transition-colors",children:d})}),i.jsx(Si,{side:"right",children:i.jsx("p",{children:u.name})})]})}):i.jsx(am,{asChild:!0,isActive:e.pathname===u.path,className:"w-full justify-start px-3 py-2 hover:bg-yellow-200/50 data-[active=true]:bg-yellow-300/70 transition-colors",children:d})};return i.jsxs("div",{className:"relative",children:[i.jsxs(P_,{className:"bg-[#f5f5dc] border-r-2 border-black",collapsible:"icon",children:[i.jsx(T_,{className:"p-4",children:i.jsx("div",{className:"w-full flex justify-center",children:a?i.jsx("img",{src:"/assets/hub.gif",alt:"Hub",className:"w-12 h-12",onError:u=>{const d=u.target;d.src="/assets/hub.png"}}):i.jsx("img",{src:"/assets/habbohub.gif",alt:"Habbo Hub",className:"w-full h-auto max-w-[200px]",onError:u=>{const d=u.target;d.src="/assets/habbohub.png"}})})}),i.jsx(A_,{className:"px-2",children:i.jsx(O_,{children:i.jsx(M_,{children:i.jsx(I_,{className:"space-y-1",children:l.map(u=>i.jsx(D_,{children:i.jsx(c,{item:u})},u.path))})})})}),i.jsx(R_,{className:"p-4 border-t-2 border-black",children:i.jsx("div",{className:"space-y-2",children:r&&t?i.jsxs("div",{className:`text-center ${a?"px-1":""}`,children:[i.jsxs("div",{className:`flex items-center ${a?"justify-center":"justify-center gap-2"} mb-2`,children:[i.jsx("img",{src:`https://www.habbo.com.br/habbo-imaging/avatarimage?user=${t.habbo_name}&size=s&direction=2&head_direction=3&headonly=1`,alt:`Avatar de ${t.habbo_name}`,className:`object-contain ${a?"w-12 h-12":"w-8 h-8"}`,onError:u=>{const d=u.target;d.src=`https://habbo-imaging.s3.amazonaws.com/avatarimage?user=${t.habbo_name}&size=s&direction=2&head_direction=3&headonly=1`}}),!a&&i.jsx("span",{className:"habbo-text text-sm font-bold text-[#8B4513] truncate",children:t.habbo_name})]}),!a&&i.jsx(Nc,{children:i.jsxs(kc,{children:[i.jsx(Cc,{asChild:!0,children:i.jsxs("button",{onClick:n,className:"bg-red-600 hover:bg-red-700 w-full px-3 py-1.5 text-xs font-bold text-white rounded transition-colors flex items-center justify-center gap-2",children:[i.jsx(J2,{className:"w-3 h-3"}),"Sair"]})}),i.jsx(Si,{children:i.jsx("p",{children:"Desconectar conta Habbo"})})]})})]}):i.jsx("div",{className:"space-y-2",children:a?i.jsx(Nc,{children:i.jsxs(kc,{children:[i.jsx(Cc,{asChild:!0,children:i.jsx(ln,{to:"/login",children:i.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 w-full p-3 text-white rounded transition-colors flex items-center justify-center",children:i.jsx(Zs,{className:"w-4 h-4"})})})}),i.jsx(Si,{side:"right",children:i.jsx("p",{children:"Fazer Login"})})]})}):i.jsx(ln,{to:"/login",className:"block",children:i.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 w-full px-3 py-2 text-sm font-bold text-white rounded transition-colors flex items-center justify-center gap-2",children:[i.jsx(Zs,{className:"w-3 h-3"}),"Conectar Conta Habbo"]})})})})})]}),i.jsx("button",{onClick:o,className:"absolute top-20 -right-3 z-50 w-6 h-8 bg-[#f5f5dc] border-2 border-black border-l-0 rounded-r-md hover:bg-yellow-200/70 transition-colors flex items-center justify-center",style:{boxShadow:"2px 0 4px rgba(0,0,0,0.1)"},children:a?i.jsx(q2,{className:"w-3 h-3 text-[#8B4513]"}):i.jsx(V2,{className:"w-3 h-3 text-[#8B4513]"})})]})}const ie=f.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:X("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ie.displayName="Card";const ke=f.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:X("flex flex-col space-y-1.5 p-6",e),...t}));ke.displayName="CardHeader";const Ce=f.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:X("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ce.displayName="CardTitle";const L_=f.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:X("text-sm text-muted-foreground",e),...t}));L_.displayName="CardDescription";const he=f.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:X("p-6 pt-0",e),...t}));he.displayName="CardContent";const b4=f.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:X("flex items-center p-6 pt-0",e),...t}));b4.displayName="CardFooter";const w4=Pa("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function lr({className:e,variant:t,...r}){return i.jsx("div",{className:X(w4({variant:t}),e),...r})}class _4{constructor(){mo(this,"baseUrl");this.baseUrl=""}getHotelDomain(t){return t==="com.br"||t==="br"?"com.br":t}async getUserProfile(t,r="com.br"){try{const n=this.getHotelDomain(r),{data:s,error:o}=await B.functions.invoke("habbo-widgets-proxy",{body:{endpoint:`users?name=${encodeURIComponent(t)}`,hotel:n}});if(o||!s)return console.warn(`Failed to fetch profile for ${t}:`,(o==null?void 0:o.message)||"no data"),null;console.log(`[HabboProxyService] Raw profile response for ${t}:`,s);let a=Array.isArray(s)?s[0]:s;if(!a||typeof(a==null?void 0:a.name)!="string"||!(a!=null&&a.uniqueId||a!=null&&a.id))try{const l=await fetch(`https://www.habbo.${n}/api/public/users?name=${encodeURIComponent(t)}`,{headers:{Accept:"application/json"}});if(l.ok){const c=await l.json();c&&typeof c.name=="string"&&(a=c)}}catch(l){console.warn("[HabboProxyService] Official users fallback failed:",l)}return!a||typeof(a==null?void 0:a.name)!="string"?(console.warn(`[HabboProxyService] Unexpected profile shape for ${t}:`,s),null):{id:a.uniqueId||a.id||"",name:a.name||t,motto:a.motto||"",online:!!a.online,memberSince:a.memberSince||"",selectedBadges:a.selectedBadges||[],badges:a.badges||[],figureString:a.figureString||"",profileVisible:a.profileVisible??!0,lastWebVisit:a.lastWebVisit,uniqueId:a.uniqueId||a.id||""}}catch(n){return console.error(`Error fetching profile for ${t}:`,n),null}}async getUserByName(t,r="com.br"){return this.getUserProfile(t,r)}async getUserBadges(t,r="com.br"){try{const n=this.getHotelDomain(r),{data:s,error:o}=await B.functions.invoke("habbo-widgets-proxy",{body:{endpoint:`users/${encodeURIComponent(t)}/badges`,hotel:n}});return o||!s?(console.warn(`Failed to fetch badges for ${t}:`,(o==null?void 0:o.message)||"no data"),[]):(console.log(`[HabboProxyService] Raw badges response for ${t}:`,s),s.map(a=>({code:a.code,name:a.name,description:a.description})))}catch(n){return console.error(`Error fetching badges for ${t}:`,n),[]}}async getUserPhotos(t,r="com.br"){try{const n=this.getHotelDomain(r),{data:s,error:o}=await B.functions.invoke("habbo-widgets-proxy",{body:{endpoint:`users/${encodeURIComponent(t)}/photos`,hotel:n}});if(o||!s)return console.warn(`Failed to fetch photos for ${t}:`,(o==null?void 0:o.message)||"no data"),[];console.log(`[HabboProxyService] Raw photos response for ${t}:`,s);let a=[];if(Array.isArray(s))a=s;else if(s&&typeof s=="object")if(s.data&&Array.isArray(s.data))a=s.data;else if(s.photos&&Array.isArray(s.photos))a=s.photos;else if(s.results&&Array.isArray(s.results))a=s.results;else{const l=Object.keys(s);for(const c of l)if(Array.isArray(s[c])&&s[c].length>0){const u=s[c][0];if(u&&(u.url||u.photoUrl||u.src||u.id)){a=s[c];break}}}return a.length===0?(console.warn("[HabboProxyService] No photos found in response:",s),[]):a.map(l=>({id:l.id||l.photoId||String(Math.random()),url:l.url||l.photoUrl||l.previewUrl||l.thumbnailUrl||l.imageUrl||l.src||"",takenOn:l.takenOn||l.createdAt||l.timestamp||new Date().toISOString()})).filter(l=>l.url)}catch(n){return console.error(`Error fetching photos for ${t}:`,n),[]}}async getUserFriends(t,r="com.br"){try{const n=this.getHotelDomain(r),{data:s,error:o}=await B.functions.invoke("habbo-widgets-proxy",{body:{endpoint:`users/${encodeURIComponent(t)}/friends`,hotel:n}});if(o||!s)return console.warn(`Failed to fetch friends for ${t}:`,(o==null?void 0:o.message)||"no data"),[];console.log(`[HabboProxyService] Raw friends response for ${t}:`,s);let a=[];if(Array.isArray(s))a=s;else if(s&&typeof s=="object")if(s.data&&Array.isArray(s.data))a=s.data;else if(s.friends&&Array.isArray(s.friends))a=s.friends;else if(s.results&&Array.isArray(s.results))a=s.results;else{const l=Object.keys(s);for(const c of l)if(Array.isArray(s[c])&&s[c].length>0){const u=s[c][0];if(u&&(u.name||u.habboName||u.username)){a=s[c];break}}}return a.length===0?(console.warn("[HabboProxyService] No friends found in response:",s),[]):a.map(l=>({name:l.name||l.habboName||l.username||"",figureString:l.figureString||l.figure||"",online:l.online||!1,uniqueId:l.uniqueId||l.id||l.habboId||""})).filter(l=>l.name)}catch(n){return console.error(`Error fetching friends for ${t}:`,n),[]}}async getTicker(t="com.br"){return(await this.getHotelTicker(t)).activities}async getHotelTicker(t="com.br"){try{const r=this.getHotelDomain(t),{data:n,error:s}=await B.functions.invoke("habbo-widgets-proxy",{body:{endpoint:"community/ticker",hotel:r}});if(s||!n)return console.warn(`Failed to fetch hotel ticker for ${t}:`,(s==null?void 0:s.message)||"no data"),{activities:[],meta:{source:"error",timestamp:new Date().toISOString(),count:0,onlineCount:0}};console.log(`[HabboProxyService] Raw ticker response for ${t}:`,n);let o=[];if(Array.isArray(n))o=n;else if(n&&Array.isArray(n.activities))o=n.activities;else return console.warn("[HabboProxyService] Unexpected ticker response format:",n),{activities:[],meta:{source:"error",timestamp:new Date().toISOString(),count:0,onlineCount:0}};const a=o.map(l=>({username:l.habboName||l.username||"Unknown",activity:l.activity||l.description||"fez uma atividade",timestamp:l.timestamp||new Date().toISOString(),time:l.time||new Date().toISOString(),description:l.description||l.activity||"fez uma atividade"}));return{activities:a,meta:{source:"proxy",timestamp:new Date().toISOString(),count:a.length,onlineCount:0}}}catch(r){return console.error(`Error fetching hotel ticker for ${t}:`,r),{activities:[],meta:{source:"error",timestamp:new Date().toISOString(),count:0,onlineCount:0}}}}getAvatarUrl(t,r="m",n=!1){const s="https://www.habbo.com.br/habbo-imaging/avatarimage",o=new URLSearchParams({figure:t,size:r,direction:"2",head_direction:"3",gesture:"sml"});return n&&o.append("headonly","1"),`${s}?${o.toString()}`}getBadgeUrl(t){return`https://images.habbo.com/c_images/album1584/${t}.gif`}async ensureTrackedAndSynced(t){try{const{data:r,error:n}=await B.functions.invoke("habbo-ensure-tracked",{body:t});return n?(console.warn(`Failed to ensure tracking for ${t.habbo_name}:`,n.message),null):(console.log(`[HabboProxyService] Ensure tracked response for ${t.habbo_name}:`,r),r)}catch(r){return console.error(`Error ensuring tracking for ${t.habbo_name}:`,r),null}}}const ro=new _4;class S4{async getLikes(t){try{const{data:r,error:n}=await B.from("console_profile_likes").select("*").eq("target_habbo_name",t).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(r){return console.error("Error fetching likes:",r),[]}}async addLike(t,r){try{const{data:{user:n}}=await B.auth.getUser();if(!n)throw new Error("User not authenticated");const{error:s}=await B.from("console_profile_likes").insert({user_id:n.id,target_habbo_name:t,target_habbo_id:r});if(s)throw s;return!0}catch(n){return console.error("Error adding like:",n),!1}}async removeLike(t){try{const{data:{user:r}}=await B.auth.getUser();if(!r)throw new Error("User not authenticated");const{error:n}=await B.from("console_profile_likes").delete().eq("user_id",r.id).eq("target_habbo_name",t);if(n)throw n;return!0}catch(r){return console.error("Error removing like:",r),!1}}async hasUserLiked(t){try{const{data:{user:r}}=await B.auth.getUser();if(!r)return!1;const{data:n,error:s}=await B.from("console_profile_likes").select("id").eq("user_id",r.id).eq("target_habbo_name",t).single();if(s&&s.code!=="PGRST116")throw s;return!!n}catch(r){return console.error("Error checking if user liked:",r),!1}}async getComments(t){try{const{data:r,error:n}=await B.from("console_profile_comments").select("*").eq("target_habbo_name",t).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(r){return console.error("Error fetching comments:",r),[]}}async addComment(t,r,n,s){try{const{data:{user:o}}=await B.auth.getUser();if(!o)throw new Error("User not authenticated");const{error:a}=await B.from("console_profile_comments").insert({user_id:o.id,author_habbo_name:n,target_habbo_name:t,target_habbo_id:s,comment_text:r});if(a)throw a;return!0}catch(o){return console.error("Error adding comment:",o),!1}}async deleteComment(t){try{const{error:r}=await B.from("console_profile_comments").delete().eq("id",t);if(r)throw r;return!0}catch(r){return console.error("Error deleting comment:",r),!1}}async getFollows(t){try{const{data:r,error:n}=await B.from("console_profile_follows").select("*").eq("target_habbo_name",t).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(r){return console.error("Error fetching follows:",r),[]}}async getFollowing(t){try{const{data:r,error:n}=await B.from("console_profile_follows").select("*").eq("follower_habbo_name",t).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(r){return console.error("Error fetching following:",r),[]}}async followUser(t,r,n){try{const{data:{user:s}}=await B.auth.getUser();if(!s)throw new Error("User not authenticated");const{error:o}=await B.from("console_profile_follows").insert({follower_user_id:s.id,follower_habbo_name:r,target_habbo_name:t,target_habbo_id:n});if(o)throw o;return!0}catch(s){return console.error("Error following user:",s),!1}}async unfollowUser(t){try{const{data:{user:r}}=await B.auth.getUser();if(!r)throw new Error("User not authenticated");const{error:n}=await B.from("console_profile_follows").delete().eq("follower_user_id",r.id).eq("target_habbo_name",t);if(n)throw n;return!0}catch(r){return console.error("Error unfollowing user:",r),!1}}async isUserFollowing(t){try{const{data:{user:r}}=await B.auth.getUser();if(!r)return!1;const{data:n,error:s}=await B.from("console_profile_follows").select("id").eq("follower_user_id",r.id).eq("target_habbo_name",t).single();if(s&&s.code!=="PGRST116")throw s;return!!n}catch(r){return console.error("Error checking if user is following:",r),!1}}}const rc=new S4,hd=()=>{const{habboAccount:e,isLoggedIn:t}=ys();console.log("[🔍 MY CONSOLE PROFILE] Auth state:",{isLoggedIn:t,habboName:e==null?void 0:e.habbo_name,hotel:e==null?void 0:e.hotel,hasAccount:!!e});const r=b=>b==="br"?"com.br":b||"com.br",{data:n,isLoading:s,error:o}=Ye({queryKey:["my-console-profile",e==null?void 0:e.habbo_name,e==null?void 0:e.hotel],queryFn:async()=>{if(!(e!=null&&e.habbo_name))throw new Error("Habbo account name is required");const b=r(e.hotel);console.log(`[🔍 MY CONSOLE PROFILE] Fetching profile for ${e.habbo_name} on ${b}`);const y=await ro.getUserProfile(e.habbo_name,b);return console.log("[✅ MY CONSOLE PROFILE] Profile fetched successfully:",(y==null?void 0:y.name)||"No name"),y},enabled:!!(e!=null&&e.habbo_name)&&!!(e!=null&&e.hotel),staleTime:2*60*1e3,retry:3}),{data:a=[],isLoading:l}=Ye({queryKey:["my-console-photos",e==null?void 0:e.habbo_name,e==null?void 0:e.hotel],queryFn:async()=>{if(!(e!=null&&e.habbo_name))throw new Error("Habbo account name is required");const b=r(e.hotel);console.log(`[📸 MY CONSOLE PHOTOS] Fetching photos for ${e.habbo_name} on ${b}`);const y=await ro.getUserPhotos(e.habbo_name,b);return console.log(`[✅ MY CONSOLE PHOTOS] Fetched ${(y==null?void 0:y.length)||0} photos`),y},enabled:!!(e!=null&&e.habbo_name)&&!!(e!=null&&e.hotel),staleTime:5*60*1e3,retry:2}),{data:c=[],isLoading:u}=Ye({queryKey:["my-console-likes",e==null?void 0:e.habbo_name],queryFn:async()=>{if(!(e!=null&&e.habbo_name))throw new Error("Habbo account name is required");return rc.getLikes(e.habbo_name)},enabled:!!(e!=null&&e.habbo_name),staleTime:2*60*1e3,retry:1}),{data:d=[],isLoading:h}=Ye({queryKey:["my-console-comments",e==null?void 0:e.habbo_name],queryFn:async()=>{if(!(e!=null&&e.habbo_name))throw new Error("Habbo account name is required");return rc.getComments(e.habbo_name)},enabled:!!(e!=null&&e.habbo_name),staleTime:2*60*1e3,retry:1}),{data:m=[],isLoading:p}=Ye({queryKey:["my-console-followers",e==null?void 0:e.habbo_name],queryFn:async()=>{if(!(e!=null&&e.habbo_name))throw new Error("Habbo account name is required");return rc.getFollows(e.habbo_name)},enabled:!!(e!=null&&e.habbo_name),staleTime:2*60*1e3,retry:1}),{data:v=[],isLoading:g}=Ye({queryKey:["my-console-following",e==null?void 0:e.habbo_name],queryFn:async()=>{if(!(e!=null&&e.habbo_name))throw new Error("Habbo account name is required");return rc.getFollowing(e.habbo_name)},enabled:!!(e!=null&&e.habbo_name),staleTime:2*60*1e3,retry:1});return{isLoggedIn:t,habboAccount:e,myProfile:n,photos:a,myLikes:c,myComments:d,followers:m,following:v,isLoading:s||l||u||h||p||g,error:o}},j4=(e,t="br",r={})=>{const{forceRefresh:n=!1,cacheTime:s=5}=r,{data:o=[],isLoading:a,error:l,refetch:c}=Ye({queryKey:["unified-photos-api",e,t,n],queryFn:async()=>{var d;if(!e)return console.log("[🔧 UNIFIED PHOTOS] No username provided, returning empty array"),[];console.log("%c[🚀 UNIFIED PHOTOS] Using direct API approach","background: #4CAF50; color: white; padding: 4px 8px; border-radius: 4px;"),console.log("[📋 UNIFIED PHOTOS] Parameters:",{username:e.trim(),hotel:t,forceRefresh:n,cacheTime:s,timestamp:new Date().toISOString()});try{console.log("[🌐 UNIFIED PHOTOS] Calling optimized habbo-photos-scraper...");const{data:h,error:m}=await B.functions.invoke("habbo-photos-scraper",{body:{username:e.trim(),hotel:t,forceRefresh:n}});if(m)throw console.error("[❌ UNIFIED PHOTOS] Edge function error:",m),new Error(m.message||"Failed to fetch photos from API");if(console.log("[📥 UNIFIED PHOTOS] API response:",{success:!m,dataType:typeof h,isArray:Array.isArray(h),dataLength:Array.isArray(h)?h.length:"Not an array"}),h&&Array.isArray(h)){const p=h.map(v=>({id:v.id||v.photo_id,photo_id:v.photo_id,imageUrl:v.imageUrl,date:v.date,likes:v.likes||0,timestamp:v.timestamp,roomName:v.roomName||"Quarto do jogo",source:"api"}));return console.log("%c[✅ UNIFIED PHOTOS] Successfully processed photos via API","background: #4CAF50; color: white; padding: 4px 8px; border-radius: 4px;"),console.log("[📊 UNIFIED PHOTOS] Final result:",{totalPhotos:p.length,photosWithLikes:p.filter(v=>v.likes>0).length,sources:{api:p.length}}),p}else return console.warn("[⚠️ UNIFIED PHOTOS] Unexpected data format from API"),[]}catch(h){return console.error("%c[💥 UNIFIED PHOTOS] API error","background: #F44336; color: white; padding: 4px 8px; border-radius: 4px;"),console.error("[🔍 UNIFIED PHOTOS] Error details:",{message:h.message,name:h.name,stack:(d=h.stack)==null?void 0:d.split(`
`).slice(0,3)}),[]}},enabled:!!e,staleTime:s*60*1e3,gcTime:(s+2)*60*1e3,retry:2,retryDelay:1e3});return{photos:o,isLoading:a,error:l,refetch:async(d=!1)=>(console.log("%c[🔄 UNIFIED PHOTOS] Manual refresh triggered","background: #FF9800; color: white; padding: 4px 8px; border-radius: 4px;"),console.log("[📋 UNIFIED PHOTOS] Refresh details:",{username:e,hotel:t,force:d,currentPhotoCount:o.length,timestamp:new Date().toISOString()}),c()),photoCount:o.length,getPhotosBySource:d=>o.filter(h=>h.source===d),getPhotosWithLikes:()=>o.filter(d=>d.likes>0),getRecentPhotos:(d=6)=>o.slice(0,d)}},$_=(e,t="br")=>{const[r,n]=f.useState({isLoading:!1,hasError:!1,retryCount:0}),{photos:s,isLoading:o,error:a,refetch:l,photoCount:c}=j4(e,t,{cacheTime:5,forceRefresh:!1}),u=f.useCallback(async(v=!1)=>{if(e){n(g=>({...g,isLoading:!0,hasError:!1,errorMessage:void 0}));try{console.log(`[🔄 OPTIMIZED PHOTOS] Loading photos for ${e}...`),await l(v),n(g=>({...g,isLoading:!1,retryCount:0})),console.log(`[✅ OPTIMIZED PHOTOS] Successfully loaded ${c} photos`)}catch(g){console.error("[❌ OPTIMIZED PHOTOS] Failed to load photos:",g),n(b=>({...b,isLoading:!1,hasError:!0,errorMessage:g.message||"Failed to load photos",retryCount:b.retryCount+1}))}}},[e,l,c]),d=f.useCallback(()=>{const v=Math.min(1e3*Math.pow(2,r.retryCount),1e4);setTimeout(()=>u(!0),v)},[u,r.retryCount]),h=o||r.isLoading,m=!!a||r.hasError,p=(a==null?void 0:a.message)||r.errorMessage;return{photos:s,photoCount:c,isLoading:h,hasError:m,errorMessage:p,retryCount:r.retryCount,loadPhotos:u,retryLoadPhotos:d,refreshPhotos:()=>u(!0),hasPhotos:c>0,isEmpty:!h&&!m&&c===0,canRetry:m&&r.retryCount<3}},zp=(e,t="com.br")=>Ye({queryKey:["complete-profile-optimized",e,t],queryFn:async()=>{var s,o,a,l,c,u,d,h,m,p,v,g,b;if(!e)throw new Error("Username is required");console.log(`[🚀 COMPLETE PROFILE] Fetching optimized profile for ${e} on ${t}`);const{data:r,error:n}=await B.functions.invoke("habbo-complete-profile",{body:{username:e.trim(),hotel:t}});if(n)throw console.error("[❌ COMPLETE PROFILE] Error:",n),new Error(n.message||"Failed to fetch complete profile");if(r.error)throw console.error("[❌ COMPLETE PROFILE] API Error:",r.error),new Error(r.error);return console.log(`[✅ COMPLETE PROFILE] Successfully fetched optimized profile for ${e}`),console.log("[📊 COMPLETE PROFILE] Profile stats:",{photos:((s=r.stats)==null?void 0:s.photosCount)||0,badges:((o=r.stats)==null?void 0:o.badgesCount)||0,friends:((a=r.stats)==null?void 0:a.friendsCount)||0,groups:((l=r.stats)==null?void 0:l.groupsCount)||0,rooms:((c=r.stats)==null?void 0:c.roomsCount)||0,online:r.online}),{uniqueId:r.uniqueId,name:r.name,figureString:r.figureString,motto:r.motto,online:r.online,lastAccessTime:r.lastAccessTime,memberSince:r.memberSince,profileVisible:r.profileVisible,stats:{level:((u=r.stats)==null?void 0:u.level)||0,levelPercent:((d=r.stats)==null?void 0:d.levelPercent)||0,experience:0,starGems:((h=r.stats)==null?void 0:h.level)||0,badgesCount:((m=r.stats)==null?void 0:m.badgesCount)||0,friendsCount:((p=r.stats)==null?void 0:p.friendsCount)||0,groupsCount:((v=r.stats)==null?void 0:v.groupsCount)||0,roomsCount:((g=r.stats)==null?void 0:g.roomsCount)||0,photosCount:((b=r.stats)==null?void 0:b.photosCount)||0,habboTickerCount:0},data:{badges:r.badges||[],friends:r.friends||[],groups:r.groups||[],rooms:r.rooms||[],photos:r.photos||[],selectedBadges:r.selectedBadges||[]}}},enabled:!!e,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:2}),Vr=Y1,N4=X1,F_=f.forwardRef(({className:e,...t},r)=>i.jsx(ed,{ref:r,className:X("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));F_.displayName=ed.displayName;const Er=f.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(N4,{children:[i.jsx(F_,{}),i.jsxs(td,{ref:n,className:X("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(J1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(io,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Er.displayName=td.displayName;const qr=({className:e,...t})=>i.jsx("div",{className:X("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});qr.displayName="DialogHeader";const Kr=f.forwardRef(({className:e,...t},r)=>i.jsx(rd,{ref:r,className:X("text-lg font-semibold leading-none tracking-tight",e),...t}));Kr.displayName=rd.displayName;const U_=f.forwardRef(({className:e,...t},r)=>i.jsx(nd,{ref:r,className:X("text-sm text-muted-foreground",e),...t}));U_.displayName=nd.displayName;const z_=({isOpen:e,onClose:t,photo:r})=>i.jsx(Vr,{open:e,onOpenChange:t,children:i.jsxs(Er,{className:"max-w-2xl p-0 bg-transparent border-0",children:[i.jsx(ee,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 z-50 bg-black/50 hover:bg-black/70 text-white rounded-full",onClick:t,children:i.jsx(io,{className:"w-4 h-4"})}),i.jsxs("div",{className:"relative bg-background rounded-lg overflow-hidden border shadow-2xl",children:[i.jsx("img",{src:r.imageUrl,alt:"Foto ampliada",className:"w-full max-h-[70vh] object-contain",loading:"lazy"}),i.jsx("div",{className:"absolute bottom-2 left-2",children:i.jsx("img",{src:"/hub.gif",alt:"Hub",className:"w-8 h-8 opacity-80",onError:n=>{n.currentTarget.style.display="none"}})}),i.jsx("div",{className:"absolute bottom-2 right-2 bg-black/60 text-white text-xs px-2 py-1 rounded",children:r.date}),i.jsx("div",{className:"p-3 bg-background border-t",children:i.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[i.jsx(iu,{className:"w-4 h-4 text-red-500"}),i.jsxs("span",{children:[r.likes," curtidas"]})]})})]})]})}),k4=e=>{const{data:t,isLoading:r}=Ye({queryKey:["internal-social-data",e],queryFn:async()=>{if(!e)return{likesCount:0,commentsCount:0};const{count:n}=await B.from("photo_likes").select("*",{count:"exact",head:!0}).eq("photo_id",e),{count:s}=await B.from("photo_comments").select("*",{count:"exact",head:!0}).eq("photo_id",e);return{likesCount:n||0,commentsCount:s||0}},enabled:!!e,staleTime:3e4,gcTime:3e5});return{socialData:t||{likesCount:0,commentsCount:0},isLoading:r}},C4=({photo:e,onSelect:t})=>{const{socialData:r}=k4(e.id);return i.jsxs("div",{className:"relative aspect-square overflow-hidden cursor-pointer group bg-transparent",onClick:()=>t(e),children:[i.jsx("img",{src:e.imageUrl,alt:"Foto do usuário",className:"w-full h-full object-cover transition-transform duration-200 group-hover:scale-105",loading:"lazy",onError:n=>{n.currentTarget.src="https://placehold.co/150x150/4B5563/FFFFFF?text=Foto+Não+Disponível"}}),i.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center",children:i.jsxs("div",{className:"flex items-center gap-3 text-white text-sm font-medium",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(iu,{className:"w-4 h-4 fill-red-500 text-red-500"}),i.jsx("span",{children:r.likesCount})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(eP,{className:"w-4 h-4"}),i.jsx("span",{children:r.commentsCount})]})]})})]})},H_=({photos:e,className:t=""})=>{const[r,n]=f.useState(null),s=e;return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`grid grid-cols-3 gap-1 ${t}`,children:s.map(o=>i.jsx(C4,{photo:o,onSelect:n},o.id))}),r&&i.jsx(z_,{isOpen:!!r,onClose:()=>n(null),photo:r})]})};var E4=f.createContext(void 0);function P4(e){const t=f.useContext(E4);return e||t||"ltr"}function T4(e,[t,r]){return Math.min(r,Math.max(t,e))}function R4(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var Hp="ScrollArea",[B_,q3]=al(Hp),[A4,cr]=B_(Hp),W_=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...a}=e,[l,c]=f.useState(null),[u,d]=f.useState(null),[h,m]=f.useState(null),[p,v]=f.useState(null),[g,b]=f.useState(null),[y,x]=f.useState(0),[w,_]=f.useState(0),[j,S]=f.useState(!1),[C,E]=f.useState(!1),P=Ke(t,I=>c(I)),A=P4(s);return i.jsx(A4,{scope:r,type:n,dir:A,scrollHideDelay:o,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:m,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:j,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:b,scrollbarYEnabled:C,onScrollbarYEnabledChange:E,onCornerWidthChange:x,onCornerHeightChange:_,children:i.jsx(Ee.div,{dir:A,...a,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});W_.displayName=Hp;var V_="ScrollAreaViewport",q_=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:o,...a}=e,l=cr(V_,r),c=f.useRef(null),u=Ke(t,c,l.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),i.jsx(Ee.div,{"data-radix-scroll-area-viewport":"",...a,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:H4({asChild:s,children:n},d=>i.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});q_.displayName=V_;var Gr="ScrollAreaScrollbar",Bp=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=cr(Gr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:a}=s,l=e.orientation==="horizontal";return f.useEffect(()=>(l?o(!0):a(!0),()=>{l?o(!1):a(!1)}),[l,o,a]),s.type==="hover"?i.jsx(O4,{...n,ref:t,forceMount:r}):s.type==="scroll"?i.jsx(M4,{...n,ref:t,forceMount:r}):s.type==="auto"?i.jsx(K_,{...n,ref:t,forceMount:r}):s.type==="always"?i.jsx(Wp,{...n,ref:t}):null});Bp.displayName=Gr;var O4=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=cr(Gr,e.__scopeScrollArea),[o,a]=f.useState(!1);return f.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(Br,{present:r||o,children:i.jsx(K_,{"data-state":o?"visible":"hidden",...n,ref:t})})}),M4=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=cr(Gr,e.__scopeScrollArea),o=e.orientation==="horizontal",a=md(()=>c("SCROLL_END"),100),[l,c]=R4("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),f.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let h=u[d];const m=()=>{const p=u[d];h!==p&&(c("SCROLL"),a()),h=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,o,c,a]),i.jsx(Br,{present:r||l!=="hidden",children:i.jsx(Wp,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:je(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:je(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),K_=f.forwardRef((e,t)=>{const r=cr(Gr,e.__scopeScrollArea),{forceMount:n,...s}=e,[o,a]=f.useState(!1),l=e.orientation==="horizontal",c=md(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;a(l?u:d)}},10);return wa(r.viewport,c),wa(r.content,c),i.jsx(Br,{present:n||o,children:i.jsx(Wp,{"data-state":o?"visible":"hidden",...s,ref:t})})}),Wp=f.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=cr(Gr,e.__scopeScrollArea),o=f.useRef(null),a=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=J_(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function h(m,p){return U4(m,a.current,l,p)}return r==="horizontal"?i.jsx(I4,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollLeft,p=$x(m,l,s.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=h(m,s.dir))}}):r==="vertical"?i.jsx(D4,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollTop,p=$x(m,l);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=h(m))}}):null}),I4=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=cr(Gr,e.__scopeScrollArea),[a,l]=f.useState(),c=f.useRef(null),u=Ke(t,c,o.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(Q_,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":fd(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(o.viewport){const m=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),eS(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:vu(a.paddingLeft),paddingEnd:vu(a.paddingRight)}})}})}),D4=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=cr(Gr,e.__scopeScrollArea),[a,l]=f.useState(),c=f.useRef(null),u=Ke(t,c,o.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(Q_,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":fd(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(o.viewport){const m=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),eS(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:vu(a.paddingTop),paddingEnd:vu(a.paddingBottom)}})}})}),[L4,G_]=B_(Gr),Q_=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...m}=e,p=cr(Gr,r),[v,g]=f.useState(null),b=Ke(t,P=>g(P)),y=f.useRef(null),x=f.useRef(""),w=p.viewport,_=n.content-n.viewport,j=Je(d),S=Je(c),C=md(h,10);function E(P){if(y.current){const A=P.clientX-y.current.left,I=P.clientY-y.current.top;u({x:A,y:I})}}return f.useEffect(()=>{const P=A=>{const I=A.target;(v==null?void 0:v.contains(I))&&j(A,_)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[w,v,_,j]),f.useEffect(S,[n,S]),wa(v,C),wa(p.content,C),i.jsx(L4,{scope:r,scrollbar:v,hasThumb:s,onThumbChange:Je(o),onThumbPointerUp:Je(a),onThumbPositionChange:S,onThumbPointerDown:Je(l),children:i.jsx(Ee.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:je(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),y.current=v.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(P))}),onPointerMove:je(e.onPointerMove,E),onPointerUp:je(e.onPointerUp,P=>{const A=P.target;A.hasPointerCapture(P.pointerId)&&A.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),gu="ScrollAreaThumb",Y_=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=G_(gu,e.__scopeScrollArea);return i.jsx(Br,{present:r||s.hasThumb,children:i.jsx($4,{ref:t,...n})})}),$4=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,o=cr(gu,r),a=G_(gu,r),{onThumbPositionChange:l}=a,c=Ke(t,h=>a.onThumbChange(h)),u=f.useRef(),d=md(()=>{u.current&&(u.current(),u.current=void 0)},100);return f.useEffect(()=>{const h=o.viewport;if(h){const m=()=>{if(d(),!u.current){const p=z4(h,l);u.current=p,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[o.viewport,d,l]),i.jsx(Ee.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:je(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),v=h.clientX-p.left,g=h.clientY-p.top;a.onThumbPointerDown({x:v,y:g})}),onPointerUp:je(e.onPointerUp,a.onThumbPointerUp)})});Y_.displayName=gu;var Vp="ScrollAreaCorner",X_=f.forwardRef((e,t)=>{const r=cr(Vp,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(F4,{...e,ref:t}):null});X_.displayName=Vp;var F4=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=cr(Vp,r),[o,a]=f.useState(0),[l,c]=f.useState(0),u=!!(o&&l);return wa(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),wa(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),a(d)}),u?i.jsx(Ee.div,{...n,ref:t,style:{width:o,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function vu(e){return e?parseInt(e,10):0}function J_(e,t){const r=e/t;return isNaN(r)?0:r}function fd(e){const t=J_(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function U4(e,t,r,n="ltr"){const s=fd(r),o=s/2,a=t||o,l=s-a,c=r.scrollbar.paddingStart+a,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return Z_([c,u],h)(e)}function $x(e,t,r="ltr"){const n=fd(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,a=t.content-t.viewport,l=o-n,c=r==="ltr"?[0,a]:[a*-1,0],u=T4(e,c);return Z_([0,a],[0,l])(u)}function Z_(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function eS(e,t){return e>0&&e<t}var z4=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},a=r.left!==o.left,l=r.top!==o.top;(a||l)&&t(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function md(e,t){const r=Je(e),n=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),f.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function wa(e,t){const r=Je(t);jr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}function H4(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const s=f.Children.only(n);return f.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var tS=W_,B4=q_,W4=X_;const Sn=f.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(tS,{ref:n,className:X("relative overflow-hidden",e),...r,children:[i.jsx(B4,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(rS,{}),i.jsx(W4,{})]}));Sn.displayName=tS.displayName;const rS=f.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(Bp,{ref:n,orientation:t,className:X("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(Y_,{className:"relative flex-1 rounded-full bg-border"})}));rS.displayName=Bp.displayName;const nS=({isOpen:e,onClose:t,badges:r,userName:n})=>i.jsx(Vr,{open:e,onOpenChange:t,children:i.jsxs(Er,{className:"max-w-4xl max-h-[80vh] bg-[#4A5568] text-white border-0",children:[i.jsx(qr,{children:i.jsxs(Kr,{className:"flex items-center gap-2 text-white",children:[i.jsx(lu,{className:"w-5 h-5 text-yellow-400"}),"Emblemas de ",n," (",r.length,")"]})}),i.jsxs(Sn,{className:"max-h-[60vh]",children:[i.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 gap-4 p-4",children:r.map((s,o)=>i.jsxs("div",{className:"text-center group cursor-help bg-white/5 hover:bg-white/10 rounded-lg p-2 transition-colors",title:`${s.name}${s.description?`: ${s.description}`:""}`,children:[i.jsx("div",{className:"relative",children:i.jsx("img",{src:ro.getBadgeUrl(s.code),alt:s.name,className:"w-12 h-12 mx-auto border border-white/20 rounded bg-white p-1 group-hover:scale-110 transition-transform",onError:a=>{a.currentTarget.style.display="none"}})}),i.jsx("p",{className:"text-xs text-white/60 mt-2 truncate leading-tight",children:s.name}),s.description&&i.jsx("p",{className:"text-xs text-white/40 mt-1 line-clamp-2 leading-tight",children:s.description})]},`${s.code}-${o}`))}),r.length===0&&i.jsxs("div",{className:"text-center text-white/60 py-8",children:[i.jsx(lu,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Nenhum emblema encontrado"})]})]})]})});var qp="Avatar",[V4,K3]=al(qp),[q4,sS]=V4(qp),oS=f.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,o]=f.useState("idle");return i.jsx(q4,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:i.jsx(Ee.span,{...n,ref:t})})});oS.displayName=qp;var aS="AvatarImage",iS=f.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...o}=e,a=sS(aS,r),l=K4(n,o.referrerPolicy),c=Je(u=>{s(u),a.onImageLoadingStatusChange(u)});return jr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(Ee.img,{...o,ref:t,src:n}):null});iS.displayName=aS;var lS="AvatarFallback",cS=f.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,o=sS(lS,r),[a,l]=f.useState(n===void 0);return f.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),a&&o.imageLoadingStatus!=="loaded"?i.jsx(Ee.span,{...s,ref:t}):null});cS.displayName=lS;function K4(e,t){const[r,n]=f.useState("idle");return jr(()=>{if(!e){n("error");return}let s=!0;const o=new window.Image,a=l=>()=>{s&&n(l)};return n("loading"),o.onload=a("loaded"),o.onerror=a("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var uS=oS,dS=iS,hS=cS;const pd=f.forwardRef(({className:e,...t},r)=>i.jsx(uS,{ref:r,className:X("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));pd.displayName=uS.displayName;const gd=f.forwardRef(({className:e,...t},r)=>i.jsx(dS,{ref:r,className:X("aspect-square h-full w-full",e),...t}));gd.displayName=dS.displayName;const vd=f.forwardRef(({className:e,...t},r)=>i.jsx(hS,{ref:r,className:X("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));vd.displayName=hS.displayName;const G4="https://www.habbo.com.br/api/public",fS=new Map,Q4=5*60*1e3,Y4=e=>{const t=fS.get(e);return t&&Date.now()-t.timestamp<Q4?(console.log(`📦 [API Cache] Hit for ${e}`),t.data):null},X4=(e,t)=>{fS.set(e,{data:t,timestamp:Date.now()})},J4=async(e,t=3)=>{for(let r=0;r<t;r++)try{console.log(`🌐 [API Request] Tentativa ${r+1}: ${e}`);const n=new AbortController,s=setTimeout(()=>n.abort(),1e4),o=await fetch(e,{signal:n.signal,headers:{Accept:"application/json","User-Agent":"HabboHub/1.0"}});if(clearTimeout(s),console.log(`📡 [API Response] Status ${o.status} para ${e}`),!o.ok){if(o.status===404)return console.warn(`⚠️ [API] Usuário não encontrado (404): ${e}`),null;if(o.status===403)return console.warn(`⚠️ [API] Perfil privado (403): ${e}`),null;throw new Error(`HTTP Error! Status: ${o.status}`)}const a=await o.json();return console.log(`📊 [API Data] Dados recebidos para ${e}:`,a?"OK":"Empty"),a}catch(n){if(console.error(`❌ [API Error] Tentativa ${r+1} falhou:`,n),r===t-1)throw n;await new Promise(s=>setTimeout(s,Math.pow(2,r)*1e3))}},Z4=async e=>{try{const t=e.trim();if(!t)return console.warn("❌ Nome do usuário está vazio"),null;console.log(`🔍 [API] Procurando usuário: ${t}`);const r=`user-${t.toLowerCase()}`,n=Y4(r);if(n)return console.log(`📦 [API Cache] Retornando dados em cache para: ${t}`),n;const s=await J4(`${G4}/users?name=${encodeURIComponent(t)}`);if(!s)return console.warn("❌ Nenhum dado retornado da API para usuário:",t),null;let o;if(Array.isArray(s)){if(s.length===0)return console.warn("❌ Array vazio retornado - usuário não encontrado:",t),null;o=s[0]}else o=s;if(!o||typeof o!="object")return console.warn("❌ Dados do usuário inválidos:",o),null;if(o.profileVisible===!1)return console.warn("❌ Perfil do usuário é privado:",t),null;const a={uniqueId:o.uniqueId||o.id||`unknown-${Date.now()}`,name:o.name||t,figureString:o.figureString||"",motto:o.motto?String(o.motto).trim():"",online:!!o.online,lastAccessTime:o.lastAccessTime||new Date().toISOString(),memberSince:o.memberSince||new Date().toISOString(),profileVisible:o.profileVisible!==!1,selectedBadges:Array.isArray(o.selectedBadges)?o.selectedBadges:[]};return console.log("✅ Usuário processado com sucesso:"),console.log("👤 Nome:",a.name),console.log("💬 Motto:",`"${a.motto}"`),console.log("🟢 Online:",a.online),console.log("👁️ Perfil Visível:",a.profileVisible),console.log("🆔 ID Único:",a.uniqueId),X4(r,a),a}catch(t){return console.error("❌ Erro em getUserByName:",t),{uniqueId:`fallback-${Date.now()}`,name:e.trim(),figureString:"",motto:"Perfil temporariamente indisponível",online:!1,lastAccessTime:new Date().toISOString(),memberSince:new Date().toISOString(),profileVisible:!0,selectedBadges:[]}}},eI=({open:e,setOpen:t,habboName:r,onStartConversation:n})=>{var m;const[s,o]=f.useState(null),[a,l]=f.useState(!0),c=ao(),{habboAccount:u}=ys();f.useEffect(()=>{(async()=>{if(!(!e||!r)){l(!0);try{const v=await Z4(r);o(v)}catch(v){console.error("Erro ao buscar dados do usuário:",v),o(null)}finally{l(!1)}}})()},[e,r]);const d=()=>{c(`/homes/${r}`),t(!1)},h=()=>{n&&n(r),t(!1)};return e?i.jsx(Vr,{open:e,onOpenChange:t,children:i.jsxs(Er,{className:"sm:max-w-[425px] bg-white border-2 border-gray-900",children:[i.jsx(qr,{children:i.jsx(Kr,{className:"volter-font text-center text-xl",children:"Perfil Habbo"})}),a?i.jsx("div",{className:"flex justify-center items-center h-48",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s?i.jsxs("div",{className:"flex flex-col items-center space-y-4 p-4",children:[i.jsxs(pd,{className:"h-24 w-24 border-2 border-gray-900",children:[i.jsx(gd,{src:`https://www.habbo.com.br/habbo-imaging/avatarimage?figure=${s.figureString}&size=l&direction=2&head_direction=2&gesture=sml`,alt:s.name}),i.jsx(vd,{className:"text-lg font-bold bg-blue-100",children:s.name.substring(0,2).toUpperCase()})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-xl font-bold volter-font text-gray-900",children:s.name}),s.motto&&i.jsxs("p",{className:"text-sm text-gray-600 italic mt-1",children:['"',s.motto,'"']})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx(B2,{className:"w-4 h-4"}),i.jsxs("span",{children:["Membro desde: ",new Date(s.memberSince).toLocaleDateString("pt-BR")]})]}),s.profileVisible&&i.jsxs("div",{className:"w-full",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-sm font-semibold",children:"Emblemas:"}),i.jsx(lr,{variant:"secondary",children:((m=s.selectedBadges)==null?void 0:m.length)||0})]}),s.selectedBadges&&s.selectedBadges.length>0?i.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-24 overflow-y-auto",children:s.selectedBadges.slice(0,8).map((p,v)=>i.jsx("div",{className:"flex justify-center",children:i.jsx("img",{src:`https://images.habbo.com/c_images/album1584/${p.code}.png`,alt:p.name,className:"w-8 h-8",title:p.name})},v))}):i.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Nenhum emblema selecionado"})]}),i.jsxs("div",{className:"flex gap-2 w-full",children:[i.jsxs(ee,{onClick:d,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white volter-font",children:[i.jsx(mn,{className:"w-4 h-4 mr-2"}),"Visitar Home"]}),u&&u.habbo_name!==r&&i.jsxs(ee,{onClick:h,className:"flex-1 bg-green-600 hover:bg-green-700 text-white volter-font",children:[i.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Enviar Mensagem"]})]})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-48 space-y-4",children:[i.jsx("div",{className:"text-6xl",children:"😞"}),i.jsx("p",{className:"text-gray-600 text-center",children:"Usuário não encontrado ou perfil privado"})]}),i.jsx(ee,{onClick:()=>t(!1),variant:"outline",className:"w-full mt-4 border-gray-900",children:"Fechar"})]})}):null},mS=({isOpen:e,onClose:t,friends:r,userName:n})=>{const[s,o]=f.useState(null),a=l=>`https://www.habbo.com.br/habbo-imaging/avatarimage?figure=${l}&size=s&direction=2&head_direction=3&action=std`;return i.jsxs(i.Fragment,{children:[i.jsx(Vr,{open:e,onOpenChange:t,children:i.jsxs(Er,{className:"max-w-4xl max-h-[80vh] bg-[#4A5568] text-white border-0",children:[i.jsx(qr,{children:i.jsxs(Kr,{className:"flex items-center gap-2 text-white",children:[i.jsx(Ft,{className:"w-5 h-5 text-pink-400"}),"Amigos de ",n," (",r.length,")"]})}),i.jsxs(Sn,{className:"max-h-[60vh]",children:[i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 p-4",children:r.map(l=>{var c;return i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 hover:bg-white/10 rounded-lg cursor-pointer transition-colors",onClick:()=>o(l.name),children:[i.jsxs("div",{className:"relative",children:[i.jsxs(pd,{className:"w-12 h-12",children:[i.jsx(gd,{src:a(l.figureString)}),i.jsx(vd,{className:"bg-white/20 text-white",children:(c=l.name[0])==null?void 0:c.toUpperCase()})]}),i.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-[#4A5568] ${l.online?"bg-green-500":"bg-red-500"}`})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("p",{className:"font-medium text-sm truncate text-white",children:l.name}),i.jsx(lr,{variant:l.online?"default":"secondary",className:`text-xs ${l.online?"bg-green-500/20 text-green-300 border-green-400/30":"bg-white/10 text-white/60 border-white/20"}`,children:l.online?"Online":"Offline"})]}),i.jsxs("p",{className:"text-xs text-white/60 truncate italic",children:['"',l.motto||"Sem motto",'"']})]}),i.jsx(ee,{variant:"ghost",size:"sm",className:"p-1 text-white/60 hover:text-white hover:bg-white/10",children:i.jsx(Ta,{className:"w-4 h-4"})})]},l.uniqueId)})}),r.length===0&&i.jsxs("div",{className:"text-center text-white/60 py-8",children:[i.jsx(Ft,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Nenhum amigo encontrado"})]})]})]})}),s&&i.jsx(eI,{open:!!s,setOpen:()=>o(null),habboName:s})]})},pS=({isOpen:e,onClose:t,groups:r,userName:n})=>i.jsx(Vr,{open:e,onOpenChange:t,children:i.jsxs(Er,{className:"max-w-4xl max-h-[80vh]",children:[i.jsx(qr,{children:i.jsxs(Kr,{className:"flex items-center gap-2",children:[i.jsx(au,{className:"w-5 h-5"}),"Grupos de ",n," (",r.length,")"]})}),i.jsxs(Sn,{className:"max-h-[60vh]",children:[i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4",children:r.map(s=>i.jsx("div",{className:"p-4 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("img",{src:ro.getBadgeUrl(s.badgeCode),alt:s.name,className:"w-12 h-12 border border-gray-200 rounded bg-white p-1 flex-shrink-0",onError:o=>{o.currentTarget.style.display="none"}}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h3",{className:"font-medium text-sm leading-tight",children:s.name}),i.jsx(ee,{variant:"ghost",size:"sm",className:"p-1 flex-shrink-0",children:i.jsx(Ta,{className:"w-4 h-4"})})]}),s.description&&i.jsx("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2 leading-relaxed",children:s.description}),i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(lr,{variant:s.type==="NORMAL"?"default":"secondary",className:"text-xs",children:s.type}),s.isAdmin&&i.jsx(lr,{variant:"outline",className:"text-xs",children:"Admin"})]}),i.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[i.jsx(Ft,{className:"w-3 h-3"}),i.jsx("span",{children:"Grupo"})]})]})]})]})},s.id))}),r.length===0&&i.jsxs("div",{className:"text-center text-gray-500 py-8",children:[i.jsx(au,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Nenhum grupo encontrado"})]})]})]})}),gS=({isOpen:e,onClose:t,rooms:r,userName:n})=>{const s=o=>new Date(o).toLocaleDateString("pt-BR");return i.jsx(Vr,{open:e,onOpenChange:t,children:i.jsxs(Er,{className:"max-w-4xl max-h-[80vh]",children:[i.jsx(qr,{children:i.jsxs(Kr,{className:"flex items-center gap-2",children:[i.jsx(mn,{className:"w-5 h-5"}),"Quartos de ",n," (",r.length,")"]})}),i.jsxs(Sn,{className:"max-h-[60vh]",children:[i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4",children:r.map(o=>i.jsxs("div",{className:"p-4 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h3",{className:"font-medium text-sm leading-tight flex-1 mr-2",children:o.name}),i.jsx(ee,{variant:"ghost",size:"sm",className:"p-1 flex-shrink-0",children:i.jsx(Ta,{className:"w-4 h-4"})})]}),o.description&&i.jsx("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2 leading-relaxed",children:o.description}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex items-center justify-between text-xs",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Ft,{className:"w-3 h-3"}),o.maximumVisitors||"N/A"]}),o.rating&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Aa,{className:"w-3 h-3 text-yellow-500"}),o.rating]})]})}),o.creationTime&&i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Criado: ",s(o.creationTime)]}),o.tags&&o.tags.length>0&&i.jsx("div",{className:"flex flex-wrap gap-1",children:o.tags.slice(0,3).map((a,l)=>i.jsx(lr,{variant:"outline",className:"text-xs",children:a},l))})]})]},o.id))}),r.length===0&&i.jsxs("div",{className:"text-center text-gray-500 py-8",children:[i.jsx(mn,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Nenhum quarto encontrado"})]})]})]})})},vS=({hotel:e,className:t=""})=>{const n=(s=>{switch(s){case"br":case"com.br":return{src:"/flags/br.png",alt:"Brasil",country:"Brasil"};case"com":return{src:"/flags/us.png",alt:"Estados Unidos",country:"Estados Unidos"};case"es":return{src:"/flags/es.png",alt:"Espanha",country:"Espanha"};case"fi":return{src:"/flags/fi.png",alt:"Finlândia",country:"Finlândia"};case"fr":return{src:"/flags/fr.png",alt:"França",country:"França"};case"de":return{src:"/flags/de.png",alt:"Alemanha",country:"Alemanha"};case"it":return{src:"/flags/it.png",alt:"Itália",country:"Itália"};case"nl":return{src:"/flags/nl.png",alt:"Holanda",country:"Holanda"};case"tr":return{src:"/flags/tr.png",alt:"Turquia",country:"Turquia"};default:return{src:"/flags/br.png",alt:"Brasil",country:"Brasil"}}})(e);return i.jsx("img",{src:n.src,alt:n.alt,title:n.country,className:`w-6 h-4 object-cover rounded-sm shadow-lg border border-white/20 ${t}`,onError:s=>{s.target.src="/flags/br.png"}})},Fx=()=>{var x,w,_,j,S,C,E,P;const[e,t]=f.useState(null),{isLoggedIn:r,habboAccount:n,myProfile:s,isLoading:o}=hd(),a=A=>A==="br"?"com.br":A||"com.br",{photos:l,photoCount:c,isLoading:u,hasError:d,errorMessage:h,refreshPhotos:m,canRetry:p,retryLoadPhotos:v}=$_(n==null?void 0:n.habbo_name,(n==null?void 0:n.hotel)||"br"),{data:g}=zp((n==null?void 0:n.habbo_name)||"",a((n==null?void 0:n.hotel)||"br"));if(!r||!n)return i.jsx(ie,{className:"bg-transparent text-white border-0 shadow-none h-full",children:i.jsxs(he,{className:"p-6 text-center space-y-4",children:[i.jsx(Zs,{className:"w-16 h-16 text-white/50 mx-auto mb-4"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-lg font-bold text-white volter-font",children:"🔐 Área Restrita"}),i.jsx("p",{className:"text-white/80 text-sm",children:"Faça login para acessar sua conta Habbo e ver seu perfil completo"})]}),i.jsxs("div",{className:"space-y-3 pt-4",children:[i.jsx("a",{href:"/login",className:"block w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 border border-black transition-colors volter-font",children:"🚪 Entrar na Conta"}),i.jsxs("div",{className:"text-xs text-white/60 space-y-1",children:[i.jsx("p",{children:"✓ Login por senha ou motto"}),i.jsx("p",{children:"✓ Acesso seguro via Hotel Habbo"}),i.jsx("p",{children:"✓ Perfil completo com fotos e emblemas"})]})]})]})});const b=async()=>{console.log("%c[🔄 MY ACCOUNT] Manual photo refresh initiated","background: #FF9800; color: white; padding: 4px 8px; border-radius: 4px;");try{await m(),console.log("[✅ MY ACCOUNT] Photo refresh completed")}catch(A){console.error("[❌ MY ACCOUNT] Photo refresh failed:",A)}},y=l.map(A=>({id:A.id,imageUrl:A.imageUrl,date:A.date||new Date().toLocaleDateString("pt-BR"),likes:A.likes||0}));return i.jsxs(ie,{className:"bg-transparent text-white border-0 shadow-none h-full flex flex-col overflow-hidden",children:[i.jsx(ke,{className:"pb-3 flex-shrink-0",children:i.jsxs(Ce,{className:"flex items-center justify-between text-lg",children:[i.jsx("span",{children:"Minha Conta"}),i.jsx(lr,{className:"bg-green-500/20 text-green-300 border border-black",children:"Online"})]})}),i.jsxs(he,{className:"flex-1 min-h-0 overflow-y-auto space-y-4",children:[i.jsx("div",{className:"relative",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("img",{src:`https://www.habbo.${a((n==null?void 0:n.hotel)||"br")}/habbo-imaging/avatarimage?figure=${(s==null?void 0:s.figureString)||(g==null?void 0:g.figureString)}&size=l&direction=2&head_direction=3&action=std`,alt:`Avatar de ${n.habbo_name}`,className:"w-24 h-32 object-contain",onError:A=>{A.target.src=`https://www.habbo.${a((n==null?void 0:n.hotel)||"br")}/habbo-imaging/avatarimage?user=${n.habbo_name}&size=l&direction=2&head_direction=3&action=std`}}),i.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-black rounded-full"}),i.jsx(vS,{hotel:(n==null?void 0:n.hotel)||"br",className:"absolute bottom-1 right-1"})]}),i.jsxs("div",{className:"flex-1 min-w-0 pt-2",children:[i.jsx("h3",{className:"text-xl font-bold text-white truncate",children:n.habbo_name}),i.jsx("p",{className:"text-sm text-white/60 mt-1 break-words",children:(s==null?void 0:s.motto)||(g==null?void 0:g.motto)||"Sem motto definido"})]})]})}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:"bg-transparent border border-black p-3 text-center",children:[i.jsx("div",{className:"text-xl font-bold text-white",children:c}),i.jsx("div",{className:"text-xs text-white/60",children:"Fotos"})]}),i.jsxs("div",{className:"bg-transparent border border-black p-3 text-center",children:[i.jsx("div",{className:"text-xl font-bold text-white",children:0}),i.jsx("div",{className:"text-xs text-white/60",children:"Seguidores"})]}),i.jsxs("div",{className:"bg-transparent border border-black p-3 text-center",children:[i.jsx("div",{className:"text-xl font-bold text-white",children:0}),i.jsx("div",{className:"text-xs text-white/60",children:"Seguindo"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("button",{onClick:()=>t("badges"),className:"flex flex-col items-center justify-center gap-2 p-3 bg-transparent hover:bg-white/20 transition-colors border border-black hover:border-white/30",children:[i.jsx(lu,{className:"h-5 w-5 text-yellow-400"}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm font-medium text-white",children:((w=(x=g==null?void 0:g.data)==null?void 0:x.badges)==null?void 0:w.length)||0}),i.jsx("div",{className:"text-xs text-white/60",children:"Emblemas"})]})]}),i.jsxs("button",{onClick:()=>t("rooms"),className:"flex flex-col items-center justify-center gap-2 p-3 bg-transparent hover:bg-white/20 transition-colors border border-black hover:border-white/30",children:[i.jsx(mn,{className:"h-5 w-5 text-green-400"}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm font-medium text-white",children:((j=(_=g==null?void 0:g.data)==null?void 0:_.rooms)==null?void 0:j.length)||0}),i.jsx("div",{className:"text-xs text-white/60",children:"Quartos"})]})]}),i.jsxs("button",{onClick:()=>t("friends"),className:"flex flex-col items-center justify-center gap-2 p-3 bg-transparent hover:bg-white/20 transition-colors border border-black hover:border-white/30",children:[i.jsx(Ft,{className:"h-5 w-5 text-pink-400"}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm font-medium text-white",children:((C=(S=g==null?void 0:g.data)==null?void 0:S.friends)==null?void 0:C.length)||0}),i.jsx("div",{className:"text-xs text-white/60",children:"Amigos"})]})]}),i.jsxs("button",{onClick:()=>t("groups"),className:"flex flex-col items-center justify-center gap-2 p-3 bg-transparent hover:bg-white/20 transition-colors border border-black hover:border-white/30",children:[i.jsx(au,{className:"h-5 w-5 text-purple-400"}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm font-medium text-white",children:((P=(E=g==null?void 0:g.data)==null?void 0:E.groups)==null?void 0:P.length)||0}),i.jsx("div",{className:"text-xs text-white/60",children:"Grupos"})]})]})]}),i.jsx("div",{className:"flex justify-center",children:i.jsxs(ee,{size:"sm",variant:"ghost",onClick:b,disabled:u,className:"text-white/80 hover:text-white hover:bg-white/10",children:[u?i.jsx(Nt,{className:"w-4 h-4 animate-spin mr-2"}):i.jsx(Js,{className:"w-4 h-4 mr-2"}),"Atualizar Fotos"]})}),l.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium text-white/80 mb-3",children:["Suas Fotos (",l.length,")"]}),i.jsx(H_,{photos:y})]}),u&&i.jsxs("div",{className:"text-xs text-white/60 flex items-center gap-2",children:[i.jsx(Nt,{className:"w-3 h-3 animate-spin"}),"Carregando fotos via API oficial..."]}),d&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"text-xs text-red-300 flex items-center gap-2",children:[i.jsx(Ow,{className:"w-3 h-3"}),h]}),p&&i.jsx(ee,{size:"sm",variant:"ghost",onClick:v,className:"h-6 px-2 text-xs text-white/80 hover:text-white hover:bg-white/10",children:"Tentar novamente"})]})]}),i.jsx(nS,{isOpen:e==="badges",onClose:()=>t(null),badges:(g==null?void 0:g.data.badges)||[],userName:(n==null?void 0:n.habbo_name)||""}),i.jsx(mS,{isOpen:e==="friends",onClose:()=>t(null),friends:(g==null?void 0:g.data.friends)||[],userName:(n==null?void 0:n.habbo_name)||""}),i.jsx(pS,{isOpen:e==="groups",onClose:()=>t(null),groups:(g==null?void 0:g.data.groups)||[],userName:(n==null?void 0:n.habbo_name)||""}),i.jsx(gS,{isOpen:e==="rooms",onClose:()=>t(null),rooms:(g==null?void 0:g.data.rooms)||[],userName:(n==null?void 0:n.habbo_name)||""})]})},xS=()=>{var h;const{habboAccount:e}=$a();console.log("🔍 [HOOK START] useFriendsActivitiesDirect initiated"),console.log("🔍 [HOOK START] habboAccount:",e);const t=ye.useMemo(()=>{const m=e==null?void 0:e.hotel;return!m||m==="br"?"br":m==="com"||m.includes(".")?m:"br"},[e==null?void 0:e.hotel]);console.log("🔍 [HOOK HOTEL] Detected hotel:",t);const{data:r,isLoading:n,fetchNextPage:s,hasNextPage:o,isFetchingNextPage:a,refetch:l,error:c}=BE({queryKey:["friendsActivitiesDirectAuth",t,e==null?void 0:e.habbo_name,"v4"],queryFn:async({pageParam:m=0})=>{if(console.log("🚀 [QUERY START] Authenticated edge function query initiated"),console.log("🚀 [QUERY PARAMS] pageParam:",m),console.log("🚀 [QUERY PARAMS] hotel:",t),!(e!=null&&e.habbo_name))return console.log("❌ [QUERY EARLY] User not authenticated"),{activities:[],nextOffset:null,hasMore:!1};try{console.log("🔗 [EDGE CALL] Invoking habbo-friends-activities-direct with auth...");const{data:{session:p}}=await B.auth.getSession();if(!(p!=null&&p.access_token))throw console.error("❌ [EDGE ERROR] No valid session found"),new Error("No valid session found");const{data:v,error:g}=await B.functions.invoke("habbo-friends-activities-direct",{body:{hotel:t,limit:50,offset:m},headers:{Authorization:`Bearer ${p.access_token}`,"Content-Type":"application/json"}});if(console.log("🔗 [EDGE RESPONSE] Response received:",!!v),console.log("🔗 [EDGE RESPONSE] Error:",g),g)return console.error("❌ [EDGE ERROR] Function error:",g),{activities:[],nextOffset:null,hasMore:!1};if(!v)return console.error("❌ [EDGE ERROR] Empty response from edge function"),{activities:[],nextOffset:null,hasMore:!1};const b=v;console.log(`✅ [EDGE SUCCESS] Received ${b.activities.length} activities`),console.log("📊 [EDGE METADATA]",b.metadata);const x=b.activities.length===50?m+50:null,w=x!==null;return console.log(`📄 [PAGINATION] Current offset: ${m}, next offset: ${x}, has more: ${w}`),{activities:b.activities,nextOffset:x,hasMore:w}}catch(p){return console.error("❌ [QUERY ERROR] Invocation error:",p),{activities:[],nextOffset:null,hasMore:!1}}},getNextPageParam:m=>m==null?void 0:m.nextOffset,initialPageParam:0,enabled:!!(e!=null&&e.habbo_name)&&!!(e!=null&&e.supabase_user_id),staleTime:2*60*1e3,gcTime:5*60*1e3,retry:(m,p)=>(console.log(`🔄 [RETRY] Attempt ${m+1}, error:`,p),m<2),retryDelay:m=>Math.min(1e3*2**m,3e3),refetchInterval:!1}),u=(r==null?void 0:r.pages.flatMap(m=>m.activities))??[],d={source:u.length>0?"authenticated_direct_api":"no_data",timestamp:new Date().toISOString(),hotel:t,count:u.length,friends_processed:((h=r==null?void 0:r.pages[0])==null?void 0:h.activities.length)||0,query_enabled:!!(e!=null&&e.habbo_name),has_error:!!c,is_authenticated:!!(e!=null&&e.supabase_user_id)};return console.log("📊 [HOOK SUMMARY] ===== FINAL SUMMARY ====="),console.log(`📊 [HOOK SUMMARY] Activities loaded: ${u.length}`),console.log(`📊 [HOOK SUMMARY] User authenticated: ${!!(e!=null&&e.supabase_user_id)}`),console.log(`📊 [HOOK SUMMARY] Query loading: ${n}`),console.log(`📊 [HOOK SUMMARY] Has error: ${!!c}`),console.log("📊 [HOOK SUMMARY] Error details:",c),{activities:u,isLoading:n,fetchNextPage:s,hasNextPage:!!o,isFetchingNextPage:a,refetch:l,hotel:t,metadata:d,error:c}};function ct(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function tI(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const nc=43200,Ux=1440;let rI={};function nI(){return rI}function zx(e){const t=ct(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ec(e,t){const r=ct(e),n=ct(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function sI(e){return tI(e,Date.now())}function oI(e,t){const r=ct(e),n=ct(t),s=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return s*12+o}function aI(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function iI(e,t){return+ct(e)-+ct(t)}function lI(e){const t=ct(e);return t.setHours(23,59,59,999),t}function cI(e){const t=ct(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function uI(e){const t=ct(e);return+lI(t)==+cI(t)}function dI(e,t){const r=ct(e),n=ct(t),s=Ec(r,n),o=Math.abs(oI(r,n));let a;if(o<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*o);let l=Ec(r,n)===-s;uI(ct(e))&&o===1&&Ec(e,n)===1&&(l=!1),a=s*(o-Number(l))}return a===0?0:a}function hI(e,t,r){const n=iI(e,t)/1e3;return aI(r==null?void 0:r.roundingMethod)(n)}const fI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mI=(e,t,r)=>{let n;const s=fI[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Qo(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const pI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xI={date:Qo({formats:pI,defaultWidth:"full"}),time:Qo({formats:gI,defaultWidth:"full"}),dateTime:Qo({formats:vI,defaultWidth:"full"})},yI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bI=(e,t,r,n)=>yI[e];function $r(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[a]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const wI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_I={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},SI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},NI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},CI=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},EI={ordinalNumber:CI,era:$r({values:wI,defaultWidth:"wide"}),quarter:$r({values:_I,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$r({values:SI,defaultWidth:"wide"}),day:$r({values:jI,defaultWidth:"wide"}),dayPeriod:$r({values:NI,defaultWidth:"wide",formattingValues:kI,defaultFormattingWidth:"wide"})};function Fr(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const a=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?TI(l,h=>h.test(a)):PI(l,h=>h.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function PI(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function TI(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function yS(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=r.valueCallback?r.valueCallback(a):a;const l=t.slice(s.length);return{value:a,rest:l}}}const RI=/^(\d+)(th|st|nd|rd)?/i,AI=/\d+/i,OI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},MI={any:[/^b/i,/^(a|c)/i]},II={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DI={any:[/1/i,/2/i,/3/i,/4/i]},LI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$I={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},FI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},UI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},HI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},BI={ordinalNumber:yS({matchPattern:RI,parsePattern:AI,valueCallback:e=>parseInt(e,10)}),era:Fr({matchPatterns:OI,defaultMatchWidth:"wide",parsePatterns:MI,defaultParseWidth:"any"}),quarter:Fr({matchPatterns:II,defaultMatchWidth:"wide",parsePatterns:DI,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Fr({matchPatterns:LI,defaultMatchWidth:"wide",parsePatterns:$I,defaultParseWidth:"any"}),day:Fr({matchPatterns:FI,defaultMatchWidth:"wide",parsePatterns:UI,defaultParseWidth:"any"}),dayPeriod:Fr({matchPatterns:zI,defaultMatchWidth:"any",parsePatterns:HI,defaultParseWidth:"any"})},WI={code:"en-US",formatDistance:mI,formatLong:xI,formatRelative:bI,localize:EI,match:BI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function VI(e,t,r){const n=nI(),s=(r==null?void 0:r.locale)??n.locale??WI,o=2520,a=Ec(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let c,u;a>0?(c=ct(t),u=ct(e)):(c=ct(e),u=ct(t));const d=hI(u,c),h=(zx(u)-zx(c))/1e3,m=Math.round((d-h)/60);let p;if(m<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):m===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",m,l);if(m<45)return s.formatDistance("xMinutes",m,l);if(m<90)return s.formatDistance("aboutXHours",1,l);if(m<Ux){const v=Math.round(m/60);return s.formatDistance("aboutXHours",v,l)}else{if(m<o)return s.formatDistance("xDays",1,l);if(m<nc){const v=Math.round(m/Ux);return s.formatDistance("xDays",v,l)}else if(m<nc*2)return p=Math.round(m/nc),s.formatDistance("aboutXMonths",p,l)}if(p=dI(u,c),p<12){const v=Math.round(m/nc);return s.formatDistance("xMonths",v,l)}else{const v=p%12,g=Math.trunc(p/12);return v<3?s.formatDistance("aboutXYears",g,l):v<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function hl(e,t){return VI(e,sI(e),t)}const qI={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},KI=(e,t,r)=>{let n;const s=qI[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"há "+n:n},GI={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},QI={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},YI={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},XI={date:Qo({formats:GI,defaultWidth:"full"}),time:Qo({formats:QI,defaultWidth:"full"}),dateTime:Qo({formats:YI,defaultWidth:"full"})},JI={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},ZI=(e,t,r,n)=>{const s=JI[e];return typeof s=="function"?s(t):s},eD={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},tD={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},rD={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},nD={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},sD={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},oD={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},aD=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"ª":r+"º"},iD={ordinalNumber:aD,era:$r({values:eD,defaultWidth:"wide"}),quarter:$r({values:tD,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$r({values:rD,defaultWidth:"wide"}),day:$r({values:nD,defaultWidth:"wide"}),dayPeriod:$r({values:sD,defaultWidth:"wide",formattingValues:oD,defaultFormattingWidth:"wide"})},lD=/^(\d+)[ºªo]?/i,cD=/\d+/i,uD={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},dD={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},hD={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},fD={any:[/1/i,/2/i,/3/i,/4/i]},mD={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},pD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},gD={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},vD={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},xD={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},yD={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},bD={ordinalNumber:yS({matchPattern:lD,parsePattern:cD,valueCallback:e=>parseInt(e,10)}),era:Fr({matchPatterns:uD,defaultMatchWidth:"wide",parsePatterns:dD,defaultParseWidth:"any"}),quarter:Fr({matchPatterns:hD,defaultMatchWidth:"wide",parsePatterns:fD,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Fr({matchPatterns:mD,defaultMatchWidth:"wide",parsePatterns:pD,defaultParseWidth:"any"}),day:Fr({matchPatterns:gD,defaultMatchWidth:"wide",parsePatterns:vD,defaultParseWidth:"any"}),dayPeriod:Fr({matchPatterns:xD,defaultMatchWidth:"any",parsePatterns:yD,defaultParseWidth:"any"})},fl={code:"pt-BR",formatDistance:KI,formatLong:XI,formatRelative:ZI,localize:iD,match:bD,options:{weekStartsOn:0,firstWeekContainsDate:1}},wD=({activity:e})=>{var o,a,l,c;const t=u=>{try{return hl(new Date(u),{addSuffix:!0,locale:fl})}catch(d){return console.warn("Erro ao formatar a data:",d),"há alguns momentos"}},r=u=>{switch(u){case"photos":return i.jsx(Wu,{className:"w-3 h-3 text-blue-400"});case"badge":return i.jsx(H2,{className:"w-3 h-3 text-yellow-400"});case"friends":return i.jsx(Ft,{className:"w-3 h-3 text-green-400"});default:return i.jsx(Ra,{className:"w-3 h-3 text-gray-400"})}},n=u=>u?`https://www.habbo.com.br/habbo-imaging/avatarimage?figure=${u}&size=s&direction=2&head_direction=3&action=std`:"",s=u=>u?`https://images.habbo.com/c_images/album1584/${u}.gif`:"";return i.jsxs("div",{className:"flex items-start gap-2 p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors border border-white/10",children:[i.jsxs(pd,{className:"w-8 h-8 flex-shrink-0",children:[i.jsx(gd,{src:n(e.figureString||""),alt:e.username}),i.jsx(vd,{className:"text-xs bg-habbo-blue text-white",children:e.username.substring(0,2).toUpperCase()})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[r(e.type||""),i.jsx("span",{className:"text-xs font-medium text-white/80 truncate",children:e.username}),i.jsx("span",{className:"text-xs text-white/40 flex-shrink-0",children:t(e.timestamp)})]}),i.jsx("p",{className:"text-xs text-white/70 leading-relaxed break-words",children:e.activity}),e.type==="badge"&&((a=(o=e.details)==null?void 0:o.newBadges)==null?void 0:a[0])&&i.jsxs("div",{className:"flex items-center gap-2 mt-1 p-1 bg-yellow-500/10 rounded border border-yellow-500/20",children:[i.jsx("img",{src:s(e.details.newBadges[0].code),alt:e.details.newBadges[0].name,className:"w-4 h-4",onError:u=>{u.target.style.display="none"}}),i.jsx("span",{className:"text-xs text-yellow-300 truncate",children:e.details.newBadges[0].name||e.details.newBadges[0].code})]}),e.type==="photos"&&((c=(l=e.details)==null?void 0:l.newPhotos)==null?void 0:c[0])&&i.jsxs("div",{className:"mt-1 text-xs text-blue-300",children:["📸 ",e.details.newPhotos[0].roomName&&`em "${e.details.newPhotos[0].roomName}"`]})]})]})},_D=()=>{const{activities:e,isLoading:t,fetchNextPage:r,hasNextPage:n,isFetchingNextPage:s,refetch:o,hotel:a,metadata:l}=xS(),c=f.useRef(null),u=f.useRef(null);f.useEffect(()=>{const m=new IntersectionObserver(p=>{p[0].isIntersecting&&n&&!s&&e.length>=10&&(console.log("[🔄 DIRECT ACTIVITIES] Loading next page..."),r())},{threshold:.1,rootMargin:"50px"});return u.current&&m.observe(u.current),()=>m.disconnect()},[r,n,s,e.length]);const d=f.useCallback(()=>{console.log("[🔄 DIRECT ACTIVITIES] Manual refresh triggered"),o()},[o]),h=ye.useMemo(()=>new Set(e.map(p=>p.username)).size,[e]);return i.jsxs(ie,{className:"bg-[#4A5568] text-white border-none h-full flex flex-col overflow-hidden",children:[i.jsx(ke,{className:"border-b border-dashed border-white/20 pb-3 flex-shrink-0",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ce,{className:"flex items-center gap-2 text-lg",children:[i.jsx(Rw,{className:"w-5 h-5"}),"Atividades dos Amigos",h>0&&i.jsxs("span",{className:"text-sm font-normal text-white/60",children:["(",h," amigos • ",l.source,")"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ee,{variant:"ghost",size:"sm",onClick:d,disabled:t,className:"text-white/60 hover:text-white hover:bg-white/10",children:t?i.jsx(Nt,{className:"w-4 h-4 animate-spin"}):i.jsx(Js,{className:"w-4 h-4"})}),i.jsxs("div",{className:"text-xs text-white/60",children:[e.length," atividades"]})]})]})}),i.jsx(he,{ref:c,className:"flex-1 min-h-0 overflow-y-auto space-y-2 scrollbar-hide",children:t&&e.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-white/60 border-t-transparent rounded-full mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-white/60",children:"Buscando atividades dos amigos..."}),i.jsxs("p",{className:"text-xs text-white/40 mt-1",children:["Hotel: ",a," • Sistema aprimorado"]})]}):e.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"space-y-1",children:e.map((m,p)=>i.jsx(wD,{activity:m},`${m.username}-${m.timestamp}-${p}`))}),i.jsx("div",{ref:u,className:"h-4 flex items-center justify-center",children:s&&i.jsxs("div",{className:"flex items-center gap-2 text-white/60",children:[i.jsx(Nt,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{className:"text-xs",children:"Carregando mais atividades..."})]})}),n&&!s&&e.length>=10&&i.jsx("div",{className:"text-center py-4 border-t border-white/10",children:i.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>r(),className:"text-white/60 hover:text-white hover:bg-white/10 text-xs",children:[i.jsx(wp,{className:"w-3 h-3 mr-1"}),"Carregar mais atividades"]})}),!n&&e.length>0&&i.jsx("div",{className:"text-center py-4 border-t border-white/10",children:i.jsx("p",{className:"text-xs text-white/40",children:"✅ Todas as atividades carregadas"})})]}):h===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ft,{className:"w-12 h-12 mx-auto mb-4 text-white/40"}),i.jsx("p",{className:"text-white/60 font-medium mb-1",children:"Nenhum amigo encontrado"}),i.jsx("p",{className:"text-white/40 text-sm mb-4",children:"Adicione amigos no Habbo para ver suas atividades aqui."})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ft,{className:"w-12 h-12 mx-auto mb-4 text-white/40"}),i.jsx("p",{className:"text-white/60 font-medium mb-1",children:"Nenhuma atividade recente"}),i.jsxs("p",{className:"text-white/40 text-sm mb-4",children:[h," amigos • Última verificação: ",new Date().toLocaleTimeString()]}),i.jsxs(ee,{variant:"outline",size:"sm",onClick:d,className:"text-white/60 hover:text-white border-white/20 hover:bg-white/10",children:[i.jsx(Js,{className:"w-3 h-3 mr-1"}),"Atualizar"]})]})})]})},SD=({metadata:e})=>{const t=()=>{switch(e.source){case"authenticated_direct_api":return{icon:nP,color:"text-green-400",label:"API Conectada",status:"Dados reais"};case"no_data":return{icon:uP,color:"text-yellow-400",label:"Sem Dados",status:"Aguardando atividades"};default:return{icon:wp,color:"text-gray-400",label:"Carregando",status:"Processando..."}}},{icon:r,color:n,label:s,status:o}=t();return i.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3 mb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(r,{className:`w-4 h-4 ${n}`}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs font-medium text-white/90",children:s}),i.jsx("div",{className:"text-xs text-white/60",children:o})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"flex items-center gap-1 text-xs text-white/60",children:[i.jsx(Ft,{className:"w-3 h-3"}),i.jsxs("span",{children:[e.friends_processed||0," amigos"]})]}),i.jsxs("div",{className:"text-xs text-white/40",children:["Hotel: ",e.hotel.toUpperCase()]})]})]}),e.has_error&&i.jsx("div",{className:"mt-2 p-2 bg-red-500/10 border border-red-500/20 rounded text-xs text-red-300",children:"⚠️ Erro na conexão com o backend"}),!e.is_authenticated&&i.jsx("div",{className:"mt-2 p-2 bg-yellow-500/10 border border-yellow-500/20 rounded text-xs text-yellow-300",children:"🔑 Faça login para ver atividades reais"})]})},jD=()=>{const{metadata:e,activities:t,isLoading:r,error:n}=xS();return i.jsx("div",{className:"h-full flex flex-col bg-gradient-to-b from-habbo-blue to-habbo-yellow",children:i.jsxs("div",{className:"flex-1 p-4 overflow-hidden",children:[i.jsx(SD,{metadata:e}),i.jsx("div",{className:"h-full",children:i.jsx(_D,{})})]})})},ND=(e,t="br")=>{var s,o,a,l;const{data:r,isLoading:n}=zp(e,t==="br"?"com.br":t);return Ye({queryKey:["friends-photos",e,t,(o=(s=r==null?void 0:r.data)==null?void 0:s.friends)==null?void 0:o.length],queryFn:async()=>{var m,p;if(!e)throw new Error("Username is required");if(!((p=(m=r==null?void 0:r.data)==null?void 0:m.friends)!=null&&p.length))return console.log(`[🎯 FRIENDS PHOTOS] No friends found for ${e}`),[];console.log(`[🎯 FRIENDS PHOTOS] Fetching photos for ${r.data.friends.length} friends of ${e}`);const{data:c,error:u}=await B.functions.invoke("habbo-friends-photos",{body:{username:e,hotel:t}});if(u)throw console.error("[❌ FRIENDS PHOTOS] Error:",u),new Error(u.message||"Failed to fetch friends photos");if(!c||c.error)return console.error("[❌ FRIENDS PHOTOS] API Error:",(c==null?void 0:c.error)||"No data returned"),[];console.log(`[✅ FRIENDS PHOTOS] Successfully fetched ${Array.isArray(c)?c.length:0} photos`);const h=(Array.isArray(c)?c:[]).filter(v=>v.imageUrl&&v.userName&&v.timestamp).map(v=>({...v,timestamp:v.timestamp||Date.now(),date:v.timestamp?new Date(v.timestamp).toLocaleDateString("pt-BR"):"Data inválida"})).sort((v,g)=>{const b=typeof v.timestamp=="number"?v.timestamp:new Date(v.timestamp||v.date).getTime(),x=(typeof g.timestamp=="number"?g.timestamp:new Date(g.timestamp||g.date).getTime())-b;return x===0?(g.id||"").localeCompare(v.id||""):x});return console.log(`[📊 FRIENDS PHOTOS] Filtered to ${h.length} valid photos, ordered chronologically`),h},enabled:!!e&&!n&&!!((l=(a=r==null?void 0:r.data)==null?void 0:a.friends)!=null&&l.length),staleTime:5*60*1e3,gcTime:15*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchInterval:!1,retry:1})},kD=()=>{const{habboAccount:e}=hd(),[t,r]=f.useState(null),n=f.useRef(null),{data:s=[],isLoading:o,error:a,refetch:l}=ND((e==null?void 0:e.habbo_name)||"",(e==null?void 0:e.hotel)||"br"),c=d=>{const h=new Date(d.split("/").reverse().join("-")),p=new Date().getTime()-h.getTime(),v=Math.floor(p/6e4);return v<1?"agora mesmo":v<60?`${v}m atrás`:v<1440?`${Math.floor(v/60)}h atrás`:`${Math.floor(v/1440)}d atrás`},u=d=>{r({id:d.id,imageUrl:d.imageUrl,date:d.date,likes:d.likes})};return e?i.jsxs(i.Fragment,{children:[i.jsxs(ie,{className:"bg-[#4A5568] text-white border-none h-full flex flex-col",children:[i.jsx(ke,{className:"border-b border-dashed border-white/20 pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ce,{className:"flex items-center gap-2 text-lg",children:[i.jsx(Ft,{className:"w-5 h-5 text-blue-500"}),"Feed dos Amigos"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(lr,{variant:"default",className:"bg-blue-500/10 text-blue-700 border-blue-200",children:[s.length," fotos"]}),i.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>l(),disabled:o,children:i.jsx(Js,{className:`w-4 h-4 ${o?"animate-spin":""}`})})]})]})}),i.jsx(he,{className:"flex-1 min-h-0",children:i.jsxs(Sn,{className:"h-full pr-4",ref:n,children:[o&&i.jsx("div",{className:"space-y-4",children:[...Array(6)].map((d,h)=>i.jsxs("div",{className:"animate-pulse",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-8 h-8 bg-muted rounded-full"}),i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsx("div",{className:"h-3 bg-muted rounded w-24"}),i.jsx("div",{className:"h-2 bg-muted rounded w-16"})]})]}),i.jsx("div",{className:"aspect-square bg-muted rounded-lg mb-4"})]},h))}),a&&i.jsxs("div",{className:"text-center py-8 space-y-3",children:[i.jsx(Ow,{className:"w-12 h-12 text-muted-foreground mx-auto"}),i.jsxs("div",{className:"text-muted-foreground",children:[i.jsx("p",{className:"font-medium",children:"Erro ao carregar feed"}),i.jsx("p",{className:"text-sm",children:a.message})]}),i.jsx(ee,{variant:"outline",onClick:()=>l(),children:"Tentar novamente"})]}),!o&&!a&&s.length===0&&i.jsxs("div",{className:"text-center py-8 space-y-3",children:[i.jsx(Wu,{className:"w-12 h-12 text-muted-foreground mx-auto"}),i.jsxs("div",{className:"text-muted-foreground",children:[i.jsx("p",{className:"font-medium",children:"Nenhuma foto encontrada"}),i.jsx("p",{className:"text-sm",children:"Seus amigos ainda não compartilharam fotos"})]})]}),s.length>0&&i.jsx("div",{className:"space-y-6",children:s.map(d=>i.jsxs("div",{className:"p-3 border-t border-dashed border-white/20 first:border-t-0 space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:d.userAvatar,alt:d.userName,className:"w-8 h-8 rounded-full border border-border",onError:h=>{h.currentTarget.src=`https://placehold.co/32x32/4B5563/FFFFFF?text=${d.userName[0]}`}}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-sm",children:d.userName}),i.jsx("div",{className:"text-xs text-muted-foreground",children:c(d.date)})]})]}),i.jsxs("div",{className:"relative aspect-square bg-muted rounded-lg overflow-hidden cursor-pointer group",onClick:()=>u(d),children:[i.jsx("img",{src:d.imageUrl,alt:`Foto de ${d.userName}`,className:"w-full h-full object-cover transition-transform duration-200 group-hover:scale-105",loading:"lazy",onError:h=>{h.currentTarget.src="https://placehold.co/300x300/4B5563/FFFFFF?text=Foto+Não+Disponível"}}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center",children:i.jsxs("div",{className:"flex items-center gap-1 text-white text-sm font-medium",children:[i.jsx(iu,{className:"w-4 h-4 fill-white"}),i.jsx("span",{children:d.likes})]})})]}),i.jsx("div",{className:"flex items-center gap-2 text-sm",children:i.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[i.jsx(iu,{className:"w-4 h-4 text-red-500"}),i.jsxs("span",{children:[d.likes," curtidas"]})]})})]},`${d.userName}-${d.id}`))})]})})]}),t&&i.jsx(z_,{isOpen:!!t,onClose:()=>r(null),photo:t})]}):i.jsxs(ie,{className:"h-full flex flex-col",children:[i.jsx(ke,{className:"pb-3",children:i.jsxs(Ce,{className:"flex items-center gap-2 text-lg",children:[i.jsx(Ft,{className:"w-5 h-5 text-blue-500"}),"Feed dos Amigos"]})}),i.jsx(he,{className:"flex-1 flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-muted-foreground",children:[i.jsx(Ft,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),i.jsx("p",{children:"Faça login para ver o feed dos amigos"})]})})]})},CD=({conversations:e,onConversationSelect:t})=>e.length===0?i.jsx("div",{className:"h-full flex items-center justify-center text-white volter-font",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-4xl mb-4",children:"💬"}),i.jsx("div",{className:"text-sm opacity-80",children:"Nenhuma conversa ainda"}),i.jsx("div",{className:"text-xs opacity-60 mt-2",children:"Busque por amigos para começar a conversar"})]})}):i.jsx("div",{className:"h-full overflow-y-auto space-y-2 p-2",children:e.map(r=>i.jsxs("div",{onClick:()=>t(r),className:`flex items-center p-3 bg-black/20 rounded-lg border border-white/10 
                     hover:bg-black/30 transition-colors cursor-pointer group`,children:[i.jsxs("div",{className:"relative flex-shrink-0 mr-3",children:[i.jsx("img",{src:`https://www.habbo.com.br/habbo-imaging/avatarimage?hb=image&user=${r.otherUser.habbo_name}&headonly=1&direction=2&head_direction=2&action=&gesture=&size=m`,alt:r.otherUser.habbo_name,className:"w-10 h-10 rounded-full border border-white/20",onError:n=>{const s=n.target;s.src="https://www.habbo.com.br/habbo-imaging/avatarimage?hb=image&user=guest&headonly=1&direction=2&head_direction=2&action=&gesture=&size=m"}}),r.otherUser.online&&i.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-black"})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"font-bold text-white volter-font text-sm truncate",children:r.otherUser.habbo_name}),r.lastMessage&&i.jsx("span",{className:"text-xs text-white/60 volter-font flex-shrink-0",children:hl(r.lastMessage.timestamp,{addSuffix:!0,locale:fl})})]}),r.lastMessage&&i.jsx("div",{className:"text-sm text-white/80 volter-font truncate",children:r.lastMessage.sender===r.otherUser.habbo_name?r.lastMessage.text:`Você: ${r.lastMessage.text}`})]}),i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"})]},r.id))}),ED=({message:e,otherUserName:t,currentUserName:r})=>{const n=e.isOwn,s=n?r:t;return i.jsxs("div",{className:`flex items-start gap-3 ${n?"flex-row-reverse":"flex-row"}`,children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("img",{src:`https://www.habbo.com.br/habbo-imaging/avatarimage?hb=image&user=${s}&headonly=1&direction=2&head_direction=${n?"4":"2"}&action=&gesture=&size=m`,alt:s,className:"w-8 h-8 rounded-full border border-white/20",onError:o=>{const a=o.target;a.src="https://www.habbo.com.br/habbo-imaging/avatarimage?hb=image&user=guest&headonly=1&direction=2&head_direction=2&action=&gesture=&size=m"}})}),i.jsxs("div",{className:`flex flex-col max-w-[70%] ${n?"items-end":"items-start"}`,children:[i.jsx("div",{className:`text-xs volter-font mb-1 ${n?"text-blue-300":"text-yellow-300"}`,children:n?"VOCÊ:":`${s}:`}),i.jsx("div",{className:`
          habbo-speech-bubble volter-font text-sm leading-relaxed
          ${n?"bg-blue-600 text-white right":"bg-white text-black left"}
        `,children:e.text}),i.jsx("div",{className:`text-xs text-white/50 volter-font mt-1 ${n?"text-right":"text-left"}`,children:hl(e.timestamp,{addSuffix:!0,locale:fl})})]})]})},Yo={async getConversations(e){const{data:t,error:r}=await B.from("conversations").select(`
        *,
        chat_messages!inner (
          message_text,
          created_at,
          sender_habbo_name
        )
      `).or(`participant_1.eq.${e},participant_2.eq.${e}`).order("last_message_at",{ascending:!1});if(r)throw r;return(t==null?void 0:t.map(n=>{var a;const s=n.participant_1===e?n.participant_2:n.participant_1,o=(a=n.chat_messages)==null?void 0:a[n.chat_messages.length-1];return{...n,otherUser:{habbo_name:s,figureString:"hr-100-61.hd-180-1.ch-210-66.lg-270-82.sh-305-62",online:Math.random()>.5},lastMessage:o?{text:o.message_text,timestamp:new Date(o.created_at),sender:o.sender_habbo_name}:void 0}}))||[]},async getMessages(e){const{data:t,error:r}=await B.from("chat_messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});if(r)throw r;return t||[]},async sendMessage(e,t,r){const{data:n,error:s}=await B.from("chat_messages").insert({conversation_id:e,sender_habbo_name:t,message_text:r,message_type:"text"}).select().single();if(s)throw s;return n},async createOrGetConversation(e,t){const[r,n]=[e,t].sort(),{data:s}=await B.from("conversations").select("id").or(`and(participant_1.eq.${r},participant_2.eq.${n}),and(participant_1.eq.${n},participant_2.eq.${r})`).single();if(s)return s.id;const{data:o,error:a}=await B.from("conversations").insert({participant_1:r,participant_2:n}).select("id").single();if(a)throw a;return o.id},subscribeToMessages(e,t){return B.channel(`messages-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`conversation_id=eq.${e}`},r=>{t(r.new)}).subscribe()},subscribeToConversations(e,t){return B.channel("conversations-updates").on("postgres_changes",{event:"*",schema:"public",table:"conversations",filter:`or(participant_1.eq.${e},participant_2.eq.${e})`},()=>{t()}).subscribe()}};Array(12).fill(0);ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"}));ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"}));ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"}));ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}));var im=1,PD=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:im++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...n,dismissible:a,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async o=>{if(RD(o)&&!o.ok){s=!1;let a=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:r,type:"error",message:a,description:l})}else if(t.success!==void 0){s=!1;let a=typeof t.success=="function"?await t.success(o):t.success,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(t.error!==void 0){s=!1;let a=typeof t.error=="function"?await t.error(o):t.error,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=t.finally)==null||o.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||im++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},hr=new PD,TD=(e,t)=>{let r=(t==null?void 0:t.id)||im++;return hr.addToast({title:e,...t,id:r}),r},RD=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",AD=TD,OD=()=>hr.toasts,dn=Object.assign(AD,{success:hr.success,info:hr.info,warning:hr.warning,error:hr.error,custom:hr.custom,message:hr.message,promise:hr.promise,dismiss:hr.dismiss,loading:hr.loading},{getHistory:OD});function MD(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}MD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);const ID=({conversationId:e,otherUserName:t,onBack:r})=>{const{habboAccount:n}=hd(),[s,o]=f.useState(""),a=f.useRef(null),l=ol(),{data:c=[]}=Ye({queryKey:["messages",e],queryFn:()=>Yo.getMessages(e),enabled:!!e,refetchInterval:5e3}),u=Df({mutationFn:p=>Yo.sendMessage(e,n.habbo_name,p),onSuccess:()=>{l.invalidateQueries({queryKey:["messages",e]}),l.invalidateQueries({queryKey:["conversations"]}),o("")},onError:p=>{console.error("Error sending message:",p),dn.error("Erro ao enviar mensagem")}});f.useEffect(()=>{const p=Yo.subscribeToMessages(e,v=>{l.setQueryData(["messages",e],(g=[])=>g.some(b=>b.id===v.id)?g:[...g,v])});return()=>{B.removeChannel(p)}},[e,l]);const d=()=>{var p;(p=a.current)==null||p.scrollIntoView({behavior:"smooth"})};f.useEffect(()=>{d()},[c]);const h=()=>{s.trim()&&!u.isPending&&u.mutate(s.trim())},m=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),h())};return n?i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"flex items-center p-3 border-b border-white/20 bg-black/20",children:[i.jsx("button",{onClick:r,className:"mr-3 p-1 rounded-lg hover:bg-white/10 transition-colors",children:i.jsx(Wi,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex items-center flex-1",children:[i.jsxs("div",{className:"relative mr-3",children:[i.jsx("img",{src:`https://www.habbo.com.br/habbo-imaging/avatarimage?hb=image&user=${t}&headonly=1&direction=2&head_direction=2&action=&gesture=&size=m`,alt:t,className:"w-10 h-10 rounded-full border border-white/20",onError:p=>{const v=p.target;v.src="https://www.habbo.com.br/habbo-imaging/avatarimage?hb=image&user=guest&headonly=1&direction=2&head_direction=2&action=&gesture=&size=m"}}),i.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-black"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-white volter-font",children:t}),i.jsx("div",{className:"text-xs text-white/60 volter-font",children:"Online"})]})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[c.map(p=>{const v=p.sender_habbo_name===n.habbo_name;return i.jsxs("div",{className:`flex items-end gap-2 ${v?"flex-row-reverse":"flex-row"}`,children:[i.jsx("img",{src:`https://www.habbo.com.br/habbo-imaging/avatarimage?hb=image&user=${p.sender_habbo_name}&headonly=1&direction=2&head_direction=2&action=&gesture=&size=s`,alt:p.sender_habbo_name,className:"w-8 h-8 rounded-full border border-white/20 flex-shrink-0",onError:g=>{const b=g.target;b.src="https://www.habbo.com.br/habbo-imaging/avatarimage?hb=image&user=guest&headonly=1&direction=2&head_direction=2&action=&gesture=&size=s"}}),i.jsxs("div",{className:"flex flex-col max-w-[70%]",children:[i.jsxs("div",{className:"px-4 py-3 rounded-2xl bg-white text-gray-900 shadow-lg border border-gray-200",children:[i.jsx("div",{className:"font-medium text-xs text-gray-500 mb-1 volter-font",children:p.sender_habbo_name}),i.jsx("div",{className:"volter-font text-sm leading-relaxed",children:p.message_text})]}),i.jsx("div",{className:`text-xs text-white/50 mt-1 volter-font ${v?"text-right":"text-left"}`,children:hl(new Date(p.created_at),{addSuffix:!0,locale:fl})})]})]},p.id)}),i.jsx("div",{ref:a})]}),i.jsx("div",{className:"p-3 border-t border-white/20 bg-black/20",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:s,onChange:p=>o(p.target.value),onKeyPress:m,placeholder:"Escreva sua mensagem...",className:`flex-1 px-3 py-2 bg-black/30 border border-white/20 rounded-lg 
                       text-white placeholder-white/50 volter-font text-sm
                       focus:outline-none focus:border-blue-400`,maxLength:500,disabled:u.isPending}),i.jsx("button",{onClick:h,disabled:!s.trim()||u.isPending,className:`px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 
                       rounded-lg transition-colors flex items-center justify-center`,children:i.jsx(Lw,{className:"w-4 h-4 text-white"})})]})})]}):null},DD=({conversation:e,currentUser:t,onBack:r})=>{if(e.id&&e.id!=="1"&&e.id!=="2"&&e.id!=="3")return i.jsx(ID,{conversationId:e.id,otherUserName:e.otherUser.habbo_name,onBack:r});const[n,s]=f.useState(""),[o,a]=f.useState([{id:"1",text:"Ooh! Ooh! Você está online! :)) Quer jogar SnowStorm?",sender:e.otherUser.habbo_name,timestamp:new Date(Date.now()-5*60*1e3),isOwn:!1},{id:"2",text:"Oi! Claro! :) Mas preciso sair com os cachorros primeiro. Pode ser em uma hora?",sender:t.habbo_name,timestamp:new Date(Date.now()-3*60*1e3),isOwn:!0},{id:"3",text:"Perfeito! Me chama quando voltar então! 🐕",sender:e.otherUser.habbo_name,timestamp:new Date(Date.now()-2*60*1e3),isOwn:!1}]),l=f.useRef(null),c=()=>{var h;(h=l.current)==null||h.scrollIntoView({behavior:"smooth"})};f.useEffect(()=>{c()},[o]);const u=()=>{if(n.trim()){const h={id:Date.now().toString(),text:n.trim(),sender:t.habbo_name,timestamp:new Date,isOwn:!0};a(m=>[...m,h]),s("")}},d=h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),u())};return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"flex items-center p-3 border-b border-white/20 bg-black/20",children:[i.jsx("button",{onClick:r,className:"mr-3 p-1 rounded-lg hover:bg-white/10 transition-colors",children:i.jsx(Wi,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex items-center flex-1",children:[i.jsxs("div",{className:"relative mr-3",children:[i.jsx("img",{src:`https://www.habbo.com.br/habbo-imaging/avatarimage?hb=image&user=${e.otherUser.habbo_name}&headonly=1&direction=2&head_direction=2&action=&gesture=&size=m`,alt:e.otherUser.habbo_name,className:"w-10 h-10 rounded-full border border-white/20",onError:h=>{const m=h.target;m.src="https://www.habbo.com.br/habbo-imaging/avatarimage?hb=image&user=guest&headonly=1&direction=2&head_direction=2&action=&gesture=&size=m"}}),e.otherUser.online&&i.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-black"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-white volter-font",children:e.otherUser.habbo_name}),i.jsx("div",{className:"text-xs text-white/60 volter-font",children:e.otherUser.online?"Online":"Offline"})]})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[o.map(h=>i.jsx(ED,{message:h,otherUserName:e.otherUser.habbo_name,currentUserName:t.habbo_name},h.id)),i.jsx("div",{ref:l})]}),i.jsx("div",{className:"p-3 border-t border-white/20 bg-black/20",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:n,onChange:h=>s(h.target.value),onKeyPress:d,placeholder:"Escreva sua mensagem...",className:`flex-1 px-3 py-2 bg-black/30 border border-white/20 rounded-lg 
                       text-white placeholder-white/50 volter-font text-sm
                       focus:outline-none focus:border-blue-400`,maxLength:500}),i.jsx("button",{onClick:u,disabled:!n.trim(),className:`px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 
                       rounded-lg transition-colors flex items-center justify-center`,children:i.jsx(Lw,{className:"w-4 h-4 text-white"})})]})})]})},LD=({startConversationWith:e,onConversationStarted:t})=>{const{habboAccount:r}=hd(),[n,s]=f.useState(null),[o,a]=f.useState(!1),{data:l=[],refetch:c}=Ye({queryKey:["conversations",r==null?void 0:r.habbo_name],queryFn:()=>Yo.getConversations(r.habbo_name),enabled:!!(r!=null&&r.habbo_name),staleTime:3e4}),u=l.map(p=>({id:p.id,participants:[p.participant_1,p.participant_2],otherUser:p.otherUser,lastMessage:p.lastMessage}));f.useEffect(()=>{(async()=>{if(e&&(r!=null&&r.habbo_name)&&e!==r.habbo_name)try{const g={id:await Yo.createOrGetConversation(r.habbo_name,e),participants:[r.habbo_name,e],otherUser:{habbo_name:e,figureString:"hr-100-61.hd-180-1.ch-210-66.lg-270-82.sh-305-62",online:!0}};s(g),a(!0),t==null||t()}catch(v){console.error("Error starting conversation:",v)}})()},[e,r==null?void 0:r.habbo_name,t]),f.useEffect(()=>{if(!(r!=null&&r.habbo_name))return;const p=Yo.subscribeToConversations(r.habbo_name,()=>{c()});return()=>{B.removeChannel(p)}},[r==null?void 0:r.habbo_name,c]);const d=[{id:"1",participants:["Beebop","EZ-C"],otherUser:{habbo_name:"EZ-C",figureString:"hr-100-61.hd-180-1.ch-210-66.lg-270-82.sh-305-62",online:!0},lastMessage:{text:"Vamos jogar SnowStorm? :)",timestamp:new Date(Date.now()-2*60*1e3),sender:"EZ-C"}},{id:"2",participants:["Beebop","Lu,a"],otherUser:{habbo_name:"Lu,a",figureString:"hr-515-45.hd-600-1.ch-215-66.lg-270-82.sh-305-62",online:!1},lastMessage:{text:"Obrigada pela ajuda com o quarto!",timestamp:new Date(Date.now()-30*60*1e3),sender:"Lu,a"}},{id:"3",participants:["Beebop","Realcristianw"],otherUser:{habbo_name:"Realcristianw",figureString:"hr-100-61.hd-180-1.ch-210-66.lg-270-82.sh-305-62",online:!0},lastMessage:{text:"Oi! Como está?",timestamp:new Date(Date.now()-2*60*60*1e3),sender:"Realcristianw"}}],h=p=>{s(p),a(!0)},m=()=>{a(!1),s(null)};return r?o&&n?i.jsx(DD,{conversation:n,currentUser:r,onBack:m}):i.jsx(CD,{conversations:u.length>0?u:d,onConversationSelect:h}):i.jsx("div",{className:"h-full flex items-center justify-center text-white volter-font",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mb-2",children:"🔒"}),i.jsx("div",{children:"Login necessário para acessar o chat"})]})})},$D=({onUserFound:e,onUserNotFound:t,onSearch:r,isLoading:n=!1,placeholder:s="Digite o nome do usuário Habbo...",className:o=""})=>{const[a,l]=f.useState(""),c=d=>{d.preventDefault(),a.trim()&&(r&&r(a.trim()),e&&e({name:a.trim()}))},u=d=>{d.key==="Enter"&&c(d)};return i.jsxs("form",{onSubmit:c,className:`flex gap-2 ${o}`,children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Bt,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-white w-3 h-3"}),i.jsx(Kt,{type:"text",placeholder:s,value:a,onChange:d=>l(d.target.value),onKeyPress:u,className:"pl-8 bg-transparent border-white text-white placeholder-white/60 h-6 text-sm",disabled:n})]}),i.jsx(ee,{type:"submit",disabled:!a.trim()||n,className:"px-3 py-1 h-6 bg-transparent border border-white text-white hover:bg-white/10",size:"sm",children:n?i.jsx(Nt,{className:"w-3 h-3 animate-spin"}):i.jsx(Bt,{className:"w-3 h-3"})})]})},FD=e=>{const{habboAccount:t}=ys(),r=f.useMemo(()=>{const c=t==null?void 0:t.hotel;return!c||c==="br"?"com.br":c},[t==null?void 0:t.hotel]),n=e==null?void 0:e.limit,{data:s,isLoading:o,error:a,refetch:l}=Ye({queryKey:["official-hotel-ticker",r,n],queryFn:async()=>{var d;console.log(`📡 [useOfficialHotelTicker] Fetching from official ticker for ${r}`);const{data:c,error:u}=await B.functions.invoke("habbo-official-ticker",{body:{hotel:r,limit:n}});if(u)throw console.error("❌ [useOfficialHotelTicker] Error:",u),new Error(`Failed to fetch official ticker: ${u.message}`);if(!c||!c.success)throw new Error((c==null?void 0:c.message)||"Failed to fetch official ticker data");return console.log(`✅ [useOfficialHotelTicker] Retrieved ${((d=c.activities)==null?void 0:d.length)||0} activities`),c},enabled:!0,refetchInterval:30*1e3,staleTime:25*1e3,retry:2,retryDelay:c=>Math.min(1e3*2**c,3e4)});return{activities:(s==null?void 0:s.activities)||[],isLoading:o,error:a,hotel:r,metadata:(s==null?void 0:s.meta)||{source:"official",timestamp:new Date().toISOString(),count:0,onlineCount:0},success:(s==null?void 0:s.success)||!1,refetch:l}};class UD{constructor(){mo(this,"baseUrl");this.baseUrl=""}async getUserFeed(t,r){try{return console.log(`🚫 [habboFeedService] DESABILITADO: getUserFeed para ${r}`),null}catch(n){return console.error(`Error fetching user feed for ${r}:`,n),null}}async getHotelFeed(t,r=50,n){try{return console.log(`🚫 [habboFeedService] DESABILITADO: getHotelFeed para ${t}`),{activities:[],meta:{source:"database",timestamp:new Date().toISOString(),count:0,onlineCount:0}}}catch(s){return console.error(`Error fetching hotel feed for ${t}:`,s),{activities:[],meta:{source:"database",timestamp:new Date().toISOString(),count:0,onlineCount:0}}}}async triggerUserSync(t,r){return console.log(`🚫 [habboFeedService] DESABILITADO: triggerUserSync para ${t}`),null}async ensureTrackedAndSynced(t){return console.log(`🚫 [habboFeedService] DESABILITADO: ensureTrackedAndSynced para ${t.habbo_name}`),null}async discoverAndSyncOnlineUsers(t,r=50){return console.log(`🚫 [habboFeedService] DESABILITADO: discoverAndSyncOnlineUsers para ${t}`),null}async triggerBatchSync(t){return console.log(`🚫 [habboFeedService] DESABILITADO: triggerBatchSync para ${t}`),null}getAvatarUrl(t,r="m",n=!1){const s="https://www.habbo.com.br/habbo-imaging/avatarimage",o=new URLSearchParams({figure:t,size:r,direction:"2",head_direction:"3",gesture:"sml"});return n&&o.append("headonly","1"),`${s}?${o.toString()}`}getBadgeUrl(t){return`https://images.habbo.com/c_images/album1584/${t}.gif`}getGroupBadgeUrl(t){return`https://images.habbo.com/c_images/album1584/${t}.gif`}formatTimeAgo(t){try{const r=new Date(t),s=Math.floor((new Date().getTime()-r.getTime())/1e3);if(s<60)return"há alguns segundos";if(s<3600){const o=Math.floor(s/60);return`há ${o} minuto${o>1?"s":""}`}else if(s<86400){const o=Math.floor(s/3600);return`há ${o} hora${o>1?"s":""}`}else{const o=Math.floor(s/86400);return`há ${o} dia${o>1?"s":""}`}}catch{return"há alguns segundos"}}}const zD=new UD,HD=e=>{var d;const{data:t,isLoading:r}=Ye({queryKey:["habbo-user",e],queryFn:async()=>{if(!e)return null;const{data:h,error:m}=await B.rpc("get_habbo_account_public_by_name",{habbo_name_param:e.trim().toLowerCase()});if(m||!h)throw console.error("User not found:",m),new Error("Usuário não encontrado");return Array.isArray(h)?h[0]:h},enabled:!!e,retry:2,staleTime:3e5}),{data:n,isLoading:s}=Ye({queryKey:["habbo-profile",e,t==null?void 0:t.hotel],queryFn:async()=>{if(!t)return null;const h=t.hotel==="br"?"com.br":t.hotel||"com.br";return await ro.getUserProfile(e,h)},enabled:!!t&&!!e,staleTime:5*60*1e3}),{data:o=[],isLoading:a}=Ye({queryKey:["habbo-photos",e,t==null?void 0:t.hotel],queryFn:async()=>{if(!t)return[];const h=t.hotel==="br"?"com.br":t.hotel||"com.br";return await ro.getUserPhotos(e,h)},enabled:!!t&&!!e,staleTime:10*60*1e3});f.useEffect(()=>{t!=null&&t.habbo_id&&(t!=null&&t.habbo_name)&&(t!=null&&t.hotel)&&zD.ensureTrackedAndSynced({habbo_name:t.habbo_name,habbo_id:t.habbo_id,hotel:t.hotel}).catch(()=>{})},[t==null?void 0:t.habbo_id,t==null?void 0:t.habbo_name,t==null?void 0:t.hotel]);const l=t!=null&&t.figure_string||n!=null&&n.figureString?`https://www.habbo.${t==null?void 0:t.hotel}/habbo-imaging/avatarimage?figure=${(t==null?void 0:t.figure_string)||(n==null?void 0:n.figureString)}&size=l&direction=2&head_direction=3&action=std`:`https://www.habbo.com.br/habbo-imaging/avatarimage?user=${e}&size=l&direction=2&head_direction=3&action=std`,c={...t,...n,figure_string:(t==null?void 0:t.figure_string)||(n==null?void 0:n.figureString),motto:(t==null?void 0:t.motto)||(n==null?void 0:n.motto),is_online:(n==null?void 0:n.online)??(t==null?void 0:t.is_online)},u={badgesCount:((d=n==null?void 0:n.selectedBadges)==null?void 0:d.length)||0,photosCount:o.length,friendsCount:void 0,groupsCount:void 0};return{habboUser:c,habboProfile:n,photos:o,avatarUrl:l,stats:u,isLoading:r||s||a,error:null}},BD=({targetHabboId:e,targetHabboName:t}={})=>{const{user:r}=$a(),n=ol(),{data:s,isLoading:o}=Ye({queryKey:["isFollowing",r==null?void 0:r.id,e],queryFn:async()=>{if(!(r!=null&&r.id)||!e)return!1;const{data:h,error:m}=await B.from("console_profile_follows").select("id").eq("follower_user_id",r.id).eq("target_habbo_id",e).single();return m&&m.code!=="PGRST116"?(console.error("Error checking follow status:",m),!1):!!h},enabled:!!(r!=null&&r.id&&e)}),{data:a=0}=Ye({queryKey:["followersCount",e],queryFn:async()=>{if(!e)return 0;const{count:h,error:m}=await B.from("console_profile_follows").select("*",{count:"exact",head:!0}).eq("target_habbo_id",e);return m?(console.error("Error fetching followers count:",m),0):h||0},enabled:!!e}),{data:l=0}=Ye({queryKey:["followingCount",r==null?void 0:r.id],queryFn:async()=>{if(!(r!=null&&r.id))return 0;const{count:h,error:m}=await B.from("console_profile_follows").select("*",{count:"exact",head:!0}).eq("follower_user_id",r.id);return m?(console.error("Error fetching following count:",m),0):h||0},enabled:!!(r!=null&&r.id)}),c=Df({mutationFn:async()=>{if(!(r!=null&&r.id)||!e||!t)throw new Error("Missing required data to follow user");const{data:h}=await B.from("habbo_accounts").select("habbo_name").eq("supabase_user_id",r.id).single();if(!h)throw new Error("User habbo account not found");const{error:m}=await B.from("console_profile_follows").insert({follower_user_id:r.id,follower_habbo_name:h.habbo_name,target_habbo_id:e,target_habbo_name:t});if(m)throw m},onSuccess:()=>{n.invalidateQueries({queryKey:["isFollowing"]}),n.invalidateQueries({queryKey:["followersCount"]}),n.invalidateQueries({queryKey:["followingCount"]}),dn.success(`Agora você está seguindo ${t}!`)},onError:h=>{console.error("Error following user:",h),dn.error("Erro ao seguir usuário")}}),u=Df({mutationFn:async()=>{if(!(r!=null&&r.id)||!e)throw new Error("Missing required data to unfollow user");const{error:h}=await B.from("console_profile_follows").delete().eq("follower_user_id",r.id).eq("target_habbo_id",e);if(h)throw h},onSuccess:()=>{n.invalidateQueries({queryKey:["isFollowing"]}),n.invalidateQueries({queryKey:["followersCount"]}),n.invalidateQueries({queryKey:["followingCount"]}),dn.success(`Você parou de seguir ${t}`)},onError:h=>{console.error("Error unfollowing user:",h),dn.error("Erro ao deixar de seguir usuário")}});return{isFollowing:s??!1,isCheckingFollow:o,followersCount:a,followingCount:l,handleToggleFollow:()=>{s?u.mutate():c.mutate()},isToggling:c.isPending||u.isPending}},WD=({username:e,onBack:t,onStartConversation:r})=>{var _,j,S,C,E,P,A,I;const[n,s]=f.useState(null),{habboUser:o,avatarUrl:a,isLoading:l}=HD(e),{data:c,isLoading:u}=zp(e,(o==null?void 0:o.hotel)==="br"?"com.br":(o==null?void 0:o.hotel)||"com.br"),{photos:d,photoCount:h,isLoading:m,refreshPhotos:p}=$_(e,(o==null?void 0:o.hotel)||"br"),{isFollowing:v,followersCount:g,followingCount:b,handleToggleFollow:y,isToggling:x}=BD({targetHabboId:o==null?void 0:o.habbo_id,targetHabboName:(o==null?void 0:o.habbo_name)||e});if(l||u)return i.jsx(ie,{className:"bg-[#4A5568] text-white border-0 shadow-none h-full flex flex-col",children:i.jsx(he,{className:"flex-1 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Nt,{className:"w-8 h-8 animate-spin text-white/60 mx-auto mb-2"}),i.jsx("p",{className:"text-white/60 text-sm",children:"Carregando perfil..."})]})})});if(!o)return i.jsx(ie,{className:"bg-[#4A5568] text-white border-0 shadow-none h-full flex flex-col",children:i.jsx(he,{className:"flex-1 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-white/80 mb-4",children:"Usuário não encontrado"}),i.jsxs(ee,{onClick:t,variant:"outline",className:"text-white border-white/20 hover:bg-white/10",children:[i.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Voltar"]})]})})});const w=d.map(R=>({id:R.id,imageUrl:R.imageUrl,date:R.date||new Date().toLocaleDateString("pt-BR"),likes:R.likes||0}));return i.jsxs(ie,{className:"bg-[#4A5568] text-white border-0 shadow-none h-full flex flex-col overflow-hidden",children:[i.jsx(ke,{className:"pb-3 flex-shrink-0",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(ee,{onClick:t,size:"sm",variant:"ghost",className:"text-white/80 hover:text-white hover:bg-white/10 p-2",children:i.jsx(Wi,{className:"w-4 h-4"})}),i.jsx(Ce,{className:"text-lg",children:(o==null?void 0:o.habbo_name)||e}),i.jsx(lr,{variant:c!=null&&c.online?"default":"secondary",className:`ml-auto text-xs ${c!=null&&c.online?"bg-green-500/20 text-green-300 border-green-500/30":"bg-white/10 text-white/60 border-white/20"}`,children:c!=null&&c.online?"Online":"Offline"})]})}),i.jsxs(he,{className:"flex-1 min-h-0 overflow-y-auto space-y-4",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(255,255,255,0.2) transparent"},children:[i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("img",{src:`https://www.habbo.${(o==null?void 0:o.hotel)==="br"?"com.br":(o==null?void 0:o.hotel)||"com.br"}/habbo-imaging/avatarimage?figure=${c==null?void 0:c.figureString}&size=l&direction=2&head_direction=3&action=std`,alt:`Avatar de ${(o==null?void 0:o.habbo_name)||e}`,className:"w-24 h-32 object-contain",onError:R=>{const L=R.target;L.src=`https://www.habbo.com.br/habbo-imaging/avatarimage?user=${e}&size=l&direction=2&head_direction=3&action=std`}}),(c==null?void 0:c.online)&&i.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-[#4A5568] rounded-full"}),i.jsx("div",{className:"absolute bottom-1 right-1",children:i.jsx(vS,{hotel:(o==null?void 0:o.hotel)||"br"})})]}),i.jsxs("div",{className:"flex-1 min-w-0 pt-2",children:[i.jsx("h3",{className:"text-xl font-bold text-white truncate",children:(o==null?void 0:o.habbo_name)||e}),i.jsx("p",{className:"text-sm text-white/60 mt-1 break-words",children:(c==null?void 0:c.motto)||(o==null?void 0:o.motto)||"Sem motto definido"})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:"bg-white/10 rounded-lg p-3 text-center border border-white/20",children:[i.jsx("div",{className:"text-xl font-bold text-white",children:h}),i.jsx("div",{className:"text-xs text-white/60",children:"Fotos"})]}),i.jsxs("div",{className:"bg-white/10 rounded-lg p-3 text-center border border-white/20",children:[i.jsx("div",{className:"text-xl font-bold text-white",children:g}),i.jsx("div",{className:"text-xs text-white/60",children:"Seguidores"})]}),i.jsxs("div",{className:"bg-white/10 rounded-lg p-3 text-center border border-white/20",children:[i.jsx("div",{className:"text-xl font-bold text-white",children:b}),i.jsx("div",{className:"text-xs text-white/60",children:"Seguindo"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs(ee,{onClick:y,disabled:x,className:`${v?"bg-white/20 hover:bg-white/30 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:[x?i.jsx(Nt,{className:"w-4 h-4 mr-2 animate-spin"}):v?i.jsx($w,{className:"w-4 h-4 mr-2"}):i.jsx(lP,{className:"w-4 h-4 mr-2"}),x?"Carregando...":v?"Seguindo":"Seguir"]}),r&&i.jsxs(ee,{onClick:()=>r(e),className:"bg-green-500 hover:bg-green-600 text-white",children:[i.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Mensagem"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("button",{onClick:()=>s("badges"),className:"flex flex-col items-center justify-center gap-2 p-3 rounded-lg bg-white/10 hover:bg-white/20 transition-colors border border-white/20 hover:border-white/30",children:[i.jsx(lu,{className:"h-5 w-5 text-yellow-400"}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm font-medium text-white",children:((j=(_=c==null?void 0:c.data)==null?void 0:_.badges)==null?void 0:j.length)||0}),i.jsx("div",{className:"text-xs text-white/60",children:"Emblemas"})]})]}),i.jsxs("button",{onClick:()=>s("rooms"),className:"flex flex-col items-center justify-center gap-2 p-3 rounded-lg bg-white/10 hover:bg-white/20 transition-colors border border-white/20 hover:border-white/30",children:[i.jsx(mn,{className:"h-5 w-5 text-green-400"}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm font-medium text-white",children:((C=(S=c==null?void 0:c.data)==null?void 0:S.rooms)==null?void 0:C.length)||0}),i.jsx("div",{className:"text-xs text-white/60",children:"Quartos"})]})]}),i.jsxs("button",{onClick:()=>s("friends"),className:"flex flex-col items-center justify-center gap-2 p-3 rounded-lg bg-white/10 hover:bg-white/20 transition-colors border border-white/20 hover:border-white/30",children:[i.jsx(Ft,{className:"h-5 w-5 text-pink-400"}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm font-medium text-white",children:((P=(E=c==null?void 0:c.data)==null?void 0:E.friends)==null?void 0:P.length)||0}),i.jsx("div",{className:"text-xs text-white/60",children:"Amigos"})]})]}),i.jsxs("button",{onClick:()=>s("groups"),className:"flex flex-col items-center justify-center gap-2 p-3 rounded-lg bg-white/10 hover:bg-white/20 transition-colors border border-white/20 hover:border-white/30",children:[i.jsx(au,{className:"h-5 w-5 text-purple-400"}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm font-medium text-white",children:((I=(A=c==null?void 0:c.data)==null?void 0:A.groups)==null?void 0:I.length)||0}),i.jsx("div",{className:"text-xs text-white/60",children:"Grupos"})]})]})]}),i.jsx("div",{className:"flex justify-center",children:i.jsxs(ee,{size:"sm",variant:"ghost",onClick:p,disabled:m,className:"text-white/80 hover:text-white hover:bg-white/10",children:[m?i.jsx(Nt,{className:"w-4 h-4 animate-spin mr-2"}):i.jsx(Js,{className:"w-4 h-4 mr-2"}),"Atualizar Fotos"]})}),d.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium text-white/80 mb-3",children:["Fotos (",d.length,")"]}),i.jsx(H_,{photos:w})]}),m&&i.jsxs("div",{className:"text-xs text-white/60 flex items-center gap-2",children:[i.jsx(Nt,{className:"w-3 h-3 animate-spin"}),"Carregando fotos..."]}),d.length===0&&!m&&i.jsxs("div",{className:"text-center text-white/60 py-8",children:[i.jsx(Wu,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"Nenhuma foto encontrada"})]})]}),i.jsx(nS,{isOpen:n==="badges",onClose:()=>s(null),badges:(c==null?void 0:c.data.badges)||[],userName:(o==null?void 0:o.habbo_name)||e}),i.jsx(mS,{isOpen:n==="friends",onClose:()=>s(null),friends:(c==null?void 0:c.data.friends)||[],userName:(o==null?void 0:o.habbo_name)||e}),i.jsx(pS,{isOpen:n==="groups",onClose:()=>s(null),groups:(c==null?void 0:c.data.groups)||[],userName:(o==null?void 0:o.habbo_name)||e}),i.jsx(gS,{isOpen:n==="rooms",onClose:()=>s(null),rooms:(c==null?void 0:c.data.rooms)||[],userName:(o==null?void 0:o.habbo_name)||e})]})},VD=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!1),[s,o]=f.useState(null);return{searchResults:e,isSearching:r,error:s,searchUser:async l=>{if(!l.trim()){t([]),o(null);return}if(l.trim().length<2){t([]),o(null);return}n(!0),o(null);try{console.log(`🔍 [useUserSearch] Searching for: "${l}"`);const{data:c,error:u}=await B.functions.invoke("habbo-user-search",{body:{query:l.trim(),hotel:"br",limit:15}});if(u){console.error("❌ [useUserSearch] Edge function error:",u),o("Erro na busca. Tente novamente."),t([]);return}const d=(c==null?void 0:c.users)||[];t(d),console.log(`✅ [useUserSearch] Found ${d.length} users for "${l}"`)}catch(c){console.error("❌ [useUserSearch] Search error:",c),o("Erro na busca. Tente novamente."),t([])}finally{n(!1)}}}},qD=({onStartConversation:e})=>{const t=ol(),[r,n]=f.useState(""),[s,o]=f.useState(!1),{searchUser:a,isSearching:l,searchResults:c}=VD(),{activities:u,isLoading:d,refetch:h}=FD({limit:15}),m=()=>{t.invalidateQueries({queryKey:["official-hotel-ticker"]}),t.invalidateQueries({queryKey:["hotel-ticker"]}),t.invalidateQueries({queryKey:["friends-photos"]}),t.invalidateQueries({queryKey:["friends-activities"]}),console.log("🔄 [SEARCH DEBUG] Force refreshed all feeds"),h()},p=async g=>{await a(g),c.length>0&&(n(g),o(!0))},v=g=>{n(g),o(!0)};return s&&r?i.jsx(ie,{className:"bg-transparent text-white border-0 shadow-none h-full flex flex-col overflow-hidden",children:i.jsx(WD,{username:r,onBack:()=>{o(!1),n("")},onStartConversation:e})}):i.jsxs("div",{className:"h-full flex flex-col space-y-4 bg-transparent",children:[i.jsxs("div",{className:"flex-shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Bt,{className:"w-4 h-4 text-white habbo-text-shadow"}),i.jsx("span",{className:"text-sm font-bold text-white habbo-text-shadow",children:"Buscar Usuários"})]}),i.jsx($D,{onSearch:p,isLoading:l,placeholder:"Digite o nome do usuário..."}),c.length>0&&i.jsxs("div",{className:"mt-3 space-y-2",children:[i.jsx("h3",{className:"text-xs font-bold text-white/80 habbo-text-shadow",children:"Resultados:"}),i.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:c.map((g,b)=>i.jsxs("div",{onClick:()=>v(g.name),className:"flex items-center gap-2 p-2 bg-transparent border border-black hover:bg-white/10 cursor-pointer transition-colors",children:[i.jsx("img",{src:`https://www.habbo.com.br/habbo-imaging/avatarimage?figure=${g.figureString}&size=s&direction=3&head_direction=3`,alt:`Avatar de ${g.name}`,className:"w-6 h-6 habbo-avatar-no-border"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs font-bold text-white habbo-text-shadow truncate",children:g.name}),i.jsx("p",{className:"text-[10px] text-white/60 truncate",children:g.motto})]})]},b))})]})]}),i.jsxs("div",{className:"flex-1 min-h-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Bt,{className:"w-4 h-4 text-white habbo-text-shadow"}),i.jsx("span",{className:"text-sm font-bold text-white habbo-text-shadow",children:"Ticker Oficial do Hotel"}),i.jsxs("div",{className:"flex gap-1 ml-auto",children:[i.jsx("button",{onClick:()=>h(),disabled:d,className:"text-white/80 hover:text-white p-1 transition-colors",children:d?i.jsx(Bt,{className:"w-3 h-3 animate-spin"}):i.jsx(Bt,{className:"w-3 h-3"})}),i.jsx("button",{onClick:m,disabled:d,className:"text-amber-400 hover:text-amber-300 p-1 transition-colors",title:"Force Update (Debug)",children:i.jsx(dP,{className:"w-3 h-3"})})]})]}),i.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(255,255,255,0.2) transparent"},children:d?i.jsx("div",{className:"flex justify-center items-center h-32",children:i.jsx(Bt,{className:"w-6 h-6 animate-spin text-white/60"})}):u.length>0?u.map((g,b)=>{var y;return i.jsxs("div",{onClick:()=>v(g.username),className:"flex items-center gap-2 p-2 bg-transparent border border-black hover:bg-white/10 cursor-pointer transition-colors",children:[i.jsx("img",{src:`https://www.habbo.com.br/habbo-imaging/avatarimage?figure=${((y=g.profile)==null?void 0:y.figureString)||"lg-3023-1332.hr-681-45.hd-180-1.ch-3030-64.ca-1808-62"}&size=s&direction=3&head_direction=3`,alt:`Avatar de ${g.username}`,className:"w-6 h-6 habbo-avatar-no-border"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs font-bold text-white habbo-text-shadow truncate",children:g.username}),i.jsx("p",{className:"text-[10px] text-white/60 truncate",children:g.description})]})]},`${g.username}-${g.lastUpdate}-${b}`)}):i.jsxs("div",{className:"text-center py-6",children:[i.jsx(Bt,{className:"w-8 h-8 mx-auto mb-3 text-white/40"}),i.jsx("p",{className:"text-white/60 text-xs",children:"Nenhuma atividade oficial encontrada"}),i.jsx("p",{className:"text-white/40 text-[10px] mt-1",children:"Atividades do hotel aparecerão aqui"})]})})]})]})},KD=({title:e,children:t,onClose:r,className:n=""})=>i.jsxs("div",{className:`pixel-frame-outer ${n}`,children:[i.jsxs("div",{className:"pixel-header-bar",children:[i.jsx("div",{className:"pixel-title",children:e}),i.jsx("div",{className:"pixel-pattern"}),r&&i.jsx(io,{className:"pixel-close-button-svg",onClick:r})]}),i.jsx("div",{className:"pixel-inner-content",children:t})]}),GD=[{id:"account",label:"Minha Conta",icon:i.jsx(Zs,{className:"w-4 h-4"}),color:"#FDCC00",hoverColor:"#FEE100",activeColor:"#FBCC00"},{id:"feed",label:"Feed",icon:i.jsx(Rw,{className:"w-4 h-4"}),color:"#2D3748",hoverColor:"#4A5568",activeColor:"#1A202C"},{id:"photos",label:"Fotos",icon:i.jsx(Wu,{className:"w-4 h-4"}),color:"#DC2626",hoverColor:"#EF4444",activeColor:"#B91C1C"},{id:"chat",label:"Chat",icon:i.jsx(Ra,{className:"w-4 h-4"}),color:"#9333EA",hoverColor:"#A855F7",activeColor:"#7C3AED"},{id:"search",label:"Buscar",icon:i.jsx(Bt,{className:"w-4 h-4"}),color:"#8B4513",hoverColor:"#A0522D",activeColor:"#654321"}],bS=({startChatWith:e})=>{const[t,r]=f.useState("account"),[n,s]=f.useState(e);ye.useEffect(()=>{e&&(r("chat"),s(e))},[e]);const o=()=>{switch(t){case"account":return i.jsx(Fx,{});case"feed":return i.jsx(jD,{});case"photos":return i.jsx(kD,{});case"chat":return i.jsx(LD,{startConversationWith:n,onConversationStarted:()=>s(void 0)});case"search":return i.jsx(qD,{onStartConversation:a=>{r("chat"),s(a)}});default:return i.jsx(Fx,{})}};return i.jsx(KD,{title:"Console do Habbo",className:"mx-auto h-[calc(100vh-12rem)]",children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"flex-1 min-h-0 mb-4",children:o()}),i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"grid grid-cols-5 gap-2",children:GD.map(a=>i.jsxs("button",{onClick:()=>r(a.id),className:X("pixel-nav-button habbo-text-shadow",t===a.id?"active":""),style:{backgroundColor:t===a.id?a.activeColor:a.color,color:t===a.id?"#2B2300":"#FFFFFF"},children:[i.jsx("div",{className:X("transition-transform duration-200",t===a.id?"scale-110":"scale-100"),children:a.icon}),i.jsx("span",{className:"leading-none text-[10px]",children:a.label})]},a.id))})})]})})},wS=({children:e,className:t=""})=>i.jsx("div",{className:`min-h-screen bg-repeat ${t}`,style:{backgroundImage:'url("/assets/bghabbohub.png")'},children:e}),QD=()=>{$a();const e=()=>{window.open("/console-popup","ConsolePopup","width=1200,height=800,scrollbars=yes,resizable=yes,menubar=no,toolbar=no,location=no,status=no")};return i.jsx(wS,{children:i.jsx(dt,{children:i.jsxs("div",{className:"min-h-screen flex",children:[i.jsx(yt,{}),i.jsx(ht,{className:"flex-1",children:i.jsxs("div",{className:"p-4 flex flex-col items-center",children:[i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-3xl font-bold text-white mb-4 volter-font",style:{textShadow:"2px 2px 0px black, -2px -2px 0px black, 2px -2px 0px black, -2px 2px 0px black"},children:"Console do Habbo"}),i.jsx("p",{className:"text-white/80 volter-font",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},children:"Gerencie sua experiência no HabboHub"})]}),i.jsx(bS,{}),i.jsx("div",{className:"mt-4 flex justify-center",children:i.jsxs(ee,{onClick:e,variant:"outline",size:"lg",className:"bg-white/10 border-white/30 text-white hover:bg-white/20 hover:text-white volter-font px-6 py-3",children:[i.jsx(Iw,{className:"w-5 h-5 mr-2"}),"Abrir Console em Pop-up",i.jsx(Ta,{className:"w-4 h-4 ml-2"})]})})]})})]})})})},YD=()=>{const{isLoggedIn:e,loginWithPassword:t}=ys(),[r,n]=f.useState({habboName:"",password:""}),[s,o]=f.useState(!1);f.useEffect(()=>{(()=>{window.opener&&!window.opener.closed&&window.opener.postMessage({type:"CONSOLE_POPUP_OPENED"},"*")})();const c=setInterval(()=>{window.opener&&!window.opener.closed&&window.opener.postMessage({type:"AUTH_STATE_CHANGE",isLoggedIn:e},"*")},1e3);return()=>{clearInterval(c),window.opener&&!window.opener.closed&&window.opener.postMessage({type:"CONSOLE_POPUP_CLOSED"},"*")}},[e]);const a=async l=>{if(l.preventDefault(),!r.habboName||!r.password){dn.error("Preencha todos os campos");return}o(!0);try{const c=await t(r.habboName,r.password);c.error?dn.error(c.error.message||"Erro ao fazer login"):dn.success("Login realizado com sucesso!")}catch{dn.error("Erro inesperado ao fazer login")}finally{o(!1)}};return e?i.jsx("div",{className:"h-screen overflow-hidden",children:i.jsx(wS,{children:i.jsx("div",{className:"h-full flex flex-col",children:i.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:i.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg border border-white/20 shadow-lg",style:{width:"400px",height:"600px",minWidth:"400px",minHeight:"600px"},children:i.jsx(bS,{})})})})})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-600 to-blue-800 flex items-center justify-center p-4",children:i.jsxs(ie,{className:"w-full max-w-md",children:[i.jsxs(ke,{className:"text-center",children:[i.jsx(Ce,{className:"text-2xl volter-font",children:"Console HabboHub"}),i.jsx(L_,{children:"Faça login para acessar seu console"})]}),i.jsx(he,{children:i.jsxs("form",{onSubmit:a,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Nome Habbo"}),i.jsx(Kt,{value:r.habboName,onChange:l=>n(c=>({...c,habboName:l.target.value})),placeholder:"Seu nome no Habbo",disabled:s})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Senha"}),i.jsx(Kt,{type:"password",value:r.password,onChange:l=>n(c=>({...c,password:l.target.value})),placeholder:"Sua senha",disabled:s})]}),i.jsx(ee,{type:"submit",className:"w-full",disabled:s,children:s?"Entrando...":"Entrar"})]})})]})})},Ts=class Ts{constructor(){mo(this,"cache",new Map);mo(this,"TTL",5*60*1e3)}static getInstance(){return Ts.instance||(Ts.instance=new Ts),Ts.instance}getCacheKey(t,r){return`${t.toLowerCase()}:${r}`}get(t,r){const n=this.getCacheKey(t,r),s=this.cache.get(n);return s?Date.now()>s.expires?(this.cache.delete(n),null):s.data:null}set(t,r,n){const s=this.getCacheKey(t,r);this.cache.set(s,{data:n,expires:Date.now()+this.TTL})}clear(){this.cache.clear()}};mo(Ts,"instance");let lm=Ts;const Hx=lm.getInstance(),XD=e=>{const[t,r]=f.useState([]),[n,s]=f.useState([]),[o,a]=f.useState({background_type:"color",background_value:"#c7d2dc"}),[l,c]=f.useState([]),[u,d]=f.useState(null),[h,m]=f.useState(!0),p=async(I,R)=>{try{const L=I.hotel==="br"?"com.br":I.hotel||"com.br",O=Hx.get(I.habbo_name,L);if(O){console.log("📦 Perfil do Habbo carregado do cache"),d(H=>({...H,motto:O.motto||H.motto,figure_string:O.figureString||H.figure_string,is_online:O.online??H.is_online,memberSince:O.memberSince||H.memberSince}));return}console.log("🌐 Carregando perfil do Habbo da API...");const V=await ro.getUserProfile(I.habbo_name,L);V&&(Hx.set(I.habbo_name,L,V),d(H=>({...H,motto:V.motto||H.motto,figure_string:V.figureString||H.figure_string,is_online:V.online??H.is_online,memberSince:V.memberSince||H.memberSince})),console.log("✅ Perfil do Habbo atualizado"))}catch(L){console.warn("⚠️ Falha ao carregar perfil do Habbo (não crítico):",L)}},[v,g]=f.useState(!1),[b,y]=f.useState(!1),{habboAccount:x}=dd(),w=async()=>{var I;try{m(!0),console.log("🏠 Carregando dados da Habbo Home para:",e);const{data:R,error:L}=await B.from("habbo_accounts").select("*").ilike("habbo_name",e).single();if(L||!R){console.error("❌ Usuário não encontrado:",L),d(null);return}console.log("✅ Dados do usuário carregados:",R);const O={id:R.supabase_user_id,habbo_name:R.habbo_name,habbo_id:R.habbo_id,hotel:R.hotel||"br",motto:R.motto||"",figure_string:R.figure_string||"",is_online:R.is_online||!1,memberSince:""};d(O);const V=((I=x==null?void 0:x.habbo_name)==null?void 0:I.toLowerCase())===e.toLowerCase();y(V),console.log("🔍 Verificação de proprietário:",{currentUserIsOwner:V,currentUser:x==null?void 0:x.habbo_name,targetUser:e});const H=R.supabase_user_id;console.log("🚀 Carregando dados da home em paralelo...");const[{data:W},{data:D},{data:U},{data:z}]=await Promise.all([B.from("user_home_widgets").select("*").eq("user_id",H).eq("is_visible",!0),B.from("user_stickers").select("*").eq("user_id",H),B.from("user_home_backgrounds").select("*").eq("user_id",H).single(),B.from("guestbook_entries").select("*").eq("home_owner_user_id",H).eq("moderation_status","approved").order("created_at",{ascending:!1}).limit(10)]);let J=[];W&&W.length>0&&(J=W.map(oe=>({id:oe.id,widget_type:oe.widget_type,x:oe.x,y:oe.y,z_index:oe.z_index,width:oe.width,height:oe.height,is_visible:oe.is_visible,config:oe.config}))),console.log("📦 Widgets carregados:",J);const fe=J.find(oe=>oe.widget_type==="avatar");if(V&&!fe){console.log("🎯 Criando widget avatar automaticamente...");const oe=384,de=100,wt={id:`avatar-${H}`,widget_type:"avatar",x:oe,y:de,z_index:1,width:300,height:150,is_visible:!0,config:{}};B.from("user_home_widgets").insert({user_id:H,widget_type:"avatar",x:oe,y:de,z_index:1,width:300,height:150,is_visible:!0,config:{}}).then(()=>console.log("✅ Widget avatar criado")),J.push(wt)}if(r(J),D){const oe=D.map(de=>({id:de.id,sticker_id:de.sticker_id,x:de.x,y:de.y,z_index:de.z_index,scale:Number(de.scale)||1,rotation:de.rotation||0,sticker_src:de.sticker_src,category:de.category||"Stickers"}));console.log("🎯 Stickers carregados:",oe),s(oe)}U&&(a({background_type:U.background_type,background_value:U.background_value}),console.log("🎨 Background carregado:",U)),z&&(c(z),console.log("📝 Guestbook carregado:",z)),console.log("✅ Dados da home carregados com sucesso"),m(!1),p(R,O)}catch(R){console.error("❌ Erro ao carregar dados da Habbo Home:",R),m(!1)}},_=async(I,R,L)=>{if(!(!b||!u))try{await B.from("user_home_widgets").update({x:R,y:L}).eq("user_id",u.id).eq("id",I),await B.from("user_home_layouts").update({x:R,y:L}).eq("user_id",u.id).eq("widget_id",I),r(O=>O.map(V=>V.id===I?{...V,x:R,y:L}:V))}catch(O){console.error("❌ Erro ao atualizar posição do widget:",O)}},j=async(I,R,L)=>{if(!(!b||!u))try{await B.from("user_stickers").update({x:R,y:L}).eq("id",I).eq("user_id",u.id),s(O=>O.map(V=>V.id===I?{...V,x:R,y:L}:V))}catch(O){console.error("❌ Erro ao atualizar posição do sticker:",O)}},S=async(I,R,L,O,V)=>{if(!b||!u)return console.error("❌ Cannot add sticker: not owner or no habbo data",{isOwner:b,hasHabboData:!!u,habboDataId:u==null?void 0:u.id}),!1;try{console.log("🎯 Tentando adicionar sticker:",{stickerId:I,stickerSrc:O,category:V,x:Math.round(R),y:Math.round(L),userId:u.id,currentStickersCount:n.length});const H=Math.max(0,...n.map(oe=>oe.z_index||0),...t.map(oe=>oe.z_index||0))+1,U={user_id:u.id,sticker_id:I,sticker_src:O,category:V||"outros",x:540,y:900,z_index:H,rotation:0,scale:1};console.log("📦 Payload para inserção:",U);const{data:z,error:J}=await B.from("user_stickers").insert(U).select().single();if(J)return console.error("❌ Erro do Supabase ao inserir sticker:",J),!1;if(!z)return console.error("❌ Nenhum dado retornado após inserção"),!1;console.log("✅ Sticker inserido com sucesso no banco:",z);const fe={id:z.id,sticker_id:z.sticker_id,x:z.x,y:z.y,z_index:z.z_index,scale:Number(z.scale)||1,rotation:z.rotation||0,sticker_src:z.sticker_src,category:z.category};return console.log("📌 Novo sticker formatado:",fe),s(oe=>{const de=[...oe,fe];return console.log("🔄 Estado dos stickers atualizado:",{before:oe.length,after:de.length,newSticker:fe}),de}),setTimeout(()=>{const oe=document.querySelector(`[data-sticker-id="${z.id}"]`);oe&&oe.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},100),console.log("✅ Sticker adicionado com sucesso!"),!0}catch(H){return console.error("❌ Erro inesperado ao adicionar sticker:",H),!1}},C=async I=>{if(!(!b||!u))try{await B.from("user_stickers").delete().eq("id",I).eq("user_id",u.id),s(R=>R.filter(L=>L.id!==I))}catch(R){console.error("❌ Erro ao remover sticker:",R)}},E=async I=>{if(!b||!u)return console.error("❌ Cannot add widget: not owner or no habbo data"),!1;if(t.find(L=>L.widget_type===I))return console.log(`⚠️ Widget ${I} já existe`),!1;try{console.log(`🔧 Adicionando widget: ${I}`);const L=Math.random()*780+50,O=Math.random()*1600+50,V=Math.max(0,...t.map(z=>z.z_index||0),...n.map(z=>z.z_index||0))+1,H={user_id:u.id,widget_type:I,x:Math.round(L),y:Math.round(O),z_index:V,width:320,height:I==="guestbook"?380:160,is_visible:!0,config:{}};console.log("📦 Payload do widget:",H);const{data:W,error:D}=await B.from("user_home_widgets").insert(H).select().single();if(D)return console.error("❌ Erro do Supabase ao inserir widget:",D),!1;if(!W)return console.error("❌ Nenhum dado retornado após inserção do widget"),!1;console.log("✅ Widget inserido com sucesso no banco:",W);const U={id:W.id,widget_type:W.widget_type,x:W.x,y:W.y,z_index:W.z_index,width:W.width,height:W.height,is_visible:W.is_visible,config:W.config};return r(z=>{const J=[...z,U];return console.log("🔄 Estado dos widgets atualizado:",{before:z.length,after:J.length,newWidget:U}),J}),console.log(`✅ Widget ${I} adicionado com sucesso!`),!0}catch(L){return console.error("❌ Erro inesperado ao adicionar widget:",L),!1}},P=async I=>{if(!(!b||!u))try{const R=t.find(L=>L.id===I);if(!R)return;R.widget_type==="guestbook"||R.widget_type==="rating"?(await B.from("user_home_widgets").update({is_visible:!1}).eq("id",I).eq("user_id",u.id),r(L=>L.filter(O=>O.id!==I)),console.log(`🙈 Widget ${R.widget_type} ocultado (dados preservados)`)):(await B.from("user_home_widgets").delete().eq("id",I).eq("user_id",u.id),r(L=>L.filter(O=>O.id!==I)),console.log(`🗑️ Widget ${R.widget_type} removido completamente`))}catch(R){console.error("❌ Erro ao remover widget:",R)}},A=async(I,R)=>{if(!b||!u){console.error("❌ Cannot update background: not owner or no habbo data",{isOwner:b,hasHabboData:!!u});return}try{console.log("🎨 Iniciando updateBackground:",{bgType:I,bgValue:R,userId:u.id});const{data:L,error:O}=await B.from("user_home_backgrounds").upsert({user_id:u.id,background_type:I,background_value:R},{onConflict:"user_id"}).select();if(O){console.error("❌ Erro do Supabase ao atualizar background:",O);return}console.log("✅ Background atualizado no banco:",L),a({background_type:I,background_value:R}),console.log("✅ Estado local do background atualizado!")}catch(L){console.error("❌ Erro inesperado ao atualizar background:",L)}};return f.useEffect(()=>{e&&w()},[e,x]),{widgets:t,stickers:n,background:o,guestbook:l,habboData:u,loading:h,isEditMode:v,isOwner:b,setIsEditMode:g,updateWidgetPosition:_,updateStickerPosition:j,addSticker:S,removeSticker:C,updateBackground:A,addWidget:E,removeWidget:P,reloadData:w}},_S=f.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:X("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));_S.displayName="Textarea";const JD=({rating:e=0,onRate:t,readonly:r=!1,size:n="md",className:s=""})=>{const[o,a]=f.useState(0),l=m=>(o||e)>=m?1:.2,c=()=>{switch(n){case"sm":return 16;case"lg":return 32;default:return 24}},u=m=>{!r&&t&&t(m)},d=m=>{r||a(m)},h=()=>{r||a(0)};return i.jsxs("div",{className:`flex flex-col items-center gap-1 ${s}`,children:[i.jsx("div",{className:"flex items-center gap-1 relative justify-center",onMouseLeave:h,children:[1,2,3,4,5].map(m=>i.jsx("div",{className:`relative ${r?"":"cursor-pointer hover:scale-110"} transition-transform`,onClick:()=>!r&&u(m),onMouseEnter:()=>!r&&d(m),children:i.jsx(Aa,{size:c(),className:`select-none transition-opacity duration-200 ${l(m)===1?"fill-yellow-400 text-yellow-400":"fill-transparent text-gray-300"}`})},m))}),!r&&i.jsx("span",{className:"text-xs text-muted-foreground font-volter",children:e>0?`${e}/5`:"Avalie"})]})},ZD=({homeOwnerId:e,className:t=""})=>{const[r,n]=f.useState(0),[s,o]=f.useState(0),[a,l]=f.useState(0),[c,u]=f.useState(!0),{habboAccount:d}=$a();f.useEffect(()=>{h()},[e]);const h=async()=>{try{u(!0),console.log("🌟 Carregando avaliações para:",e);const{data:p,error:v}=await B.from("user_home_ratings").select("rating").eq("home_owner_user_id",e);if(!v&&p){const g=p.map(y=>y.rating),b=g.length>0?g.reduce((y,x)=>y+x,0)/g.length:0;n(Math.round(b*10)/10),o(g.length),console.log(`📊 Média calculada: ${b.toFixed(1)} (${g.length} votos)`)}if(d){const{data:g,error:b}=await B.from("user_home_ratings").select("rating").eq("home_owner_user_id",e).eq("rating_user_id",d.supabase_user_id).single();!b&&g&&(l(g.rating),console.log(`👤 Avaliação do usuário: ${g.rating}`))}}catch(p){console.error("❌ Erro ao carregar avaliações:",p)}finally{u(!1)}},m=async p=>{if(!d){console.warn("⚠️ Usuário não logado tentando avaliar");return}try{console.log(`⭐ Avaliando com ${p} estrelas`);const{error:v}=await B.from("user_home_ratings").upsert({home_owner_user_id:e,rating_user_id:d.supabase_user_id,rating:p});v?console.error("❌ Erro ao salvar avaliação:",v):(l(p),await h(),console.log("✅ Avaliação salva com sucesso"))}catch(v){console.error("❌ Erro inesperado ao avaliar:",v)}};return c?i.jsx("div",{className:`flex flex-col items-center p-3 bg-white rounded-md font-volter min-h-[120px] w-64 justify-center ${t}`,children:i.jsx("div",{className:"text-sm text-gray-500",children:"Carregando avaliações..."})}):i.jsxs("div",{className:`flex flex-col items-center p-3 bg-white rounded-md font-volter min-h-[120px] w-48 ${t}`,children:[i.jsx("div",{className:"text-2xl font-bold text-black mb-2",children:r>0?r.toFixed(1):"—"}),i.jsx("div",{className:"mb-2",children:i.jsx(JD,{rating:d?a:r,onRate:d?m:void 0,readonly:!d,size:"lg"})}),i.jsx("div",{className:"text-xs text-gray-600 text-center",children:s===0?"Nenhuma avaliação":`${s} ${s===1?"avaliação":"avaliações"}`}),!d&&i.jsx("div",{className:"text-xs text-gray-500 mt-2 text-center",children:"Faça login para avaliar"})]})},eL=e=>({"com.br":"/assets/flagbrazil.png",br:"/assets/flagbrazil.png",com:"/assets/flagcom.png",us:"/assets/flagcom.png",es:"/assets/flagspain.png","com.es":"/assets/flagspain.png",de:"/assets/flagdeus.png","com.de":"/assets/flagdeus.png",fr:"/assets/flagfrance.png","com.fr":"/assets/flagfrance.png",fi:"/assets/flafinland.png","com.fi":"/assets/flafinland.png",it:"/assets/flagitaly.png","com.it":"/assets/flagitaly.png",nl:"/assets/flagnetl.png","com.nl":"/assets/flagnetl.png","com.tr":"/assets/flagtrky.png",tr:"/assets/flagtrky.png"})[e.toLowerCase()]||"/assets/flagcom.png",tL=({widget:e,habboData:t,guestbook:r,isEditMode:n,isOwner:s,onRemove:o,onPositionChange:a})=>{const[l,c]=ye.useState(!1),[u,d]=ye.useState({x:0,y:0,elementX:e.x,elementY:e.y}),[h,m]=ye.useState(""),p=Ju(),v=y=>{!n||!s||(y.preventDefault(),y.stopPropagation(),c(!0),d({x:y.clientX,y:y.clientY,elementX:e.x,elementY:e.y}))};ye.useEffect(()=>{const y=w=>{if(l){const _=w.clientX-u.x,j=w.clientY-u.y,S=p?768:1080,C=p?1280:1800,E=Math.max(0,Math.min(S-e.width,u.elementX+_)),P=Math.max(0,Math.min(C-e.height,u.elementY+j));a(e.id,E,P)}},x=()=>{l&&c(!1)};return l&&(document.addEventListener("mousemove",y),document.addEventListener("mouseup",x),document.body.style.userSelect="none"),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",x),document.body.style.userSelect="auto"}},[l,u,a,e]);const g=()=>{switch(e.widget_type){case"avatar":case"usercard":const x=`https://www.habbo.${t.hotel==="br"?"com.br":t.hotel||"com.br"}/habbo-imaging/avatarimage?user=${t.habbo_name}&action=std&direction=4&head_direction=4&gesture=sml&size=l`,w=eL(t.hotel),_=j=>{if(!j)return"Criado em: 2021";try{const S=new Date(j),C=S.getDate().toString().padStart(2,"0"),E=(S.getMonth()+1).toString().padStart(2,"0"),P=S.getFullYear();return`Criado em: ${C}/${E}/${P}`}catch{return"Criado em: 2021"}};return i.jsxs("div",{className:"flex gap-3 p-4 h-full",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("img",{src:x,alt:`${t.habbo_name} avatar`,className:"w-16 h-28 object-contain",style:{imageRendering:"pixelated"},onError:j=>{const S=j.target;S.src=`https://www.habbo.com/habbo-imaging/avatarimage?user=${t.habbo_name}&action=std&direction=2&head_direction=3&gesture=sml&size=l`}})}),i.jsxs("div",{className:"flex-1 flex flex-col justify-start pt-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("img",{src:w,alt:`${t.hotel} flag`,className:"w-4 h-3 flex-shrink-0",style:{imageRendering:"pixelated"},onError:j=>{const S=j.target;S.src="/assets/flagcom.png"}}),i.jsx("h3",{className:"text-sm font-bold text-gray-800 truncate flex-1 font-volter",children:t.habbo_name}),i.jsx("div",{className:"flex-shrink-0",title:t.is_online?"Online":"Offline",children:i.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${t.is_online?"bg-green-500":"bg-red-500"}`})})]}),t.motto&&i.jsxs("p",{className:"text-xs text-gray-600 italic mb-2 line-clamp-2 font-volter",children:['"',t.motto,'"']}),i.jsx("p",{className:"text-xs text-gray-500 font-volter",children:_(t.memberSince||"")})]})]});case"guestbook":return i.jsxs("div",{className:"p-4 space-y-3 max-h-80 overflow-y-auto",children:[i.jsx("h4",{className:"font-volter font-bold text-black border-b pb-2",children:"📝 Livro de Visitas"}),r.length===0?i.jsx("div",{className:"text-center text-gray-500 py-4",children:i.jsx("p",{className:"font-volter",children:"Seja o primeiro a deixar uma mensagem!"})}):i.jsx("div",{className:"space-y-2",children:r.slice(0,5).map(j=>i.jsxs("div",{className:"bg-gray-50 rounded p-2 border",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("img",{src:`https://www.habbo.com.br/habbo-imaging/avatarimage?user=${j.author_habbo_name}&action=std&direction=2&head_direction=3&gesture=sml&size=s&headonly=1`,alt:j.author_habbo_name,className:"w-6 h-6 rounded object-contain",style:{imageRendering:"pixelated"},onError:S=>{const C=S.target;C.src=`https://www.habbo.com/habbo-imaging/avatarimage?user=${j.author_habbo_name}&action=std&direction=2&head_direction=3&gesture=sml&size=s`}}),i.jsx("a",{href:`/homes/${j.author_habbo_name}`,className:"font-volter text-sm font-bold text-blue-600 hover:text-blue-800 transition-colors flex-1",onClick:S=>S.stopPropagation(),children:j.author_habbo_name}),i.jsx("span",{className:"text-xs text-gray-500",children:new Date(j.created_at).toLocaleDateString("pt-BR")}),(s||j.author_habbo_name===(t==null?void 0:t.habbo_name))&&i.jsx("button",{onClick:S=>{S.stopPropagation()},className:"text-red-500 hover:text-red-700 text-xs px-1",title:"Excluir comentário",children:"×"})]}),i.jsx("p",{className:"text-sm text-gray-700 ml-10",children:j.message})]},j.id))}),!s&&i.jsxs("div",{className:"border-t pt-3",children:[i.jsx(_S,{placeholder:"Deixe sua mensagem...",value:h,onChange:j=>m(j.target.value),className:"text-sm resize-none",rows:2}),i.jsx(ee,{size:"sm",className:"mt-2 w-full font-volter",disabled:!h.trim(),children:"Enviar Mensagem"})]})]});case"rating":return i.jsx(ZD,{homeOwnerId:t.id,className:"w-full h-full"});default:return i.jsx("div",{className:"p-4 text-center",children:i.jsxs("p",{className:"text-gray-500 font-volter",children:["Widget: ",e.widget_type]})})}},b={left:e.x,top:e.y,width:e.width,height:e.height,zIndex:l?9999:e.z_index,opacity:l?.8:1,transform:l?"scale(1.02)":"scale(1)",transition:l?"none":"all 0.2s ease-out"};return i.jsxs("div",{className:`absolute ${n&&s?"cursor-move":"cursor-default"}`,style:b,onMouseDown:v,children:[i.jsxs(ie,{className:"h-full bg-white/95 backdrop-blur-sm shadow-lg border-2 border-black overflow-hidden",children:[n&&s&&e.widget_type!=="avatar"&&e.widget_type!=="usercard"&&i.jsx("button",{onClick:y=>{y.stopPropagation(),o(e.id)},className:"absolute top-2 right-2 z-10 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 shadow-md",title:"Remover Widget",children:i.jsx(io,{className:"w-4 h-4"})}),g()]}),l&&i.jsx("div",{className:"absolute inset-0 border-2 border-dashed border-blue-400 rounded pointer-events-none"})]})},rL=({rotation:e,onRotationChange:t,className:r=""})=>{const[n,s]=f.useState(!1),o=f.useRef(null),a=f.useCallback((c,u)=>{const d=u.left+u.width/2,h=u.top+u.height/2,m=c.clientX-d,p=c.clientY-h;let v=Math.atan2(p,m)*(180/Math.PI);return v<0&&(v+=360),Math.round(v)},[]),l=f.useCallback(c=>{c.preventDefault(),c.stopPropagation(),s(!0)},[]);return ye.useEffect(()=>{const c=d=>{if(!n||!o.current)return;const h=o.current.getBoundingClientRect(),m=a(d,h);t(m)},u=()=>{s(!1)};return n&&(document.addEventListener("mousemove",c),document.addEventListener("mouseup",u),document.body.style.cursor="grabbing"),()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u),document.body.style.cursor="auto"}},[n,a,t]),i.jsxs("div",{ref:o,className:`absolute w-16 h-16 rounded-full border-2 border-dashed border-blue-400 bg-blue-400/20 ${r}`,style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",cursor:n?"grabbing":"grab"},onMouseDown:l,children:[i.jsx("div",{className:"absolute w-3 h-3 bg-blue-500 rounded-full border-2 border-white shadow-md",style:{right:"-6px",top:"50%",transform:`translateY(-50%) rotate(${e}deg)`,transformOrigin:"-26px center"}}),i.jsx("div",{className:"absolute w-2 h-2 bg-blue-600 rounded-full left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2"}),i.jsxs("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-xs font-volter text-white bg-black/80 px-2 py-1 rounded",children:[e,"°"]})]})},nL=({sticker:e,isEditMode:t,isOwner:r,onPositionChange:n,onRemove:s,onStickerUpdate:o})=>{const[a,l]=f.useState(!1),[c,u]=f.useState({x:0,y:0,elementX:e.x,elementY:e.y}),[d,h]=f.useState(!1),[m,p]=f.useState(e.rotation),[v,g]=f.useState(e.scale),b=f.useRef(null),y=f.useCallback(P=>{!t||!r||(P.preventDefault(),P.stopPropagation(),h(A=>!A))},[t,r]),x=f.useCallback(P=>{!t||!r||(P.preventDefault(),P.stopPropagation(),l(!0),u({x:P.clientX,y:P.clientY,elementX:e.x,elementY:e.y}),console.log(`🎯 Iniciando drag do sticker ${e.sticker_id}`))},[t,r,e.x,e.y,e.sticker_id]),w=f.useCallback(P=>{P.preventDefault(),P.stopPropagation(),s(e.id)},[e.id,s]),_=f.useCallback(P=>{p(P),o&&o(e.id,{rotation:P})},[e.id,o]),j=f.useCallback(P=>{g(P),o&&o(e.id,{scale:P})},[e.id,o]),S=f.useCallback(()=>{const P=Math.min(3,v+.1);j(P)},[v,j]),C=f.useCallback(()=>{const P=Math.max(.3,v-.1);j(P)},[v,j]);ye.useEffect(()=>{const P=A=>{if(!d||!b.current)return;const I=A.target;b.current.contains(I)||h(!1)};if(d&&t&&r)return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[d,t,r]),ye.useEffect(()=>{let P;const A=R=>{a&&(cancelAnimationFrame(P),P=requestAnimationFrame(()=>{const L=R.clientX-c.x,O=R.clientY-c.y,V=768,H=1280,W=Math.max(0,Math.min(V-100,c.elementX+L)),D=Math.max(0,Math.min(H-100,c.elementY+O));n(e.id,W,D)}))},I=()=>{a&&(cancelAnimationFrame(P),console.log(`✅ Drag completo do sticker ${e.sticker_id}`),l(!1))};return a&&(document.addEventListener("mousemove",A,{passive:!0}),document.addEventListener("mouseup",I),document.body.style.userSelect="none",document.body.style.cursor="grabbing"),()=>{cancelAnimationFrame(P),document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",I),document.body.style.userSelect="auto",document.body.style.cursor="auto"}},[a,c,n,e]);const E={left:e.x,top:e.y,zIndex:a?9999:e.z_index,transform:`scale(${a?Math.abs(v)*1.1:v}) rotate(${m}deg)`,transformOrigin:"center",transition:a?"none":"transform 0.2s ease-out",opacity:a?.8:1};return console.log(`🎯 Renderizando sticker ${e.sticker_id} em posição (${e.x}, ${e.y}) com src: ${e.sticker_src}`),i.jsxs("div",{ref:b,"data-sticker-id":e.id,className:`absolute pointer-events-auto select-none ${t&&r?"cursor-move hover:scale-110 transition-transform ring-1 ring-blue-300 ring-opacity-50 rounded":"cursor-default"}`,style:E,onClick:y,onMouseDown:x,children:[i.jsx("img",{src:e.sticker_src,alt:`Sticker ${e.sticker_id}`,className:"select-none pointer-events-none",style:{imageRendering:"pixelated",width:"auto",height:"auto",objectFit:"contain",maxWidth:"none",maxHeight:"none"},draggable:!1,onError:P=>{console.error(`❌ Erro ao carregar sticker: ${e.sticker_src}`);const A=P.target;A.src="/assets/frank.png"},onLoad:P=>{const A=P.target;console.log(`✅ Sticker carregado: ${e.sticker_src} - Tamanho natural: ${A.naturalWidth}x${A.naturalHeight}`)}}),t&&r&&d&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:w,className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full text-sm hover:bg-red-600 transition-colors flex items-center justify-center shadow-lg z-10",title:"Remover",children:"×"}),i.jsxs("div",{className:"absolute -top-2 -left-2 flex gap-1",children:[i.jsx("button",{onClick:C,className:"w-5 h-5 bg-green-500 text-white rounded text-xs hover:bg-green-600 transition-colors flex items-center justify-center shadow-lg",title:"Diminuir",children:"−"}),i.jsx("button",{onClick:S,className:"w-5 h-5 bg-green-500 text-white rounded text-xs hover:bg-green-600 transition-colors flex items-center justify-center shadow-lg",title:"Aumentar",children:"+"})]}),i.jsx(rL,{rotation:m,onRotationChange:_,className:"opacity-80 hover:opacity-100 transition-opacity"})]}),a&&i.jsx("div",{className:"absolute inset-0 border-2 border-dashed border-blue-400 rounded pointer-events-none"})]})},sL=({widgets:e,stickers:t,background:r,habboData:n,guestbook:s,isEditMode:o,isOwner:a,onWidgetPositionChange:l,onStickerPositionChange:c,onStickerRemove:u,onWidgetRemove:d})=>{const h=Ju();console.log("🖼️ HomeCanvas renderizando:",{widgetsCount:e.length,stickersCount:t.length,background:r,isEditMode:o,isOwner:a});const p=(()=>{const v={backgroundColor:r.background_type==="color"?r.background_value:"#c7d2dc"};return r.background_type==="cover"||r.background_type==="repeat"?{...v,backgroundImage:`url("${r.background_value}")`,backgroundSize:r.background_type==="cover"?"cover":"auto",backgroundPosition:r.background_type==="cover"?"center":"top left",backgroundRepeat:r.background_type==="repeat"?"repeat":"no-repeat"}:v})();return console.log("🎨 Background aplicado:",p),i.jsx("div",{className:"flex justify-center",children:i.jsxs("div",{className:`relative rounded-lg overflow-hidden shadow-2xl ${o?"border-4 border-dashed border-blue-400":"border-2 border-gray-300"}`,style:{width:h?"768px":"1080px",height:h?"1280px":"1800px",...p},children:[e.map(v=>i.jsx(tL,{widget:v,habboData:n,guestbook:s,isEditMode:o,isOwner:a,onPositionChange:l,onRemove:d},v.id)),t.map(v=>i.jsx(nL,{sticker:v,isEditMode:o,isOwner:a,onPositionChange:c,onRemove:u},v.id)),e.length===0&&t.length===0&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg p-8 text-center border-2 border-black",children:[i.jsx("h3",{className:"text-xl text-gray-800 mb-2 volter-font",children:"Home em construção"}),i.jsx("p",{className:"text-gray-600 volter-font",children:"Esta Habbo Home ainda está sendo configurada."}),a&&i.jsx("p",{className:"text-sm text-blue-600 mt-2 volter-font",children:'Clique em "Editar" para personalizar!'})]})}),o&&a&&i.jsx("div",{className:"absolute top-4 left-4 bg-blue-100/90 backdrop-blur-sm rounded-lg p-3 border border-blue-300",children:i.jsx("p",{className:"text-sm text-blue-800 volter-font",children:"💡 Modo de edição ativo - use a toolbar para adicionar itens"})})]})})},oL=({open:e,onOpenChange:t,onAssetSelect:r,type:n,title:s})=>{const[o,a]=f.useState([]),[l,c]=f.useState(!1),[u,d]=f.useState("all"),[h,m]=f.useState(""),[p,v]=f.useState(30),[g,b]=f.useState(!1),[y,x]=f.useState(!1),w=f.useRef(null),_=f.useRef(null),j=f.useRef(null),S=f.useCallback(async()=>{if(!y)try{c(!0),console.log(`🔍 Buscando ${n}s...`);let O=B.from("home_assets").select("*").eq("is_active",!0);n==="stickers"?O=O.not("category","eq","Papel de Parede"):O=O.like("file_path","%bg_%");const{data:V,error:H}=await O.order("name",{ascending:!0}).limit(1e3);if(H){console.error(`❌ Erro ao buscar ${n}s:`,H);return}console.log(`✅ ${n}s carregados:`,(V==null?void 0:V.length)||0);const W=(V||[]).map(D=>({...D,url:`https://wueccgeizznjmjgmuscy.supabase.co/storage/v1/object/public/home-assets/${D.file_path}`,src:`https://wueccgeizznjmjgmuscy.supabase.co/storage/v1/object/public/home-assets/${D.file_path}`}));a(W),v(30),x(!0)}catch(O){console.error(`❌ Erro inesperado ao buscar ${n}s:`,O)}finally{c(!1)}},[n,y]),{filteredAssets:C,displayedAssets:E,hasMore:P}=f.useMemo(()=>{let O=o;if(u!=="all"){const D={animados:["Animados"],icones:["Ícones"],mockups:["Mockups"],montaveis:["Montáveis"],outros:["Stickers"]}[u.toLowerCase()]||[u];O=o.filter(U=>{const z=U.category||"";return D.some(J=>z===J)})}if(h.trim()){const W=h.toLowerCase();O=O.filter(D=>{var U,z;return((U=D.name)==null?void 0:U.toLowerCase().includes(W))||((z=D.category)==null?void 0:z.toLowerCase().includes(W))})}const V=O.slice(0,p),H=V.length<O.length;return{filteredAssets:O,displayedAssets:V,hasMore:H}},[o,u,h,p]),A=f.useMemo(()=>{const O=new Map;return o.forEach(V=>{const H=V.category||"outros";let W="outros";switch(H){case"Animados":W="animados";break;case"Ícones":W="icones";break;case"Mockups":W="mockups";break;case"Montáveis":W="montaveis";break;case"Stickers":W="outros";break;default:W="outros";break}O.set(W,(O.get(W)||0)+1)}),O},[o]),I=f.useCallback(async()=>{g||!P||(b(!0),await new Promise(O=>setTimeout(O,300)),v(O=>O+30),b(!1))},[g,P]);f.useEffect(()=>{if(!_.current||!P||l)return;const O=new IntersectionObserver(V=>{const[H]=V;H.isIntersecting&&P&&!g&&I()},{rootMargin:"50px",threshold:.1});return O.observe(_.current),j.current=O,()=>{j.current&&j.current.disconnect()}},[P,g,I,l]),f.useEffect(()=>{e&&!y&&(d("all"),m(""),v(30),x(!1),S())},[e,S,y]);const R=f.useCallback(O=>{console.log("🎯 Asset selecionado:",O),r(O),t(!1)},[r,t]),L=f.useCallback(()=>{d("all"),m(""),v(30)},[]);return i.jsx(Vr,{open:e,onOpenChange:t,children:i.jsxs(Er,{className:"sm:max-w-7xl max-h-[85vh] flex flex-col",children:[i.jsx(qr,{children:i.jsx(Kr,{className:"font-volter text-xl",children:s||(n==="backgrounds"?"Selecionar Background":"✨ Escolher Adesivo")})}),n==="stickers"&&i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),i.jsx(Kt,{placeholder:"Buscar adesivos...",value:h,onChange:O=>m(O.target.value),className:"pl-10 font-volter"})]}),i.jsx(ee,{variant:"outline",size:"sm",onClick:L,className:"font-volter whitespace-nowrap",children:"🔄 Limpar"})]})}),i.jsxs("div",{className:"flex-1 flex gap-4 min-h-0",children:[n==="stickers"&&i.jsxs("div",{className:"w-48 flex-shrink-0 bg-muted/30 rounded-lg p-3",children:[i.jsx("h4",{className:"text-sm font-volter mb-3 text-foreground",children:"Categorias"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ee,{variant:u==="all"?"default":"ghost",size:"sm",onClick:()=>d("all"),className:"w-full justify-start font-volter text-xs",children:["Todos (",o.length,")"]}),Array.from(A).map(([O,V])=>{const H={animados:"🎬 Animados",icones:"🔰 Ícones",mockups:"🖼️ Mockups",montaveis:"📌 Montáveis",outros:"✨ Outros"};return i.jsxs(ee,{variant:u===O?"default":"ghost",size:"sm",onClick:()=>d(O),className:"w-full justify-start font-volter text-xs",children:[H[O]||O," (",V,")"]},O)})]})]}),i.jsx("div",{ref:w,className:"flex-1 overflow-y-auto border rounded-lg bg-background",style:{height:"60vh"},children:i.jsx("div",{className:"grid grid-cols-6 md:grid-cols-8 lg:grid-cols-10 xl:grid-cols-12 gap-2 p-3",children:l&&E.length===0?i.jsxs("div",{className:"col-span-full text-center py-8",children:[i.jsx(Nt,{className:"animate-spin h-8 w-8 mx-auto mb-2 text-primary"}),i.jsx("p",{className:"text-muted-foreground font-volter",children:"Carregando adesivos..."})]}):E.length===0?i.jsxs("div",{className:"col-span-full text-center py-8",children:[i.jsx("div",{className:"text-muted-foreground font-volter",children:h||u!=="all"?"Nenhum resultado encontrado":"Nenhum adesivo encontrado"}),(h||u!=="all")&&i.jsx(ee,{variant:"link",onClick:L,className:"mt-2 font-volter",children:"Limpar filtros"})]}):i.jsxs(i.Fragment,{children:[E.map(O=>i.jsx("div",{onClick:()=>R(O),className:"cursor-pointer group hover:scale-110 active:scale-95 transition-transform",children:i.jsx("img",{src:O.url,alt:O.name,className:"w-full h-auto object-contain",style:{imageRendering:"pixelated"},loading:"lazy",onError:V=>{V.currentTarget.style.display="none"}})},O.id)),P&&i.jsx("div",{ref:_,className:"col-span-full text-center py-4",children:g?i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(Nt,{className:"w-4 h-4 animate-spin text-primary"}),i.jsx("span",{className:"text-sm text-muted-foreground font-volter",children:"Carregando mais..."})]}):i.jsxs("p",{className:"text-xs text-muted-foreground font-volter",children:["📜 Role para carregar mais (",E.length," de ",C.length,")"]})})]})})})]}),i.jsx("div",{className:"flex justify-end pt-4 border-t",children:i.jsx(ee,{onClick:()=>t(!1),variant:"outline",className:"font-volter",children:"Fechar"})})]})})},aL=[{name:"Azul Claro",value:"#c7d2dc"},{name:"Rosa Suave",value:"hsl(350 100% 88%)"},{name:"Azul Céu",value:"hsl(200 100% 85%)"},{name:"Verde Menta",value:"hsl(160 100% 85%)"},{name:"Amarelo Sol",value:"hsl(50 100% 85%)"},{name:"Roxo Lavanda",value:"hsl(280 100% 88%)"},{name:"Laranja Pêssego",value:"hsl(30 100% 85%)"},{name:"Cinza Neutro",value:"hsl(220 20% 88%)"},{name:"Branco",value:"#ffffff"},{name:"Preto",value:"#000000"},{name:"Vermelho",value:"#ff6b6b"},{name:"Verde",value:"#51cf66"},{name:"Azul",value:"#339af0"},{name:"Roxo",value:"#845ef7"}],iL=({open:e,onOpenChange:t,onWallpaperSelect:r})=>{const[n,s]=f.useState([]),[o,a]=f.useState(!1),l=async()=>{if(e)try{a(!0),console.log("🔍 Buscando imagens de fundo no bucket home-assets...");const{data:h,error:m}=await B.from("home_assets").select("*").eq("bucket_name","home-assets").eq("category","Papel de Parede").eq("is_active",!0).order("name");if(m){console.error("❌ Erro ao buscar backgrounds:",m),s([]);return}console.log(`✅ ${(h==null?void 0:h.length)||0} backgrounds encontrados no banco`);const p=(h||[]).map(v=>{const b=`https://wueccgeizznjmjgmuscy.supabase.co/storage/v1/object/public/home-assets/${v.file_path}`;return console.log(`📦 Asset: ${v.name} -> URL: ${b}`),{...v,url:b}});s(p)}catch(h){console.error("❌ Erro inesperado ao buscar backgrounds:",h),s([])}finally{a(!1)}};f.useEffect(()=>{e&&l()},[e]);const c=h=>{console.log("🎨 Cor selecionada:",h),r("color",h),t(!1)},u=["17","28","ABRIL-DIADOJORNALISTA","AU_Australia_Campaign_bg_01_v1","bg_bathroom_tile","bg_colour_01","bg_colour_04","bg_colour_05","bg_colour_07","bg_colour_08","bg_colour_09","bg_colour_11","bg_colour_15","bg_image_submarine","bg_pattern_abstract1","bg_pattern_bobbaskulls1","bg_pattern_carpants","bg_pattern_cars","bg_pattern_clouds","bg_pattern_cloud","bganimated_rain","bubble","DE_Background_Summer","metal","xmas_bgpattern_","email_bg"],d=h=>{console.log("🖼️ Imagem selecionada:",h);const p=u.some(v=>h.name.toLowerCase().includes(v.toLowerCase())||h.file_path.toLowerCase().includes(v.toLowerCase()))?"repeat":"cover";console.log(`📐 Tipo detectado: ${p} para ${h.name}`),r(p,h.url),t(!1)};return i.jsx(Vr,{open:e,onOpenChange:t,children:i.jsxs(Er,{className:"sm:max-w-6xl max-h-[85vh] flex flex-col",children:[i.jsx(qr,{children:i.jsx(Kr,{className:"font-volter text-xl",children:"🖼️ Escolher Papel de Parede"})}),i.jsxs("div",{className:"flex gap-6 flex-1 min-h-0",children:[i.jsxs("div",{className:"w-64 flex-shrink-0",children:[i.jsx("h3",{className:"text-lg font-volter mb-4",children:"Cores Sólidas"}),i.jsx(Sn,{className:"h-96",children:i.jsx("div",{className:"space-y-2",children:aL.map(h=>i.jsxs("button",{onClick:()=>c(h.value),className:"w-full flex items-center gap-3 p-2 rounded-lg border-2 border-transparent hover:border-primary transition-all hover:scale-[1.02] bg-card",title:h.name,children:[i.jsx("div",{className:"w-12 h-12 rounded-md border-2 border-white shadow-sm flex-shrink-0",style:{backgroundColor:h.value}}),i.jsx("span",{className:"font-volter text-sm text-left",children:h.name})]},h.value))})})]}),i.jsxs("div",{className:"flex-1 min-w-0 flex flex-col",children:[i.jsxs("h3",{className:"text-lg font-volter mb-4",children:["Imagens de Fundo (",n.length,")"]}),i.jsx(Sn,{className:"flex-1 min-h-0",children:i.jsx("div",{className:"grid grid-cols-3 md:grid-cols-5 lg:grid-cols-7 gap-3 p-2",children:o?i.jsx("div",{className:"col-span-full text-center py-8",children:i.jsx("div",{className:"text-muted-foreground",children:"Carregando imagens..."})}):n.length===0?i.jsx("div",{className:"col-span-full text-center py-8",children:i.jsx("div",{className:"text-muted-foreground",children:"Nenhuma imagem encontrada. Verifique o bucket home-assets."})}):n.map(h=>i.jsxs("div",{onClick:()=>d(h),className:"cursor-pointer group relative overflow-hidden rounded-lg border bg-card hover:bg-accent transition-colors aspect-square",children:[i.jsx("div",{className:"w-full h-full p-2",children:i.jsx("img",{src:h.url,alt:h.name,className:"w-full h-full object-cover rounded group-hover:scale-105 transition-transform",style:{imageRendering:"pixelated"},onError:m=>{console.error("❌ Falha ao carregar imagem:",h.url);const p=m.target;p.style.backgroundColor="#f0f0f0",p.alt="Erro ao carregar"},onLoad:()=>{console.log("✅ Imagem carregada:",h.name)}})}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/70 text-white p-1",children:i.jsx("div",{className:"text-xs font-medium truncate font-volter",children:h.name})})]},h.id))})})]})]}),i.jsx("div",{className:"flex justify-end pt-4 border-t",children:i.jsx(ee,{onClick:()=>t(!1),variant:"outline",className:"font-volter",children:"Fechar"})})]})})},lL=[{id:"guestbook",name:"Livro de Visitas",description:"Permite visitantes deixarem mensagens",icon:"📝"},{id:"rating",name:"Avaliação",description:"Sistema de like/dislike",icon:"⭐"}],cL=({isOpen:e,onClose:t,onWidgetAdd:r})=>{const n=async s=>{r&&(await r(s)?(console.log(`✅ Widget ${s} adicionado com sucesso`),t()):console.error(`❌ Falha ao adicionar widget ${s}`))};return i.jsx(Vr,{open:e,onOpenChange:t,children:i.jsxs(Er,{className:"sm:max-w-4xl max-h-[85vh] flex flex-col",children:[i.jsxs(qr,{children:[i.jsx(Kr,{className:"flex items-center gap-2 font-volter text-xl",children:"📦 Adicionar Widget"}),i.jsx(U_,{className:"text-muted-foreground font-volter",children:"Escolha um widget para adicionar à sua Habbo Home"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 flex-1 min-h-0 py-4",children:lL.map(s=>i.jsxs(ie,{className:"group cursor-pointer hover:bg-accent transition-colors",onClick:()=>n(s.id),children:[i.jsxs(ke,{className:"text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:s.icon}),i.jsx(Ce,{className:"text-lg font-volter",children:s.name})]}),i.jsxs(he,{className:"text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground font-volter mb-4",children:s.description}),i.jsx(ee,{size:"sm",className:"w-full font-volter",children:"Adicionar Widget"})]})]},s.id))}),i.jsxs(ie,{className:"border-dashed border-2 mt-4",children:[i.jsx(ke,{children:i.jsx(Ce,{className:"text-center font-volter flex items-center justify-center gap-2 text-lg",children:"🚧 Widgets em Desenvolvimento"})}),i.jsx(he,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[i.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg text-center",children:[i.jsx("div",{className:"font-bold font-volter",children:"🎵 Player de Música"}),i.jsx("div",{className:"text-muted-foreground text-xs",children:"Em breve"})]}),i.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg text-center",children:[i.jsx("div",{className:"font-bold font-volter",children:"📊 Contador de Visitas"}),i.jsx("div",{className:"text-muted-foreground text-xs",children:"Em breve"})]}),i.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg text-center",children:[i.jsx("div",{className:"font-bold font-volter",children:"📝 Widget de Texto"}),i.jsx("div",{className:"text-muted-foreground text-xs",children:"Em breve"})]}),i.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg text-center",children:[i.jsx("div",{className:"font-bold font-volter",children:"🎮 Mini Games"}),i.jsx("div",{className:"text-muted-foreground text-xs",children:"Em breve"})]})]})})]}),i.jsx("div",{className:"flex justify-end pt-4 border-t",children:i.jsx(ee,{onClick:t,variant:"outline",className:"font-volter",children:"Fechar"})})]})})},uL=({isEditMode:e,isOwner:t,onToggleEditMode:r,onSave:n,onBackgroundChange:s,onStickerSelect:o,onWidgetAdd:a})=>{const[l,c]=f.useState(!1),[u,d]=f.useState(!1),[h,m]=f.useState(!1);if(!t)return i.jsx("div",{className:"w-full bg-muted/50 border-b border-border p-3 text-center",children:i.jsx("span",{className:"text-sm text-muted-foreground font-medium font-volter",children:"👁️ Modo Visitante"})});const p=(x,w)=>{s(x==="color"?"color":x==="repeat"?"repeat":"cover",w),c(!1)},v=x=>{console.log("🎯 Sticker selecionado no toolbar:",x),o(x.id,x.url||x.src,x.category||"outros"),d(!1)},g=async x=>{try{const w=await a(x);return w&&m(!1),w}catch(w){return console.error("❌ Erro ao adicionar widget:",w),!1}},b=()=>{r()},y=()=>{n(),r()};return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`
        w-full max-w-3xl mx-auto ml-64 bg-card border border-border rounded-lg shadow-xl overflow-hidden
        transform transition-all duration-700 ease-out z-50 relative pointer-events-auto
        ${e?"translate-y-0 opacity-100 scale-100 visible":"-translate-y-full opacity-0 scale-95 pointer-events-none invisible"}
      `,children:i.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-accent/10 px-6 py-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center",children:i.jsx("button",{onClick:r,className:"group relative overflow-hidden rounded-lg transition-all duration-300 hover:scale-105 pointer-events-auto",style:{width:"48px",height:"48px",backgroundImage:"url('https://wueccgeizznjmjgmuscy.supabase.co/storage/v1/object/public/habbo-hub-images/home-assets/editinghome.png')",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",imageRendering:"pixelated",transform:"scaleX(-1)"},title:"Sair do Modo de Edição"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ee,{variant:"outline",size:"sm",onClick:()=>c(!0),className:"flex items-center gap-2 text-xs font-volter pointer-events-auto",children:"🖼️ Papel de Parede"}),i.jsx(ee,{variant:"outline",size:"sm",onClick:()=>d(!0),className:"flex items-center gap-2 text-xs font-volter pointer-events-auto",children:"✨ Adesivos"}),i.jsx(ee,{variant:"outline",size:"sm",onClick:()=>m(!0),className:"flex items-center gap-2 text-xs font-volter pointer-events-auto",children:"📦 Widgets"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ee,{variant:"outline",size:"sm",onClick:b,className:"flex items-center gap-2 text-xs font-volter pointer-events-auto",children:"❌ Cancelar"}),i.jsx(ee,{size:"sm",onClick:y,className:"flex items-center gap-2 text-xs font-volter bg-primary hover:bg-primary/90 pointer-events-auto",children:"✅ Salvar"})]})]})})}),i.jsx(iL,{open:l,onOpenChange:c,onWallpaperSelect:p}),i.jsx(oL,{open:u,onOpenChange:d,onAssetSelect:v,type:"stickers",title:"Escolher Adesivo"}),i.jsx(cL,{isOpen:h,onClose:()=>m(!1),onWidgetAdd:g})]})},Bx={pt:{home:"Início",forum:"Fórum",console:"Console",tools:"Ferramentas",more:"Mais",noticias:"Notícias",catalogo:"Catálogo",emblemas:"Emblemas",editor:"Editor",mercado:"Mercado",badgesEnhancedTitle:"Emblemas do Habbo",catalogEnhancedTitle:"Catálogo do Habbo",exploreRoomsTitle:"Explorar Quartos",exploreRoomsSubtitle:"Descubra os quartos mais populares do Habbo",topRoomsByVisitors:"Top Quartos por Visitantes",marketplaceTitle:"Mercado do Habbo",habboPremiumTitle:"Habbo Premium",habboPremiumDesc:"Tenha acesso a recursos exclusivos",subscribeNow:"Assinar Agora",badgesTitle:"Emblemas do Habbo",loadingBadges:"Carregando emblemas...",errorLoadingBadges:"Erro ao carregar emblemas",tryAgain:"Tentar Novamente",searchBadges:"Buscar emblemas...",showingBadges:"Mostrando",badges:"emblemas",noBadgesFound:"Nenhum emblema encontrado",tryDifferentSearch:"Tente uma busca diferente ou altere os filtros",noBadgesAvailable:"Nenhum emblema disponível nesta categoria",loadingMore:"Carregando mais...",allCategories:"Todas as Categorias",official:"Oficiais",achievements:"Conquistas",fansites:"Fã-sites",others:"Outros",badgeCode:"Código",category:"Categoria",rarity:"Raridade",description:"Descrição",year:"Ano",source:"Fonte",validations:"Validações",lastValidation:"Última Validação",closeModal:"Fechar",officialHabboBadge:"Emblema Oficial do Habbo",common:"Comum",uncommon:"Incomum",rare:"Raro",legendary:"Lendário"},en:{home:"Home",forum:"Forum",console:"Console",tools:"Tools",more:"More",noticias:"News",catalogo:"Catalog",emblemas:"Badges",editor:"Editor",mercado:"Marketplace",badgesEnhancedTitle:"Habbo Badges",catalogEnhancedTitle:"Habbo Catalog",exploreRoomsTitle:"Explore Rooms",exploreRoomsSubtitle:"Discover the most popular rooms in Habbo",topRoomsByVisitors:"Top Rooms by Visitors",marketplaceTitle:"Habbo Marketplace",habboPremiumTitle:"Habbo Premium",habboPremiumDesc:"Get access to exclusive features",subscribeNow:"Subscribe Now",badgesTitle:"Habbo Badges",loadingBadges:"Loading badges...",errorLoadingBadges:"Error loading badges",tryAgain:"Try Again",searchBadges:"Search badges...",showingBadges:"Showing",badges:"badges",noBadgesFound:"No badges found",tryDifferentSearch:"Try a different search or change filters",noBadgesAvailable:"No badges available in this category",loadingMore:"Loading more...",allCategories:"All Categories",official:"Official",achievements:"Achievements",fansites:"Fansites",others:"Others",badgeCode:"Code",category:"Category",rarity:"Rarity",description:"Description",year:"Year",source:"Source",validations:"Validations",lastValidation:"Last Validation",closeModal:"Close",officialHabboBadge:"Official Habbo Badge",common:"Common",uncommon:"Uncommon",rare:"Rare",legendary:"Legendary"},es:{home:"Inicio",forum:"Foro",console:"Consola",tools:"Herramientas",more:"Más",noticias:"Noticias",catalogo:"Catálogo",emblemas:"Placas",editor:"Editor",mercado:"Mercado",badgesEnhancedTitle:"Placas de Habbo",catalogEnhancedTitle:"Catálogo de Habbo",exploreRoomsTitle:"Explorar Salas",exploreRoomsSubtitle:"Descubre las salas más populares de Habbo",topRoomsByVisitors:"Top Salas por Visitantes",marketplaceTitle:"Mercado de Habbo",habboPremiumTitle:"Habbo Premium",habboPremiumDesc:"Obtén acceso a funciones exclusivas",subscribeNow:"Suscribirse Ahora",badgesTitle:"Placas de Habbo",loadingBadges:"Cargando placas...",errorLoadingBadges:"Error al cargar placas",tryAgain:"Intentar de Nuevo",searchBadges:"Buscar placas...",showingBadges:"Mostrando",badges:"placas",noBadgesFound:"No se encontraron placas",tryDifferentSearch:"Prueba una búsqueda diferente o cambia los filtros",noBadgesAvailable:"No hay placas disponibles en esta categoría",loadingMore:"Cargando más...",allCategories:"Todas las Categorías",official:"Oficiales",achievements:"Logros",fansites:"Fansites",others:"Otros",badgeCode:"Código",category:"Categoría",rarity:"Rareza",description:"Descripción",year:"Año",source:"Fuente",validations:"Validaciones",lastValidation:"Última Validación",closeModal:"Cerrar",officialHabboBadge:"Placa Oficial de Habbo",common:"Común",uncommon:"Poco común",rare:"Raro",legendary:"Legendario"}},dL=()=>{const[e,t]=f.useState(()=>{try{return localStorage.getItem("habbohub-language")||"pt"}catch{return"pt"}});return{currentLanguage:e,changeLanguage:o=>{t(o),localStorage.setItem("habbohub-language",o),console.log(`🌐 [useLanguage] Language changed to: ${o}`)},t:o=>Bx[e][o]||o,getCurrentFlag:()=>({pt:"/assets/flagbrazil.png",en:"/assets/flagcom.png",es:"/assets/flagspain.png"})[e],translations:Bx[e]}},hL=({menuItems:e,userAvatarUrl:t,onItemClick:r,activeItemId:n,isLoggedIn:s=!1,currentPath:o="/",customCenterElement:a})=>{dL();const[l,c]=f.useState(!1),[u,d]=f.useState(!1),h=f.useRef(null),m=f.useMemo(()=>[{id:"home",label:"Início",icon:"/assets/home.png",order:1},{id:"homes",label:"Home",icon:"/assets/homepadrao.png",order:2},{id:"console",label:"Console",icon:s?t||"https://www.habbo.com/habbo-imaging/avatarimage?user=Habbo&action=std&direction=4&head_direction=4&gesture=sml&size=s&frame=1&headonly=1":"/assets/consoleon3.gif",isAvatar:!0,order:3},{id:"noticias",label:"Notícias",icon:"/assets/news.png",order:4},{id:"tools",label:"Ferramentas",icon:"/assets/ferramentas.png",order:5}],[t,s]),p=f.useMemo(()=>{const y=new Set(["home","homes","console","noticias","tools"]),x=e.filter(j=>!y.has(j.id)),w=[{id:"forum",label:"Forum",icon:"/assets/BatePapo1.png",order:6},{id:"eventos",label:"Eventos",icon:"/assets/eventos.png",order:7},{id:"catalogo",label:"Catálogo",icon:"/assets/catalogo.png",order:8},{id:"emblemas",label:"Emblemas",icon:"/assets/emblemas.png",order:9},{id:"editor",label:"Editor",icon:"/assets/editingfigure.png",order:10},{id:"mercado",label:"Mercado",icon:"/assets/mercado.png",order:11}],_=[...x];return w.forEach(j=>{_.find(S=>S.id===j.id)||_.push(j)}),_.sort((j,S)=>(j.order||999)-(S.order||999))},[e]);f.useCallback(()=>{c(y=>!y),d(!1)},[]);const v=f.useCallback(()=>{c(y=>!y)},[]),g=f.useCallback(y=>{r(y),c(!1)},[r]),b=f.useCallback(y=>{y.id==="tools"?v():(r(y.id),c(!1))},[r,v]);return f.useEffect(()=>{const y=x=>{h.current&&!h.current.contains(x.target)&&!x.target.closest(".dock-more-button")&&!x.target.closest(".dock-tools-button")&&(c(!1),d(!1))};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]),i.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-50 w-full md:hidden",children:[i.jsx("div",{className:"h-px",style:{backgroundColor:"#000"}}),i.jsxs("div",{className:"p-0 flex justify-center w-full",style:{backgroundColor:"#ffefd5"},children:[l&&i.jsxs("div",{ref:h,className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 w-72 p-4 rounded-t-xl shadow-2xl flex flex-col space-y-2 max-h-[60vh] overflow-y-auto border-t-2 border-black",style:{backgroundColor:"#ffefd5",boxShadow:"0 -10px 30px rgba(0, 0, 0, 0.5), 0 0 20px rgba(0, 0, 0, 0.3)"},children:[i.jsx("div",{className:"text-center pb-2 border-b border-black/30",children:i.jsx("span",{className:"font-bold text-lg text-white volter-font",style:{textShadow:"1px 1px 0px black, -1px -1px 0px black, 1px -1px 0px black, -1px 1px 0px black"},children:"Ferramentas"})}),p.length>0?i.jsx("div",{className:"grid grid-cols-3 gap-3",children:p.map(y=>i.jsxs("button",{className:"flex flex-col items-center gap-2 p-3 rounded-lg transition-all duration-200 hover:scale-105",style:{backgroundColor:n===y.id?"rgba(0, 0, 0, 0.2)":"rgba(0, 0, 0, 0.1)",boxShadow:n===y.id?"0 0 10px rgba(0, 0, 0, 0.5)":"0 2px 5px rgba(0, 0, 0, 0.2)"},onClick:()=>g(y.id),children:[typeof y.icon=="string"?i.jsx("img",{src:y.icon,alt:y.label,className:"w-8 h-8 object-contain",style:{imageRendering:"pixelated"}}):i.jsx(y.icon,{className:"w-8 h-8 text-black"}),i.jsx("span",{className:"text-xs font-medium text-center leading-tight text-white volter-font",style:{textShadow:"1px 1px 0px black, -1px -1px 0px black, 1px -1px 0px black, -1px 1px 0px black"},children:y.label})]},y.id))}):i.jsx("p",{className:"text-center py-4 text-gray-600",children:"Nenhuma ferramenta adicional."})]}),i.jsx("nav",{className:"w-full max-w-sm flex justify-around items-center py-4 px-3",children:m.map(y=>{const x=n===y.id,w=y.id==="tools";let _;return y.isAvatar?a?_=a:_=i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"linear-gradient(135deg, #000 0%, #333 100%)",padding:"3px"},children:i.jsx("div",{className:"w-full h-full rounded-full overflow-hidden",style:{backgroundColor:"#1a1a1a"},children:i.jsx("img",{src:y.icon,alt:y.label,className:"w-full h-full object-cover",style:{imageRendering:"pixelated"}})})}),i.jsx("div",{className:"w-12 h-12"})]}):typeof y.icon=="string"?_=i.jsx("img",{src:y.icon,alt:y.label,className:"w-8 h-8 object-contain",style:{imageRendering:"pixelated"}}):_=i.jsx(y.icon,{className:`w-8 h-8 ${x?"text-black":"text-gray-700"}`}),i.jsxs("button",{className:`flex flex-col items-center gap-1 p-2 rounded-lg transition-all duration-200 hover:scale-110 ${w?"dock-tools-button":""}`,style:{backgroundColor:x||w&&l?"rgba(0, 0, 0, 0.2)":"transparent",boxShadow:x||w&&l?"0 0 15px rgba(0, 0, 0, 0.4)":"none",minWidth:"60px"},onClick:()=>b(y),children:[i.jsx("div",{className:y.isAvatar?"":"relative",children:w&&l?i.jsx(io,{className:"w-8 h-8 text-black"}):_}),i.jsx("span",{className:"text-xs font-medium text-center leading-tight volter-font text-white",style:{textShadow:"1px 1px 0px black, -1px -1px 0px black, 1px -1px 0px black, -1px 1px 0px black"},children:y.label})]},y.id)})})]})]})},Sh=({children:e,menuItems:t,userAvatarUrl:r,onItemClick:n,activeItemId:s,isLoggedIn:o=!1,currentPath:a="/",showHeader:l=!0})=>i.jsxs("div",{className:"flex flex-col min-h-screen md:hidden",children:[l&&i.jsxs("header",{className:"flex items-center justify-between p-4 border-b",style:{backgroundColor:"#ffefd5"},children:[i.jsx("div",{className:"flex items-center",children:i.jsx("img",{src:"/assets/logo-habbohub.png",alt:"HabboHub",className:"h-8 object-contain",style:{imageRendering:"pixelated"}})}),i.jsx("div",{className:"flex items-center",children:o&&r?i.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-black",children:i.jsx("img",{src:r,alt:"Avatar do usuário",className:"w-full h-full object-cover",style:{imageRendering:"pixelated"}})}):i.jsx("button",{onClick:()=>n("login"),className:"px-3 py-2 bg-primary text-primary-foreground rounded font-volter text-sm",children:"Login"})})]}),i.jsx("main",{className:"flex-1 pb-20",children:e}),i.jsx(hL,{menuItems:t,userAvatarUrl:r,onItemClick:n,activeItemId:s,isLoggedIn:o,currentPath:a})]}),Wx=()=>{const{username:e}=Db(),t=ao(),r=Ju(),{widgets:n,stickers:s,background:o,guestbook:a,habboData:l,loading:c,isEditMode:u,isOwner:d,setIsEditMode:h,updateWidgetPosition:m,updateStickerPosition:p,addSticker:v,removeSticker:g,updateBackground:b,addWidget:y,removeWidget:x,reloadData:w}=XD(e||"");console.log("🏠 HabboHomeV2 renderizada:",{username:e,isOwner:d,isEditMode:u,widgetsCount:n.length,stickersCount:s.length,background:o,loading:c,isMobile:r});const _=async(A,I,R)=>{console.log("🎯 Tentando adicionar sticker:",{stickerId:A,stickerSrc:I,category:R});const L=Math.random()*980+50,O=Math.random()*1700+50;await v(A,L,O,I,R)},j=async(A,I)=>{console.log("🎨 Mudando background:",{type:A,value:I}),await b(A,I)},S=async()=>{console.log("💾 Salvando home...");try{await w()}catch(A){console.error("Erro ao salvar:",A)}},C=[{id:"home",label:"Início",icon:"/assets/home.png",order:1},{id:"homes",label:"Home",icon:"/assets/homepadrao.png",order:2},{id:"console",label:"Console",icon:"/assets/consoleon3.gif",order:3},{id:"noticias",label:"Notícias",icon:"/assets/news.png",order:4},{id:"tools",label:"Ferramentas",icon:"/assets/ferramentas.png",order:5}],E=A=>{switch(A){case"home":t("/");break;case"homes":t("/homes");break;case"console":t("/console");break;case"noticias":t("/noticias");break;default:console.log("Mobile item clicked:",A)}};if(c){const A=i.jsx("div",{className:"flex-1 bg-repeat flex items-center justify-center",style:{backgroundImage:"url(/assets/bghabbohub.png)"},children:i.jsxs("div",{className:"text-center",children:[i.jsx(Nt,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-white"}),i.jsx("div",{className:"text-lg volter-font text-white habbo-text",children:"Carregando Habbo Home..."})]})});return r?i.jsx(Sh,{menuItems:C,onItemClick:E,currentPath:`/homes/${e}`,children:A}):i.jsx(dt,{children:i.jsxs("div",{className:"min-h-screen flex w-full",children:[i.jsx(yt,{}),i.jsx(ht,{className:"flex-1 ml-0 transition-all duration-300",children:i.jsx("main",{children:A})})]})})}if(!l){const A=i.jsx("div",{className:"flex-1 bg-repeat flex items-center justify-center",style:{backgroundImage:"url(/assets/bghabbohub.png)"},children:i.jsxs(ie,{className:"max-w-md mx-auto bg-white/95 backdrop-blur-sm shadow-xl border-2 border-black",children:[i.jsx(ke,{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white",children:i.jsx(Ce,{className:"text-center volter-font",children:"Usuário não encontrado"})}),i.jsxs(he,{className:"p-6 text-center",children:[i.jsxs("p",{className:"text-gray-700 mb-4 volter-font",children:['O usuário "',e,'" não foi encontrado ou não possui uma Habbo Home.']}),i.jsxs(ee,{onClick:()=>t("/homes"),className:"volter-font",children:[i.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Voltar às Homes"]})]})]})});return r?i.jsx(Sh,{menuItems:C,onItemClick:E,currentPath:`/homes/${e}`,children:A}):i.jsx(dt,{children:i.jsxs("div",{className:"min-h-screen flex w-full",children:[i.jsx(yt,{}),i.jsx(ht,{className:"flex-1 ml-0 transition-all duration-300",children:i.jsx("main",{children:A})})]})})}const P=i.jsxs("div",{className:"flex-1 bg-repeat relative",style:{backgroundImage:"url(/assets/bghabbohub.png)"},children:[!r&&i.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 p-4",children:i.jsx(uL,{isEditMode:u,isOwner:d,onToggleEditMode:()=>h(!u),onSave:S,onBackgroundChange:j,onStickerSelect:_,onWidgetAdd:y})}),i.jsxs("div",{className:`p-4 ${r?"pb-24":""}`,children:[i.jsx(ie,{className:"mb-6 bg-white/95 backdrop-blur-sm shadow-lg border-2 border-black",children:i.jsx(ke,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white border-b-2 border-black",children:i.jsxs(Ce,{className:`volter-font habbo-text text-center ${r?"text-lg":"text-2xl"}`,children:["🏠 ",l.habbo_name,"'s Habbo Home"]})})}),d&&!u&&i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("button",{onClick:()=>h(!0),className:"group relative overflow-hidden rounded-lg transition-all duration-300 hover:scale-110 shadow-lg bg-yellow-500 hover:bg-yellow-600 border-2 border-black cursor-pointer z-20",style:{width:"48px",height:"48px",backgroundImage:"url('https://wueccgeizznjmjgmuscy.supabase.co/storage/v1/object/public/habbo-hub-images/home-assets/editinghome.png')",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",imageRendering:"pixelated"},title:"Entrar no Modo de Edição"})}),i.jsx("div",{className:"relative",children:i.jsx(sL,{widgets:n,stickers:s,background:o,habboData:l,guestbook:a,isEditMode:u,isOwner:d,onWidgetPositionChange:m,onStickerPositionChange:p,onStickerRemove:g,onWidgetRemove:x})})]})]});return r?i.jsx(Sh,{menuItems:C,onItemClick:E,currentPath:`/homes/${e}`,children:P}):i.jsx(dt,{children:i.jsxs("div",{className:"min-h-screen flex w-full",children:[i.jsx(yt,{}),i.jsx(ht,{className:"flex-1 ml-0 transition-all duration-300",children:i.jsx("main",{children:P})})]})})},fL=()=>{const[e,t]=f.useState(null),[r,n]=f.useState(!1);f.useEffect(()=>{const o=c=>{if(c.origin===window.location.origin)switch(c.data.type){case"CONSOLE_POPUP_OPENED":n(!0);break;case"CONSOLE_POPUP_CLOSED":n(!1),t(null);break;case"AUTH_STATE_CHANGE":console.log("Auth state changed in popup:",c.data.isLoggedIn);break}};window.addEventListener("message",o);const l=setInterval(()=>{e&&e.closed&&(n(!1),t(null))},1e3);return()=>{window.removeEventListener("message",o),clearInterval(l)}},[e]);const s=()=>{if(r&&e){e.focus();return}const o=window.open("/console-popup","HabboHubConsole","width=420,height=650,scrollbars=no,resizable=yes,status=no,directories=no,toolbar=no,menubar=no");o&&(t(o),o.focus())};return i.jsxs(ee,{onClick:s,className:"bg-yellow-500 hover:bg-yellow-600 text-black font-bold volter-font",size:"lg",children:[i.jsx(Iw,{className:"w-5 h-5 mr-2"}),r?"Focar Console":"Abrir Console",i.jsx(Ta,{className:"w-4 h-4 ml-2"})]})},mL=()=>i.jsx(dt,{children:i.jsxs("div",{className:"min-h-screen flex w-full",children:[i.jsx(yt,{}),i.jsx(ht,{className:"flex-1",children:i.jsx("main",{className:"flex-1 p-8 bg-repeat min-h-screen",style:{backgroundImage:"url(/assets/bghabbohub.png)"},children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx(mn,{className:"w-8 h-8 text-white"}),i.jsx("h1",{className:"text-4xl font-bold text-white volter-font",style:{textShadow:"2px 2px 0px black, -2px -2px 0px black, 2px -2px 0px black, -2px 2px 0px black"},children:"HabboHub"})]}),i.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto volter-font drop-shadow",children:"A plataforma definitiva para a comunidade Habbo. Conecte-se, explore e compartilhe sua paixão pelo Habbo Hotel."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:[i.jsxs(ie,{className:"hover:shadow-lg transition-shadow bg-white/95 backdrop-blur-sm border-2 border-black",children:[i.jsx(ke,{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white border-b-2 border-black",children:i.jsxs(Ce,{className:"flex items-center gap-2 volter-font",children:[i.jsx(Ft,{className:"w-5 h-5 text-white"}),"Console Social"]})}),i.jsxs(he,{className:"p-6",children:[i.jsx("p",{className:"text-gray-600 mb-4 volter-font",children:"Acesse o console social para ver fotos de amigos, buscar usuários e interagir com a comunidade."}),i.jsx(ln,{to:"/console",children:i.jsx(ee,{className:"w-full habbo-button-blue volter-font",children:"Acessar Console"})})]})]}),i.jsxs(ie,{className:"hover:shadow-lg transition-shadow bg-white/95 backdrop-blur-sm border-2 border-black",children:[i.jsx(ke,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white border-b-2 border-black",children:i.jsxs(Ce,{className:"flex items-center gap-2 volter-font",children:[i.jsx(Ra,{className:"w-5 h-5 text-white"}),"Habbo Homes"]})}),i.jsxs(he,{className:"p-6",children:[i.jsx("p",{className:"text-gray-600 mb-4 volter-font",children:"Explore as homes dos usuários, crie conexões e descubra conteúdos incríveis da comunidade."}),i.jsx(ln,{to:"/homes",children:i.jsx(ee,{className:"w-full habbo-button-green volter-font",children:"Ver Homes"})})]})]}),i.jsxs(ie,{className:"hover:shadow-lg transition-shadow bg-white/95 backdrop-blur-sm border-2 border-black",children:[i.jsx(ke,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white border-b-2 border-black",children:i.jsxs(Ce,{className:"flex items-center gap-2 volter-font",children:[i.jsx(Aa,{className:"w-5 h-5 text-white"}),"Emblemas"]})}),i.jsxs(he,{className:"p-6",children:[i.jsx("p",{className:"text-gray-600 mb-4 volter-font",children:"Descubra e colecione emblemas exclusivos, veja rankings e conquiste seu lugar na comunidade."}),i.jsx(ln,{to:"/emblemas",children:i.jsx(ee,{className:"w-full habbo-button-yellow volter-font",children:"Ver Emblemas"})})]})]})]}),i.jsx("div",{className:"text-center",children:i.jsx(ie,{className:"max-w-2xl mx-auto bg-white/95 backdrop-blur-sm border-2 border-black",children:i.jsxs(he,{className:"pt-6",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 volter-font",style:{textShadow:"1px 1px 0px rgba(0,0,0,0.3)"},children:"Pronto para começar?"}),i.jsx("p",{className:"text-gray-600 mb-6 volter-font",children:"Explore todas as funcionalidades do HabboHub e conecte-se com a maior comunidade Habbo do Brasil."}),i.jsxs("div",{className:"flex gap-4 justify-center flex-wrap",children:[i.jsx(ln,{to:"/console",children:i.jsx(ee,{size:"lg",className:"habbo-button-blue volter-font",children:"Explorar Console"})}),i.jsx(fL,{}),i.jsx(ln,{to:"/homes",children:i.jsx(ee,{size:"lg",className:"habbo-button-green volter-font",children:"Ver Homes"})})]})]})})})]})})})]})}),pL=()=>Ye({queryKey:["latest-homes"],queryFn:async()=>{console.log("🏠 [LatestHomes] Fetching latest created and updated homes");const{data:e,error:t}=await B.from("user_home_layouts").select(`
          user_id,
          updated_at,
          created_at
        `).order("updated_at",{ascending:!1}).limit(100),{data:r,error:n}=await B.from("user_home_backgrounds").select(`
          user_id,
          created_at,
          updated_at
        `).order("created_at",{ascending:!1}).limit(100);if(t||n)throw console.error("❌ [LatestHomes] Error fetching homes:",t||n),t||n;const s=new Map;e==null||e.forEach(h=>{const m=new Date(h.updated_at).getTime(),p=s.get(h.user_id);(!p||new Date(p.updated_at).getTime()<m)&&s.set(h.user_id,{user_id:h.user_id,updated_at:h.updated_at})}),r==null||r.forEach(h=>{const m=new Date(h.created_at).getTime(),p=s.get(h.user_id);(!p||new Date(p.updated_at).getTime()<m)&&s.set(h.user_id,{user_id:h.user_id,updated_at:h.created_at})});const o=Array.from(s.values()).sort((h,m)=>new Date(m.updated_at).getTime()-new Date(h.updated_at).getTime()).slice(0,8),a=o.map(h=>h.user_id),{data:l}=await B.from("habbo_accounts").select("supabase_user_id, habbo_name").in("supabase_user_id",a),{data:c}=await B.from("user_home_backgrounds").select("user_id, background_type, background_value").in("user_id",a),{data:u}=await B.from("user_home_ratings").select("home_owner_user_id, rating").in("home_owner_user_id",a),d=o.map(h=>{const m=l==null?void 0:l.find(b=>b.supabase_user_id===h.user_id),p=c==null?void 0:c.find(b=>b.user_id===h.user_id),v=(u==null?void 0:u.filter(b=>b.home_owner_user_id===h.user_id))||[],g=v.length>0?v.reduce((b,y)=>b+y.rating,0)/v.length:0;return{...h,habbo_name:m==null?void 0:m.habbo_name,background_type:p==null?void 0:p.background_type,background_value:p==null?void 0:p.background_value,average_rating:Math.round(g*10)/10,ratings_count:v.length}});return console.log("✅ [LatestHomes] Found latest homes:",d),d},staleTime:1e3*60*5,gcTime:1e3*60*30}),gL=({home:e})=>{const t=ao(),r=()=>{e.habbo_name&&t(`/homes/${e.habbo_name}`)},n=()=>e.background_type==="color"?{backgroundColor:e.background_value||"#c7d2dc"}:e.background_type==="cover"?{backgroundImage:`url(${e.background_value})`,backgroundSize:"cover",backgroundPosition:"center"}:e.background_type==="repeat"?{backgroundImage:`url(${e.background_value})`,backgroundRepeat:"repeat"}:{backgroundColor:"#c7d2dc"},s=e.habbo_name?`https://www.habbo.com.br/habbo-imaging/avatarimage?user=${e.habbo_name}&size=l&direction=2&head_direction=3&action=std`:null;return i.jsx(ie,{className:"group cursor-pointer transition-all duration-300 bg-white/95 backdrop-blur-sm border-2 border-black hover:shadow-2xl hover:shadow-black/20 relative overflow-hidden",onClick:r,children:i.jsx(he,{className:"p-0 relative",children:i.jsxs("div",{className:"w-full h-40 relative overflow-hidden",style:n(),children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-black/20"}),i.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-colors duration-300"}),s&&i.jsx("div",{className:"absolute bottom-2 right-2 w-12 h-12 overflow-hidden",children:i.jsx("img",{src:s,alt:`Avatar de ${e.habbo_name}`,className:"w-full h-full object-contain bg-transparent",style:{imageRendering:"pixelated",filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.8))"},onError:o=>{const a=o.target;a.src=`https://habbo-imaging.s3.amazonaws.com/avatarimage?user=${e.habbo_name}&size=l&direction=2&head_direction=3&action=std`}})}),i.jsx("div",{className:"absolute top-2 left-2",children:i.jsx("h3",{className:"font-bold text-sm text-white volter-font drop-shadow-lg truncate max-w-32",style:{textShadow:"1px 1px 0px black, -1px -1px 0px black, 1px -1px 0px black, -1px 1px 0px black, 2px 2px 4px rgba(0,0,0,0.8)"},children:e.habbo_name||"Usuário"})}),i.jsx("div",{className:"absolute inset-0 flex flex-col justify-center items-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"text-center text-white space-y-2 p-4",children:[e.average_rating&&e.average_rating>0?i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[[1,2,3,4,5].map(o=>i.jsx(Aa,{className:`w-4 h-4 ${o<=Math.round(e.average_rating)?"text-yellow-400 fill-yellow-400":"text-gray-400"}`},o)),i.jsxs("span",{className:"text-sm text-white ml-1 volter-font",children:[e.average_rating.toFixed(1)," (",e.ratings_count," avaliações)"]})]}):i.jsx("div",{className:"text-sm text-white/70 volter-font",children:"Sem avaliações ainda"}),i.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-white/90",children:[i.jsx(wp,{className:"w-3 h-3"}),i.jsx("span",{className:"volter-font",children:hl(new Date(e.updated_at),{addSuffix:!0,locale:fl})})]}),i.jsx("div",{className:"text-xs text-white/70 volter-font",children:"Clique para visitar"})]})})]})})})},vL=()=>{const e=ao(),{toast:t}=Ea(),{habboAccount:r,isLoggedIn:n}=dd(),{data:s,isLoading:o}=pL(),[a,l]=f.useState(""),[c,u]=f.useState([]),[d,h]=f.useState(!1),[m,p]=f.useState(!1),v=async()=>{try{const{data:y,error:x}=await B.from("discovered_users").select("*").eq("is_online",!0).order("habbo_name",{ascending:!0}).limit(50);if(x){t({title:"Erro ao buscar usuários",description:x.message,variant:"destructive"});return}u(y||[])}catch{t({title:"Erro ao buscar usuários",description:"Ocorreu um erro inesperado",variant:"destructive"})}},g=async()=>{if(a.trim()){h(!0),p(!0);const{data:y,error:x}=await B.from("discovered_users").select("*").ilike("habbo_name",`%${a}%`).order("habbo_name",{ascending:!0}).limit(50);if(x){t({title:"Erro ao buscar usuários",description:x.message,variant:"destructive"}),h(!1);return}u(y||[]),h(!1)}else p(!0),await v()},b=c.filter(y=>y.habbo_name.toLowerCase().includes(a.toLowerCase()));return f.useEffect(()=>{v()},[]),i.jsx(dt,{children:i.jsxs("div",{className:"min-h-screen flex w-full",children:[i.jsx(yt,{}),i.jsx(ht,{className:"flex-1",children:i.jsx("main",{className:"flex-1 p-8 bg-repeat min-h-screen",style:{backgroundImage:"url(/assets/bghabbohub.png)"},children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold text-white mb-4 volter-font",style:{textShadow:"2px 2px 0px black, -2px -2px 0px black, 2px -2px 0px black, -2px 2px 0px black"},children:"🏠 Habbo Homes"}),i.jsx("p",{className:"text-lg text-white/90 volter-font drop-shadow",children:"Explore as homes dos usuários do HabboHub"}),i.jsx("div",{className:"mt-4",children:n&&r?i.jsxs(ee,{onClick:()=>e(`/homes/${r.habbo_name}`),className:"habbo-button-green volter-font px-6 py-2",children:[i.jsx($w,{className:"w-4 h-4 mr-2"}),"Ver Minha Home",i.jsx(mn,{className:"w-4 h-4 ml-2"})]}):i.jsxs(ee,{onClick:()=>e("/login"),className:"habbo-button-orange volter-font px-6 py-2",children:[i.jsx(Zs,{className:"w-4 h-4 mr-2"}),"Fazer Login para Ver Minha Home"]})})]}),i.jsxs(ie,{className:"mb-8 bg-white/95 backdrop-blur-sm shadow-lg border-2 border-black",children:[i.jsx(ke,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white border-b-2 border-black",children:i.jsxs(Ce,{className:"text-xl volter-font habbo-text flex items-center gap-2",children:[i.jsx(Bt,{className:"w-5 h-5"}),"Buscar Usuários com Homes"]})}),i.jsxs(he,{className:"p-6",children:[i.jsxs("div",{className:"flex gap-4",children:[i.jsx(Kt,{type:"text",placeholder:"Digite o nome do usuário Habbo ou deixe vazio para ver usuários online...",value:a,onChange:y=>l(y.target.value),onKeyPress:y=>y.key==="Enter"&&g(),className:"flex-1 border-2 border-gray-300 focus:border-purple-500 volter-font"}),i.jsxs(ee,{onClick:g,disabled:d,className:"habbo-button-purple volter-font",children:[i.jsx(Bt,{className:"w-4 h-4 mr-2"}),d?"Buscando...":"Buscar"]})]}),i.jsx("p",{className:"text-sm text-gray-600 mt-2 volter-font",children:'💡 Dica: Deixe o campo vazio e clique em "Buscar" para ver usuários online com homes descobertas'})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-4 volter-font text-center",style:{textShadow:"2px 2px 0px black, -2px -2px 0px black, 2px -2px 0px black, -2px 2px 0px black"},children:"🎨 Últimas Homes Editadas"}),o?i.jsxs("div",{className:"flex justify-center py-8",children:[i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-white/20 border-t-white rounded-full"}),i.jsx("span",{className:"ml-3 text-white volter-font",children:"Carregando homes..."})]}):s&&s.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6",children:s.map(y=>i.jsx(gL,{home:y},y.user_id))}):i.jsx(ie,{className:"bg-white/95 backdrop-blur-sm shadow-lg border-2 border-black",children:i.jsxs(he,{className:"p-6 text-center",children:[i.jsx(mn,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-600 volter-font",children:"Ainda não há homes editadas recentemente"})]})})]}),m&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:b.map(y=>{var x,w;return i.jsxs(ie,{className:"bg-white/95 backdrop-blur-sm shadow-lg border-2 border-black hover:shadow-xl transition-all duration-300 hover:scale-105",children:[i.jsx(ke,{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white border-b-2 border-black p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:`https://www.habbo.com.br/habbo-imaging/avatarimage?user=${y.habbo_name}&size=s&direction=2&head_direction=3&headonly=1`,alt:`Avatar de ${y.habbo_name}`,className:"w-12 h-12 object-contain bg-white/20 rounded border border-white/30",onError:_=>{const j=_.target;j.src=`https://habbo-imaging.s3.amazonaws.com/avatarimage?user=${y.habbo_name}&size=s&direction=2&head_direction=3&headonly=1`}}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(Ce,{className:"text-lg volter-font habbo-text truncate",children:y.habbo_name}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(lr,{className:`text-xs volter-font ${y.is_online?"bg-green-500":"bg-gray-500"}`,children:y.is_online?"Online":"Offline"}),i.jsx(lr,{className:"bg-white/20 text-white text-xs volter-font",children:((x=y.hotel)==null?void 0:x.toUpperCase())||"BR"})]})]})]})}),i.jsxs(he,{className:"p-4 space-y-3",children:[y.motto&&i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Aa,{className:"w-4 h-4 text-yellow-500 mt-0.5 flex-shrink-0"}),i.jsxs("p",{className:"text-sm text-gray-700 volter-font italic",children:['"',y.motto,'"']})]}),y.created_at&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Aw,{className:"w-4 h-4 text-blue-500"}),i.jsxs("span",{className:"text-xs text-gray-600 volter-font",children:["Descoberto em: ",new Date(y.created_at).toLocaleDateString("pt-BR")]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Z2,{className:"w-4 h-4 text-red-500"}),i.jsxs("span",{className:"text-xs text-gray-600 volter-font",children:["Hotel: ",((w=y.hotel)==null?void 0:w.toUpperCase())||"Brasil"]})]}),i.jsxs(ee,{onClick:()=>e(`/homes/${y.habbo_name}`),className:"w-full habbo-button-blue volter-font",children:[i.jsx(mn,{className:"w-4 h-4 mr-2"}),"Ver Home",i.jsx(Ta,{className:"w-4 h-4 ml-2"})]})]})]},y.id)})}),m&&b.length===0&&!d&&i.jsx(ie,{className:"bg-white/95 backdrop-blur-sm shadow-lg border-2 border-black",children:i.jsxs(he,{className:"p-8 text-center",children:[i.jsx(Zs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-2 volter-font",children:"Nenhum usuário encontrado"}),i.jsx("p",{className:"text-gray-600 volter-font",children:"Tente buscar por um nome diferente ou deixe o campo vazio para ver usuários online."})]})})]})})})]})})};function pn(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Kp(e,t=[]){let r=[];function n(o,a){const l=f.createContext(a),c=r.length;r=[...r,a];const u=h=>{var y;const{scope:m,children:p,...v}=h,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,b=f.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:b,children:p})};u.displayName=o+"Provider";function d(h,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=f.useContext(p);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(a=>f.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,xL(s,...t)]}function xL(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function Vx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function SS(...e){return t=>{let r=!1;const n=e.map(s=>{const o=Vx(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Vx(e[s],null)}}}}function cm(...e){return f.useCallback(SS(...e),e)}function qx(e){const t=yL(e),r=f.forwardRef((n,s)=>{const{children:o,...a}=n,l=f.Children.toArray(o),c=l.find(wL);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return i.jsx(t,{...a,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return i.jsx(t,{...a,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}function yL(e){const t=f.forwardRef((r,n)=>{const{children:s,...o}=r;if(f.isValidElement(s)){const a=SL(s),l=_L(o,s.props);return s.type!==f.Fragment&&(l.ref=n?SS(n,a):a),f.cloneElement(s,l)}return f.Children.count(s)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var bL=Symbol("radix.slottable");function wL(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bL}function _L(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function SL(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function jL(e){const t=e+"CollectionProvider",[r,n]=Kp(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:b,children:y}=g,x=ye.useRef(null),w=ye.useRef(new Map).current;return i.jsx(s,{scope:b,itemMap:w,collectionRef:x,children:y})};a.displayName=t;const l=e+"CollectionSlot",c=qx(l),u=ye.forwardRef((g,b)=>{const{scope:y,children:x}=g,w=o(l,y),_=cm(b,w.collectionRef);return i.jsx(c,{ref:_,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",m=qx(d),p=ye.forwardRef((g,b)=>{const{scope:y,children:x,...w}=g,_=ye.useRef(null),j=cm(b,_),S=o(d,y);return ye.useEffect(()=>(S.itemMap.set(_,{ref:_,...w}),()=>void S.itemMap.delete(_))),i.jsx(m,{[h]:"",ref:j,children:x})});p.displayName=d;function v(g){const b=o(e+"CollectionConsumer",g);return ye.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((S,C)=>w.indexOf(S.ref.current)-w.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},v,n]}var NL=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},kL=_u[" useId ".trim().toString()]||(()=>{}),CL=0;function jS(e){const[t,r]=f.useState(kL());return NL(()=>{e||r(n=>n??String(CL++))},[e]),e||(t?`radix-${t}`:"")}function Kx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function EL(...e){return t=>{let r=!1;const n=e.map(s=>{const o=Kx(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Kx(e[s],null)}}}}function PL(e){const t=TL(e),r=f.forwardRef((n,s)=>{const{children:o,...a}=n,l=f.Children.toArray(o),c=l.find(AL);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return i.jsx(t,{...a,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return i.jsx(t,{...a,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}function TL(e){const t=f.forwardRef((r,n)=>{const{children:s,...o}=r;if(f.isValidElement(s)){const a=ML(s),l=OL(o,s.props);return s.type!==f.Fragment&&(l.ref=n?EL(n,a):a),f.cloneElement(s,l)}return f.Children.count(s)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var RL=Symbol("radix.slottable");function AL(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===RL}function OL(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function ML(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var IL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fa=IL.reduce((e,t)=>{const r=PL(`Primitive.${t}`),n=f.forwardRef((s,o)=>{const{asChild:a,...l}=s,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function DL(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var LL=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},$L=_u[" useInsertionEffect ".trim().toString()]||LL;function NS({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,a]=FL({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=f.useRef(e!==void 0);f.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=f.useCallback(d=>{var h;if(l){const m=UL(d)?d(e):d;m!==e&&((h=a.current)==null||h.call(a,m))}else o(d)},[l,e,o,a]);return[c,u]}function FL({defaultProp:e,onChange:t}){const[r,n]=f.useState(e),s=f.useRef(r),o=f.useRef(t);return $L(()=>{o.current=t},[t]),f.useEffect(()=>{var a;s.current!==r&&((a=o.current)==null||a.call(o,r),s.current=r)},[r,s]),[r,n,o]}function UL(e){return typeof e=="function"}var zL=f.createContext(void 0);function kS(e){const t=f.useContext(zL);return e||t||"ltr"}var jh="rovingFocusGroup.onEntryFocus",HL={bubbles:!1,cancelable:!0},ml="RovingFocusGroup",[um,CS,BL]=jL(ml),[WL,ES]=Kp(ml,[BL]),[VL,qL]=WL(ml),PS=f.forwardRef((e,t)=>i.jsx(um.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(um.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(KL,{...e,ref:t})})}));PS.displayName=ml;var KL=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,m=f.useRef(null),p=cm(t,m),v=kS(o),[g,b]=NS({prop:a,defaultProp:l??null,onChange:c,caller:ml}),[y,x]=f.useState(!1),w=DL(u),_=CS(r),j=f.useRef(!1),[S,C]=f.useState(0);return f.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(jh,w),()=>E.removeEventListener(jh,w)},[w]),i.jsx(VL,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:g,onItemFocus:f.useCallback(E=>b(E),[b]),onItemShiftTab:f.useCallback(()=>x(!0),[]),onFocusableItemAdd:f.useCallback(()=>C(E=>E+1),[]),onFocusableItemRemove:f.useCallback(()=>C(E=>E-1),[]),children:i.jsx(Fa.div,{tabIndex:y||S===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:pn(e.onMouseDown,()=>{j.current=!0}),onFocus:pn(e.onFocus,E=>{const P=!j.current;if(E.target===E.currentTarget&&P&&!y){const A=new CustomEvent(jh,HL);if(E.currentTarget.dispatchEvent(A),!A.defaultPrevented){const I=_().filter(H=>H.focusable),R=I.find(H=>H.active),L=I.find(H=>H.id===g),V=[R,L,...I].filter(Boolean).map(H=>H.ref.current);AS(V,d)}}j.current=!1}),onBlur:pn(e.onBlur,()=>x(!1))})})}),TS="RovingFocusGroupItem",RS=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:a,...l}=e,c=jS(),u=o||c,d=qL(TS,r),h=d.currentTabStopId===u,m=CS(r),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:g}=d;return f.useEffect(()=>{if(n)return p(),()=>v()},[n,p,v]),i.jsx(um.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:i.jsx(Fa.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:pn(e.onMouseDown,b=>{n?d.onItemFocus(u):b.preventDefault()}),onFocus:pn(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:pn(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const y=YL(b,d.orientation,d.dir);if(y!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=m().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const _=w.indexOf(b.currentTarget);w=d.loop?XL(w,_+1):w.slice(_+1)}setTimeout(()=>AS(w))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:g!=null}):a})})});RS.displayName=TS;var GL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function QL(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function YL(e,t,r){const n=QL(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return GL[n]}function AS(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function XL(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var JL=PS,ZL=RS;function Gx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function e3(...e){return t=>{let r=!1;const n=e.map(s=>{const o=Gx(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Gx(e[s],null)}}}}function t3(...e){return f.useCallback(e3(...e),e)}var Qx=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{};function r3(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var OS=e=>{const{present:t,children:r}=e,n=n3(t),s=typeof r=="function"?r({present:n.isPresent}):f.Children.only(r),o=t3(n.ref,s3(s));return typeof r=="function"||n.isPresent?f.cloneElement(s,{ref:o}):null};OS.displayName="Presence";function n3(e){const[t,r]=f.useState(),n=f.useRef(null),s=f.useRef(e),o=f.useRef("none"),a=e?"mounted":"unmounted",[l,c]=r3(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=sc(n.current);o.current=l==="mounted"?u:"none"},[l]),Qx(()=>{const u=n.current,d=s.current;if(d!==e){const m=o.current,p=sc(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Qx(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const g=sc(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=p=>{p.target===t&&(o.current=sc(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function sc(e){return(e==null?void 0:e.animationName)||"none"}function s3(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var xd="Tabs",[o3,G3]=Kp(xd,[ES]),MS=ES(),[a3,Gp]=o3(xd),IS=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=kS(l),[h,m]=NS({prop:n,onChange:s,defaultProp:o??"",caller:xd});return i.jsx(a3,{scope:r,baseId:jS(),value:h,onValueChange:m,orientation:a,dir:d,activationMode:c,children:i.jsx(Fa.div,{dir:d,"data-orientation":a,...u,ref:t})})});IS.displayName=xd;var DS="TabsList",LS=f.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=Gp(DS,r),a=MS(r);return i.jsx(JL,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:n,children:i.jsx(Fa.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});LS.displayName=DS;var $S="TabsTrigger",FS=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,a=Gp($S,r),l=MS(r),c=HS(a.baseId,n),u=BS(a.baseId,n),d=n===a.value;return i.jsx(ZL,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(Fa.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:pn(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?a.onValueChange(n):h.preventDefault()}),onKeyDown:pn(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(n)}),onFocus:pn(e.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!s&&h&&a.onValueChange(n)})})})});FS.displayName=$S;var US="TabsContent",zS=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...a}=e,l=Gp(US,r),c=HS(l.baseId,n),u=BS(l.baseId,n),d=n===l.value,h=f.useRef(d);return f.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),i.jsx(OS,{present:s||d,children:({present:m})=>i.jsx(Fa.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&o})})});zS.displayName=US;function HS(e,t){return`${e}-trigger-${t}`}function BS(e,t){return`${e}-content-${t}`}var i3=IS,WS=LS,VS=FS,qS=zS;const KS=i3,Qp=f.forwardRef(({className:e,...t},r)=>i.jsx(WS,{ref:r,className:X("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Qp.displayName=WS.displayName;const xu=f.forwardRef(({className:e,...t},r)=>i.jsx(VS,{ref:r,className:X("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));xu.displayName=VS.displayName;const dm=f.forwardRef(({className:e,...t},r)=>i.jsx(qS,{ref:r,className:X("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));dm.displayName=qS.displayName;var l3="Label",GS=f.forwardRef((e,t)=>i.jsx(Ee.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));GS.displayName=l3;var QS=GS;const c3=Pa("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),yu=f.forwardRef(({className:e,...t},r)=>i.jsx(QS,{ref:r,className:X(c3(),e),...t}));yu.displayName=QS.displayName;const u3=({onLoginSuccess:e})=>{const[t,r]=f.useState(""),[n,s]=f.useState(""),[o,a]=f.useState(""),[l,c]=f.useState(!1),[u,d]=f.useState(!1),[h,m]=f.useState(!1),[p,v]=f.useState("generate"),[g,b]=f.useState(null),[y,x]=f.useState(""),[w,_]=f.useState(!1),{toast:j}=Ea(),{loginWithPassword:S}=ys(),C=async()=>{if(!t.trim()){j({title:"Erro",description:"Digite seu nome de usuário Habbo primeiro",variant:"destructive"});return}c(!0);try{const{data:R,error:L}=await B.functions.invoke("verify-and-register-via-motto",{body:{habbo_name:t.trim(),action:"generate"}});if(L)throw L;if(R.error)throw new Error(R.error);s(R.verification_code),b(R.habbo_data),x(R.hotel),v("verify"),j({title:"Código Gerado!",description:`Código de verificação: ${R.verification_code}`})}catch(R){console.error("❌ Error generating code:",R),j({title:"Erro",description:R.message||"Erro ao gerar código. Verifique se o usuário Habbo existe.",variant:"destructive"})}finally{c(!1)}},E=async()=>{d(!0);try{const{data:R,error:L}=await B.functions.invoke("verify-and-register-via-motto",{body:{habbo_name:t.trim(),verification_code:n,action:"verify"}});if(L)throw L;if(R.error)throw new Error(R.error);R.verified&&(v("password"),j({title:"Código Verificado!",description:"Agora crie uma senha de 6 caracteres para sua conta."}))}catch(R){console.error("❌ Error verifying code:",R),j({title:"Erro na Verificação",description:R.message||"Código não encontrado na missão. Verifique se colocou o código completo na sua missão no Hotel.",variant:"destructive"})}finally{d(!1)}},P=async()=>{if(o.length!==6){j({title:"Erro",description:"A senha deve ter exatamente 6 caracteres",variant:"destructive"});return}m(!0);try{const{data:R,error:L}=await B.functions.invoke("verify-and-register-via-motto",{body:{habbo_name:t.trim(),verification_code:n,password:o,action:"complete"}});if(L)throw L;if(R.error)throw new Error(R.error);j({title:R.user_created?"Conta Criada!":"Senha Redefinida!",description:`${R.user_created?"Bem-vindo ao Habbo Hub":"Senha atualizada com sucesso"}! Fazendo login...`}),setTimeout(async()=>{try{await S(t.trim(),o),e&&e()}catch(O){console.error("❌ Auto-login error:",O),j({title:"Conta criada com sucesso!",description:"Use a aba 'Por Senha' para fazer login com sua nova senha."})}},1e3)}catch(R){console.error("❌ Error completing registration:",R),j({title:"Erro no Registro",description:R.message||"Erro ao completar o registro. Tente novamente.",variant:"destructive"})}finally{m(!1)}},A=()=>{navigator.clipboard.writeText(n),j({title:"Código Copiado!",description:"O código foi copiado para a área de transferência"})},I=()=>{v("generate"),s(""),a(""),r(""),b(null),x("")};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(yu,{htmlFor:"habboNameMotto",className:"volter-font text-gray-700",children:"Nome de usuário Habbo"}),i.jsx(Kt,{id:"habboNameMotto",type:"text",value:t,onChange:R=>r(R.target.value),placeholder:"Digite seu nome Habbo",className:"mt-1",disabled:p!=="generate"||l})]}),p==="generate"&&i.jsx(ee,{onClick:C,className:"w-full habbo-button-green volter-font",disabled:l||!t.trim(),children:l?i.jsxs(i.Fragment,{children:[i.jsx(Nt,{className:"w-4 h-4 mr-2 animate-spin"}),"Gerando Código..."]}):"Gerar Código de Verificação"}),p==="verify"&&n&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs(ie,{className:"bg-blue-50 border-blue-200",children:[i.jsx(ke,{className:"pb-3",children:i.jsxs(Ce,{className:"text-blue-800 volter-font text-lg flex items-center gap-2",children:[i.jsx(Yv,{className:"w-5 h-5"}),"Código de Verificação"]})}),i.jsxs(he,{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Kt,{value:n,readOnly:!0,className:"font-mono text-lg text-center bg-white border-blue-300"}),i.jsx(ee,{variant:"outline",size:"sm",onClick:A,className:"px-3",children:i.jsx(Mw,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"text-sm text-primary volter-font space-y-2",children:[i.jsx("p",{className:"font-bold",children:"📋 INSTRUÇÕES:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-1 pl-2",children:[i.jsx("li",{children:"Copie o código acima"}),i.jsx("li",{children:"Vá para o Hotel Habbo"}),i.jsxs("li",{children:["Mude seu ",i.jsx("strong",{children:"motto/missão"})," para: ",i.jsx("code",{className:"bg-primary/10 px-1 rounded",children:n})]}),i.jsx("li",{children:'Clique em "Verificar Login" abaixo'})]})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ee,{onClick:E,className:"flex-1 habbo-button-blue volter-font",disabled:u,children:u?i.jsxs(i.Fragment,{children:[i.jsx(Nt,{className:"w-4 h-4 mr-2 animate-spin"}),"Verificando..."]}):"Verificar Login"}),i.jsx(ee,{variant:"outline",onClick:I,disabled:u,children:i.jsx(Js,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"text-xs text-muted-foreground text-center volter-font",children:"💡 O sistema verificará se o código está na sua missão no Hotel"})]}),p==="password"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs(ie,{className:"bg-card border-border",children:[i.jsx(ke,{className:"pb-3",children:i.jsxs(Ce,{className:"text-primary volter-font text-lg flex items-center gap-2",children:[i.jsx(Yv,{className:"w-5 h-5"}),"Criar Senha"]})}),i.jsxs(he,{className:"space-y-3",children:[i.jsxs("div",{className:"text-sm text-primary volter-font space-y-2",children:[i.jsx("p",{children:"✅ Código verificado com sucesso!"}),i.jsxs("p",{children:["Agora crie uma senha de ",i.jsx("strong",{children:"6 caracteres"})," para sua conta:"]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Kt,{type:w?"text":"password",value:o,onChange:R=>a(R.target.value),placeholder:"Digite 6 caracteres",maxLength:6,className:"pr-10"}),i.jsx(ee,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>_(!w),children:w?i.jsx(G2,{className:"w-4 h-4 text-muted-foreground"}):i.jsx(Q2,{className:"w-4 h-4 text-muted-foreground"})})]}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Senha: ",o.length,"/6 caracteres"]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ee,{onClick:P,className:"flex-1 habbo-button-green volter-font",disabled:h||o.length!==6,children:h?i.jsxs(i.Fragment,{children:[i.jsx(Nt,{className:"w-4 h-4 mr-2 animate-spin"}),"Criando Conta..."]}):"Criar Conta & Login"}),i.jsx(ee,{variant:"outline",onClick:I,disabled:h,children:i.jsx(Js,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"text-xs text-muted-foreground text-center volter-font",children:"🏠 Sua Habbo Home será criada automaticamente!"})]})]})},Yx=()=>{const[e,t]=f.useState(""),[r,n]=f.useState(""),[s,o]=f.useState(!1),[a,l]=f.useState("password"),{loginWithPassword:c}=$a(),{toast:u}=Ea(),d=ao(),h=async p=>{if(p.preventDefault(),!e.trim()){u({title:"Erro",description:"Digite seu nome de usuário Habbo",variant:"destructive"});return}if(!r.trim()){u({title:"Erro",description:"Digite sua senha",variant:"destructive"});return}o(!0);try{await c(e.trim(),r.trim()),u({title:"Sucesso!",description:"Login realizado com sucesso!"}),d("/")}catch(v){u({title:"Erro no login",description:v.message||"Erro ao fazer login",variant:"destructive"})}finally{o(!1)}},m=()=>{d("/")};return i.jsx(dt,{children:i.jsxs("div",{className:"min-h-screen flex w-full",children:[i.jsx(yt,{}),i.jsx(ht,{className:"flex-1",children:i.jsx("main",{className:"flex-1 p-8 bg-repeat min-h-screen",style:{backgroundImage:"url(/assets/bghabbohub.png)"},children:i.jsxs("div",{className:"max-w-md mx-auto mt-20",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"flex items-center justify-center mb-4",children:i.jsx("img",{src:"/assets/habbohub.gif",alt:"Habbo Hub",className:"h-16 w-auto",onError:p=>{const v=p.target;v.src="/assets/habbohub.png"}})}),i.jsx("p",{className:"text-lg text-white/90 volter-font drop-shadow",children:"Entre com sua conta Habbo"})]}),i.jsxs(ie,{className:"bg-white/90 backdrop-blur-sm border-2 border-black",children:[i.jsx(ke,{children:i.jsx(Ce,{className:"volter-font text-2xl text-gray-900 text-center",children:"Entrar na Conta"})}),i.jsx(he,{children:i.jsxs(KS,{value:a,onValueChange:l,className:"w-full",children:[i.jsxs(Qp,{className:"grid w-full grid-cols-2",children:[i.jsxs(xu,{value:"password",className:"volter-font flex items-center gap-2",children:[i.jsx(X2,{className:"w-4 h-4"}),"Por Senha"]}),i.jsxs(xu,{value:"motto",className:"volter-font flex items-center gap-2",children:[i.jsx(Ra,{className:"w-4 h-4"}),"Por Motto"]})]}),i.jsxs(dm,{value:"password",className:"mt-4",children:[i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(yu,{htmlFor:"habboName",className:"volter-font text-gray-700",children:"Nome de usuário Habbo"}),i.jsx(Kt,{id:"habboName",type:"text",value:e,onChange:p=>t(p.target.value),placeholder:"Digite seu nome Habbo",className:"mt-1",disabled:s})]}),i.jsxs("div",{children:[i.jsx(yu,{htmlFor:"password",className:"volter-font text-gray-700",children:"Senha"}),i.jsx(Kt,{id:"password",type:"password",value:r,onChange:p=>n(p.target.value),placeholder:"Digite sua senha",className:"mt-1",disabled:s})]}),i.jsx(ee,{type:"submit",className:"w-full habbo-button-blue volter-font",disabled:s,children:s?"Entrando...":"Entrar com Senha"})]}),i.jsx("div",{className:"mt-4 text-center",children:i.jsx("p",{className:"text-sm text-gray-600 volter-font",children:"Use suas credenciais Habbo para fazer login."})})]}),i.jsxs(dm,{value:"motto",className:"mt-4",children:[i.jsx(u3,{onLoginSuccess:m}),i.jsx("div",{className:"mt-4 text-center",children:i.jsx("p",{className:"text-sm text-muted-foreground volter-font",children:"Login seguro via verificação de motto no Hotel. Para novos usuários."})})]})]})})]})]})})})]})})},d3=()=>i.jsx(dt,{children:i.jsxs("div",{className:"min-h-screen flex w-full",children:[i.jsx(yt,{}),i.jsx(ht,{className:"flex-1",children:i.jsx("main",{className:"flex-1 p-8 bg-repeat min-h-screen",style:{backgroundImage:"url(/assets/bghabbohub.png)"},children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx(tP,{className:"w-8 h-8 text-white"}),i.jsx("h1",{className:"text-4xl font-bold text-white volter-font",style:{textShadow:"2px 2px 0px black, -2px -2px 0px black, 2px -2px 0px black, -2px 2px 0px black"},children:"📰 Notícias"})]}),i.jsx("p",{className:"text-lg text-white/90 volter-font drop-shadow",children:"Fique por dentro das últimas novidades do HabboHub"})]}),i.jsxs(ie,{className:"p-8 text-center bg-white/90 backdrop-blur-sm border-2 border-black",children:[i.jsx(ke,{children:i.jsx(Ce,{className:"volter-font text-2xl text-gray-900",children:"Em breve..."})}),i.jsx(he,{children:i.jsx("p",{className:"text-gray-600 volter-font",children:"Esta seção estará disponível em breve com as últimas notícias da comunidade Habbo."})})]})]})})})]})}),h3=()=>i.jsx(dt,{children:i.jsxs("div",{className:"min-h-screen flex w-full",children:[i.jsx(yt,{}),i.jsx(ht,{className:"flex-1",children:i.jsx("main",{className:"flex-1 p-8 bg-repeat min-h-screen",style:{backgroundImage:"url(/assets/bghabbohub.png)"},children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx(Aa,{className:"w-8 h-8 text-white"}),i.jsx("h1",{className:"text-4xl font-bold text-white volter-font",style:{textShadow:"2px 2px 0px black, -2px -2px 0px black, 2px -2px 0px black, -2px 2px 0px black"},children:"⭐ Emblemas"})]}),i.jsx("p",{className:"text-lg text-white/90 volter-font drop-shadow",children:"Descubra e colecione emblemas exclusivos da comunidade"})]}),i.jsxs(ie,{className:"p-8 text-center bg-white/90 backdrop-blur-sm border-2 border-black",children:[i.jsx(ke,{children:i.jsx(Ce,{className:"volter-font text-2xl text-gray-900",children:"Em desenvolvimento..."})}),i.jsx(he,{children:i.jsx("p",{className:"text-gray-600 volter-font",children:"Sistema de emblemas em desenvolvimento. Em breve você poderá colecionar emblemas exclusivos!"})})]})]})})})]})}),f3=()=>i.jsx(dt,{children:i.jsxs("div",{className:"min-h-screen flex w-full",children:[i.jsx(yt,{}),i.jsx(ht,{className:"flex-1",children:i.jsx("main",{className:"flex-1 p-8 bg-repeat min-h-screen",style:{backgroundImage:"url(/assets/bghabbohub.png)"},children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx(sP,{className:"w-8 h-8 text-white"}),i.jsx("h1",{className:"text-4xl font-bold text-white volter-font",style:{textShadow:"2px 2px 0px black, -2px -2px 0px black, 2px -2px 0px black, -2px 2px 0px black"},children:"🛍️ Catálogo"})]}),i.jsx("p",{className:"text-lg text-white/90 volter-font drop-shadow",children:"Explore itens e mobílias para sua Habbo Home"})]}),i.jsxs(ie,{className:"p-8 text-center bg-white/90 backdrop-blur-sm border-2 border-black",children:[i.jsx(ke,{children:i.jsx(Ce,{className:"volter-font text-2xl text-gray-900",children:"Em construção..."})}),i.jsx(he,{children:i.jsx("p",{className:"text-gray-600 volter-font",children:"Catálogo de itens em desenvolvimento. Em breve você poderá explorar diversos itens!"})})]})]})})})]})}),Xx=()=>{const e=ao(),t=()=>{e("/ferramentas/handitems")};return i.jsx(dt,{children:i.jsxs("div",{className:"min-h-screen flex w-full",children:[i.jsx(yt,{}),i.jsx(ht,{className:"flex-1",children:i.jsx("main",{className:"flex-1 p-8 bg-repeat min-h-screen",style:{backgroundImage:"url(/assets/bghabbohub.png)"},children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx(Fw,{className:"w-8 h-8 text-white"}),i.jsx("h1",{className:"text-4xl font-bold text-white volter-font",style:{textShadow:"2px 2px 0px black, -2px -2px 0px black, 2px -2px 0px black, -2px 2px 0px black"},children:"🔧 Ferramentas"})]}),i.jsx("p",{className:"text-lg text-white/90 volter-font drop-shadow",children:"Ferramentas úteis para a comunidade Habbo"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs(ie,{className:"p-6 bg-white/90 backdrop-blur-sm border-2 border-black hover:shadow-lg transition-all cursor-pointer group",onClick:t,children:[i.jsxs(ke,{className:"text-center pb-4",children:[i.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-primary/20 transition-colors",children:i.jsx("span",{className:"text-3xl",children:"🤲"})}),i.jsx(Ce,{className:"volter-font text-xl text-gray-900",children:"Catálogo de Handitems"})]}),i.jsxs(he,{className:"text-center",children:[i.jsx("p",{className:"text-gray-600 volter-font mb-4",children:"Explore todos os itens de mão que os mobis entregam no hotel! Busque, filtre e copie IDs facilmente."}),i.jsxs("div",{className:"flex flex-wrap gap-2 justify-center mb-4",children:[i.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded volter-font",children:"Busca Avançada"}),i.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded volter-font",children:"Preview Avatar"}),i.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded volter-font",children:"Copy ID"})]})]})]}),i.jsxs(ie,{className:"p-6 bg-white/60 backdrop-blur-sm border-2 border-dashed border-gray-300",children:[i.jsxs(ke,{className:"text-center pb-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-3xl",children:"🔧"})}),i.jsx(Ce,{className:"volter-font text-xl text-gray-500",children:"Em Breve"})]}),i.jsx(he,{className:"text-center",children:i.jsx("p",{className:"text-gray-400 volter-font",children:"Mais ferramentas úteis para a comunidade Habbo em desenvolvimento..."})})]}),i.jsxs(ie,{className:"p-6 bg-white/60 backdrop-blur-sm border-2 border-dashed border-gray-300",children:[i.jsxs(ke,{className:"text-center pb-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-3xl",children:"⚡"})}),i.jsx(Ce,{className:"volter-font text-xl text-gray-500",children:"Próximamente"})]}),i.jsx(he,{className:"text-center",children:i.jsx("p",{className:"text-gray-400 volter-font",children:"Aguarde novidades e funcionalidades incríveis!"})})]})]})]})})})]})})},bu={Todos:{label:"Todos",icon:Dw,subCategories:[]},Alimentos:{label:"Alimentos",icon:cP,subCategories:["Vegetais","Frutas","Laticínios","Carnes","Pães","Nozes","Salgados","Frutos do Mar"]},Bebidas:{label:"Bebidas",icon:K2,subCategories:["Suco","Chá","Energéticos","Alcoólicas","Milkshakes","Refrigerantes","Água","Sopas","Laticínios"]},Doces:{label:"Doces",icon:W2,subCategories:["Sorvetes","Gomas","Chicletes","Pirulitos","Algodão Doce"]},Utensílios:{label:"Utensílios",icon:Fw,subCategories:["Ferramentas","Escritório","Saúde"]},Eletrônicos:{label:"Eletrônicos",icon:oP,subCategories:["Tablets","Celulares","Diversos"]},Outros:{label:"Outros",icon:Y2,subCategories:["Plantas e Flores","Animais","Diversos"]}},m3=[{name:"Frigobar",furniId:"bar_polyfon",imageUrl:"https://content.puhekupla.com/img/furni/48082/bar_polyfon.png",iconUrl:"https://images.habbo.com/dcr/hof_furni/48082/bar_polyfon_icon.png",function:"Segurar e Beber",handitems:[{name:"Suco",webId:6,inGameId:2,iconUrl:"https://i.imgur.com/1BGBH0d.png",categoryType:"Bebidas - Suco"},{name:"Chá Árabe",webId:6,inGameId:27,iconUrl:"https://i.imgur.com/1BGBH0d.png",categoryType:"Bebidas - Chá"}]},{name:"Freezer",furniId:"ktchn_fridge",imageUrl:"https://content.puhekupla.com/img/furni/48082/ktchn_fridge.png",iconUrl:"https://images.habbo.com/dcr/hof_furni/48082/ktchn_fridge_icon.png",function:"Segurar e Beber",handitems:[{name:"Cenoura",webId:2,inGameId:3,iconUrl:"https://i.imgur.com/IGVknDZ.png",categoryType:"Alimentos - Vegetais"},{name:"Pêra",webId:50,inGameId:36,iconUrl:"https://i.imgur.com/0u2ZtNJ.png",categoryType:"Alimentos - Frutas"},{name:"Pêssego Suculento",webId:51,inGameId:37,iconUrl:"https://i.imgur.com/VStOTCZ.png",categoryType:"Alimentos - Frutas"},{name:"Laranja",webId:52,inGameId:38,iconUrl:"https://i.imgur.com/pDRtHvO.png",categoryType:"Alimentos - Frutas"},{name:"Fatia de Queijo",webId:53,inGameId:39,iconUrl:"https://i.imgur.com/AkWndvc.png",categoryType:"Alimentos - Laticínios"}]},{name:"Pia",furniId:"sink",imageUrl:"https://content.puhekupla.com/img/furni/48082/sink.png",iconUrl:"https://images.habbo.com/dcr/hof_furni/48082/sink_icon.png",function:"Segurar e Beber",handitems:[{name:"Água da Torneira",webId:1,inGameId:18,iconUrl:"https://i.imgur.com/Cfa2xdt.png",categoryType:"Bebidas - Água"}]},{name:"Estante de Laboratório",furniId:"hween_c18_medicineshelf",imageUrl:"https://content.puhekupla.com/img/furni/64483/hween_c18_medicineshelf.png",iconUrl:"https://images.habbo.com/dcr/hof_furni/64483/hween_c18_medicineshelf_icon.png",function:"Segurar e Beber",handitems:[{name:"Suco Bubblejuice",webId:5,inGameId:19,iconUrl:"https://i.imgur.com/sMTSwiG.png",categoryType:"Bebidas - Suco"},{name:"Seringa",webId:90,inGameId:1014,iconUrl:"https://i.imgur.com/u8R1Arz.png",categoryType:"Utensílios - Saúde"},{name:"Energético Astrobar",webId:56,inGameId:44,iconUrl:"https://i.imgur.com/2xypAeW.png",categoryType:"Bebidas - Energéticos"}]},{name:"Quiosque Tiki Baladeiro",furniId:"xmas14_tikibar",imageUrl:"https://content.puhekupla.com/img/furni/56170/xmas14_tikibar.png",iconUrl:"https://images.habbo.com/dcr/hof_furni/56170/xmas14_tikibar_icon.png",function:"Segurar e Beber",handitems:[{name:"Espumante Rosa",webId:45,inGameId:31,iconUrl:"https://i.imgur.com/xzQi9tn.png",categoryType:"Bebidas - Alcoólicas"}]},{name:"Geladeira Bling HC",furniId:"hc17_11",imageUrl:"https://content.puhekupla.com/img/furni/63905/hc17_11.png",iconUrl:"https://images.habbo.com/dcr/hof_furni/63905/hc17_11_icon.png",function:"Segurar e Beber",handitems:[{name:"Champanhe",webId:47,inGameId:35,iconUrl:"https://i.imgur.com/4qHA9BV.png",categoryType:"Bebidas - Alcoólicas"}]},{name:"Máquina de Café",furniId:"mall_r17_coffeem",imageUrl:"https://content.puhekupla.com/img/furni/63018/mall_r17_coffeem.png",iconUrl:"https://images.habbo.com/dcr/hof_furni/63018/mall_r17_coffeem_icon.png",function:"Segurar e Beber",handitems:[{name:"Café Expresso",webId:3,inGameId:4,iconUrl:"https://i.imgur.com/z8p3fGH.png",categoryType:"Bebidas - Café"}]}],p3=e=>{if(!e)return"Outros";for(const t in bu){if(t==="Todos")continue;if(bu[t].subCategories.some(n=>e.includes(n)))return t}return"Outros"},g3=e=>{if(!e)return"Diversos";const t=e.split(" - ");return t.length>1?t[1]:e},v3=(e,t,r="m")=>{const o="nrm",a=t&&t!==0?`crr=${t}`:"";return`https://www.habbo.com.br/habbo-imaging/avatarimage?user=${e}&direction=2&head_direction=2&action=${a}&gesture=${o}&size=${r}`},x3=()=>{const[e,t]=f.useState(""),[r,n]=f.useState("Todos"),[s,o]=f.useState("Todos"),[a,l]=f.useState(null),[c,u]=f.useState(null),{toast:d}=Ea(),{habboAccount:h}=ys(),m=(h==null?void 0:h.habbo_name)||"Beebop",p=f.useMemo(()=>m3.filter(x=>{const w=x.name.toLowerCase(),_=x.handitems.map(E=>E.name.toLowerCase()).join(" "),j=w.includes(e.toLowerCase())||_.includes(e.toLowerCase());let S=!0;r!=="Todos"&&(S=x.handitems.some(E=>p3(E.categoryType)===r));let C=!0;return s!=="Todos"&&(C=x.handitems.some(E=>g3(E.categoryType)===s)),j&&S&&C}),[e,r,s]),v=f.useMemo(()=>r==="Todos"?[]:bu[r].subCategories,[r]),g=f.useCallback(x=>{navigator.clipboard.writeText(x.inGameId.toString()),u(x),d({title:"ID Copiado!",description:`ID ${x.inGameId} do item "${x.name}" foi copiado.`})},[d]),b=f.useCallback(x=>{n(x),o("Todos")},[]),y=f.useMemo(()=>v3(m,(c==null?void 0:c.inGameId)||null),[m,c]);return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ie,{className:"bg-card border-border",children:i.jsxs(ke,{children:[i.jsx(Ce,{className:"volter-font text-2xl text-primary",children:"🤲 Catálogo de Handitems Habbo"}),i.jsx("p",{className:"text-muted-foreground volter-font",children:"Explore todos os itens de mão que os mobis entregam no hotel!"})]})}),i.jsx(ie,{className:"bg-card border-border",children:i.jsxs(he,{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),i.jsx(Kt,{placeholder:"Buscar mobi ou item de mão...",value:e,onChange:x=>t(x.target.value),className:"pl-10"})]}),i.jsx(KS,{value:r,onValueChange:b,children:i.jsx(Qp,{className:"grid grid-cols-7 w-full",children:Object.entries(bu).map(([x,w])=>{const _=w.icon;return i.jsxs(xu,{value:x,className:"flex items-center gap-1 text-xs volter-font",children:[i.jsx(_,{className:"w-3 h-3"}),w.label]},x)})})}),v.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(lr,{variant:s==="Todos"?"default":"outline",className:"cursor-pointer volter-font",onClick:()=>o("Todos"),children:"Todos"}),v.map(x=>i.jsx(lr,{variant:s===x?"default":"outline",className:"cursor-pointer volter-font",onClick:()=>o(x),children:x},x))]})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:p.map(x=>i.jsx(ie,{className:"bg-card border-border hover:shadow-lg transition-all cursor-pointer group",onClick:()=>l(x),children:i.jsxs(he,{className:"p-4",children:[i.jsxs("div",{className:"aspect-square relative mb-3 bg-muted rounded-lg overflow-hidden",children:[i.jsx("img",{src:x.imageUrl,alt:x.name,className:"w-full h-full object-contain group-hover:scale-105 transition-transform",onError:w=>{w.currentTarget.src="https://placehold.co/150x150/e0e0e0/333333?text=Mobi"}}),i.jsx("div",{className:"absolute top-2 right-2 w-8 h-8 bg-background rounded-full border border-border flex items-center justify-center",children:i.jsx("img",{src:x.iconUrl,alt:"Ícone",className:"w-5 h-5",onError:w=>{w.currentTarget.src="https://i.imgur.com/8DdHXoN.png"}})})]}),i.jsx("h3",{className:"volter-font font-bold text-sm mb-1",children:x.name}),i.jsx("p",{className:"text-xs text-muted-foreground volter-font mb-2",children:x.function}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[x.handitems.slice(0,6).map((w,_)=>i.jsx("img",{src:w.iconUrl,alt:w.name,title:w.name,className:"w-5 h-5 border border-border rounded",onError:j=>{j.currentTarget.src="https://placehold.co/20x20/cccccc/ffffff?text=?"}},_)),x.handitems.length>6&&i.jsxs("div",{className:"w-5 h-5 bg-muted border border-border rounded flex items-center justify-center text-xs volter-font",children:["+",x.handitems.length-6]})]})]})},x.furniId))}),p.length===0&&i.jsx(ie,{className:"bg-card border-border",children:i.jsxs(he,{className:"p-8 text-center",children:[i.jsx(Dw,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"volter-font text-lg font-bold text-muted-foreground mb-2",children:"Nenhum mobi encontrado"}),i.jsx("p",{className:"text-muted-foreground volter-font",children:"Tente ajustar os filtros ou termos de busca"})]})}),i.jsx(Vr,{open:!!a,onOpenChange:()=>l(null),children:i.jsxs(Er,{className:"max-w-4xl max-h-[90vh] overflow-hidden",children:[i.jsx(qr,{children:i.jsxs(Kr,{className:"volter-font text-xl",children:[a==null?void 0:a.name," - ",a==null?void 0:a.function]})}),a&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"aspect-square bg-muted rounded-lg overflow-hidden",children:i.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-full h-full object-contain"})}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsxs("h4",{className:"volter-font font-bold",children:["Avatar Preview (",m,")"]}),i.jsx("div",{className:"w-32 h-40 mx-auto bg-muted rounded-lg overflow-hidden",children:i.jsx("img",{src:y,alt:"Avatar com handitem",className:"w-full h-full object-contain"})}),c&&i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("img",{src:c.iconUrl,alt:c.name,className:"w-6 h-6"}),i.jsx("span",{className:"text-sm volter-font",children:c.name})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"volter-font font-bold text-lg",children:"Itens de Mão Entregues:"}),i.jsx(Sn,{className:"h-80",children:i.jsx("div",{className:"space-y-2",children:a.handitems.map(x=>i.jsx(ie,{className:"p-3 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>g(x),children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:x.iconUrl,alt:x.name,className:"w-8 h-8 border border-border rounded",onError:w=>{w.currentTarget.src="https://placehold.co/32x32/cccccc/ffffff?text=?"}}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h5",{className:"volter-font font-bold text-sm",children:x.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",x.inGameId," • ",x.categoryType]})]}),i.jsx(Mw,{className:"w-4 h-4 text-muted-foreground"})]})},x.inGameId))})}),i.jsx("p",{className:"text-xs text-muted-foreground text-center volter-font",children:"💡 Clique em qualquer item para copiar seu ID e ver no avatar"})]})]})]})})]})},y3=()=>i.jsx(dt,{children:i.jsxs("div",{className:"min-h-screen flex w-full",children:[i.jsx(yt,{}),i.jsx(ht,{className:"flex-1",children:i.jsx("main",{className:"flex-1 p-8 bg-repeat min-h-screen",style:{backgroundImage:"url(/assets/bghabbohub.png)"},children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsx(x3,{})})})})]})}),b3=()=>i.jsx(dt,{children:i.jsxs("div",{className:"min-h-screen flex w-full",children:[i.jsx(yt,{}),i.jsx(ht,{className:"flex-1",children:i.jsx("main",{className:"flex-1 p-8 bg-repeat min-h-screen",style:{backgroundImage:"url(/assets/bghabbohub.png)"},children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx(Aw,{className:"w-8 h-8 text-white"}),i.jsx("h1",{className:"text-4xl font-bold text-white volter-font",style:{textShadow:"2px 2px 0px black, -2px -2px 0px black, 2px -2px 0px black, -2px 2px 0px black"},children:"🎉 Eventos"})]}),i.jsx("p",{className:"text-lg text-white/90 volter-font drop-shadow",children:"Participe dos eventos mais incríveis da comunidade"})]}),i.jsxs(ie,{className:"p-8 text-center bg-white/90 backdrop-blur-sm border-2 border-black",children:[i.jsx(ke,{children:i.jsx(Ce,{className:"volter-font text-2xl text-gray-900",children:"Aguarde novidades..."})}),i.jsx(he,{children:i.jsx("p",{className:"text-gray-600 volter-font",children:"Sistema de eventos será lançado em breve. Fique atento aos próximos eventos da comunidade!"})})]})]})})})]})}),w3=()=>i.jsx(dt,{children:i.jsxs("div",{className:"min-h-screen flex w-full",children:[i.jsx(yt,{}),i.jsx(ht,{className:"flex-1",children:i.jsx("main",{className:"flex-1 p-8 bg-repeat min-h-screen",style:{backgroundImage:"url(/assets/bghabbohub.png)"},children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx(aP,{className:"w-8 h-8 text-white"}),i.jsx("h1",{className:"text-4xl font-bold text-white volter-font",style:{textShadow:"2px 2px 0px black, -2px -2px 0px black, 2px -2px 0px black, -2px 2px 0px black"},children:"💎 Mercado"})]}),i.jsx("p",{className:"text-lg text-white/90 volter-font drop-shadow",children:"Compre e venda itens com outros jogadores"})]}),i.jsxs(ie,{className:"p-8 text-center bg-white/90 backdrop-blur-sm border-2 border-black",children:[i.jsx(ke,{children:i.jsx(Ce,{className:"volter-font text-2xl text-gray-900",children:"Marketplace em desenvolvimento..."})}),i.jsx(he,{children:i.jsx("p",{className:"text-gray-600 volter-font",children:"Sistema de mercado em desenvolvimento. Em breve você poderá negociar itens com outros jogadores!"})})]})]})})})]})}),Jx=()=>{const{username:e}=Db(),{habboAccount:t}=dd(),r=e||(t==null?void 0:t.habbo_name)||"Usuário";return i.jsx(dt,{children:i.jsxs("div",{className:"min-h-screen flex w-full",children:[i.jsx(yt,{}),i.jsx(ht,{className:"flex-1",children:i.jsx("main",{className:"flex-1 p-8 bg-repeat min-h-screen",style:{backgroundImage:"url(/assets/bghabbohub.png)"},children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx(Zs,{className:"w-8 h-8 text-white"}),i.jsxs("h1",{className:"text-4xl font-bold text-white volter-font",style:{textShadow:"2px 2px 0px black, -2px -2px 0px black, 2px -2px 0px black, -2px 2px 0px black"},children:["👤 Perfil de ",r]})]}),i.jsx("p",{className:"text-lg text-white/90 volter-font drop-shadow",children:"Visualizando informações do perfil"})]}),i.jsxs(ie,{className:"p-8 text-center bg-white/90 backdrop-blur-sm border-2 border-black",children:[i.jsx(ke,{children:i.jsx(Ce,{className:"volter-font text-2xl text-gray-900",children:"Perfil em desenvolvimento..."})}),i.jsx(he,{children:i.jsx("p",{className:"text-gray-600 volter-font",children:"Sistema de perfis em desenvolvimento. Em breve você poderá ver informações detalhadas dos usuários!"})})]})]})})})]})})},_3=()=>i.jsx(dt,{children:i.jsxs("div",{className:"min-h-screen flex w-full",children:[i.jsx(yt,{}),i.jsx(ht,{className:"flex-1",children:i.jsx("main",{className:"flex-1 p-8 bg-repeat min-h-screen",style:{backgroundImage:"url(/assets/bghabbohub.png)"},children:i.jsxs("div",{className:"max-w-2xl mx-auto mt-20",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx(iP,{className:"w-8 h-8 text-white"}),i.jsx("h1",{className:"text-4xl font-bold text-white volter-font",style:{textShadow:"2px 2px 0px black, -2px -2px 0px black, 2px -2px 0px black, -2px 2px 0px black"},children:"404 - Página não encontrada"})]}),i.jsx("p",{className:"text-lg text-white/90 volter-font drop-shadow",children:"Ops! A página que você procura não existe."})]}),i.jsxs(ie,{className:"p-8 text-center bg-white/90 backdrop-blur-sm border-2 border-black",children:[i.jsx(ke,{children:i.jsx(Ce,{className:"volter-font text-2xl text-gray-900",children:"🏠 Perdido?"})}),i.jsxs(he,{className:"space-y-4",children:[i.jsx("p",{className:"text-gray-600 volter-font",children:"A página que você está procurando não foi encontrada. Que tal voltar para o início?"}),i.jsx(ln,{to:"/",children:i.jsx(ee,{className:"habbo-button-blue volter-font",children:"Voltar ao Início"})})]})]})]})})})]})}),S3=()=>{const[e,t]=f.useState(!1),[r,n]=f.useState(null);return{trackUserActivities:f.useCallback(async(o,a,l="br")=>{if(!o||!a)return n("Nome e ID do Habbo são obrigatórios"),!1;t(!0),n(null);try{console.log(`[📊 TRACKER] Iniciando rastreamento de atividades para ${o}`);const{data:c,error:u}=await B.functions.invoke("habbo-daily-activities-tracker",{body:{user_habbo_name:o,user_habbo_id:a,hotel:l}});return u?(console.error("[📊 TRACKER] Erro na função:",u),n(`Erro no rastreamento: ${u.message}`),!1):(console.log("[📊 TRACKER] Resultado:",c),c!=null&&c.success?(console.log(`[📊 TRACKER] ✅ Sucesso! ${c.processed} amigos processados, ${c.activities_detected} atividades detectadas`),!0):(n((c==null?void 0:c.error)||"Erro desconhecido no rastreamento"),!1))}catch(c){return console.error("[📊 TRACKER] Erro geral:",c),n(c.message),!1}finally{t(!1)}},[]),isTracking:e,error:r,clearError:()=>n(null)}},j3=()=>{const{habboAccount:e,isLoggedIn:t}=ys(),{trackUserActivities:r}=S3();f.useEffect(()=>{if(!t||!e)return;(async()=>{try{console.log("[🚀 ACTIVITIES INIT] Initializing daily activities tracker..."),await new Promise(s=>setTimeout(s,2e3)),await r(e.habbo_name,e.habbo_id,e.hotel),console.log("[🚀 ACTIVITIES INIT] ✅ Daily activities initialized successfully")}catch(s){console.error("[🚀 ACTIVITIES INIT] ❌ Error initializing activities:",s)}})()},[t,e,r])},N3=new CE,k3=XC([{path:"/",element:i.jsx(mL,{})},{path:"/console",element:i.jsx(QD,{})},{path:"/console-popup",element:i.jsx(YD,{})},{path:"/login",element:i.jsx(Yx,{})},{path:"/connect-habbo",element:i.jsx(Yx,{})},{path:"/homes",element:i.jsx(vL,{})},{path:"/homes/:username",element:i.jsx(Wx,{})},{path:"/enhanced-home/:username",element:i.jsx(Wx,{})},{path:"/noticias",element:i.jsx(d3,{})},{path:"/emblemas",element:i.jsx(h3,{})},{path:"/catalogo",element:i.jsx(f3,{})},{path:"/ferramentas",element:i.jsx(Xx,{})},{path:"/ferramentas/handitems",element:i.jsx(y3,{})},{path:"/tools",element:i.jsx(Xx,{})},{path:"/eventos",element:i.jsx(b3,{})},{path:"/mercado",element:i.jsx(w3,{})},{path:"/profile/:username",element:i.jsx(Jx,{})},{path:"/profile",element:i.jsx(Jx,{})},{path:"*",element:i.jsx(_3,{})}]),C3=()=>(j3(),i.jsxs(i.Fragment,{children:[i.jsx(aE,{router:k3}),i.jsx(KP,{})]}));Nh.createRoot(document.getElementById("root")).render(i.jsx(ye.StrictMode,{children:i.jsx(AE,{client:N3,children:i.jsx(uA,{children:i.jsx(C3,{})})})}));

