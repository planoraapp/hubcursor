<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de AÃ§Ãµes - Habbo Imaging</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-container { margin: 20px 0; }
        .avatar-test { margin: 10px 0; }
        img { border: 2px solid #ccc; margin: 5px; }
        .url { font-family: monospace; font-size: 12px; color: #666; word-break: break-all; }
        button { margin: 5px; padding: 10px; }
    </style>
</head>
<body>
    <h1>ðŸ§ª Teste de AÃ§Ãµes - Habbo Imaging API</h1>
    
    <div class="test-container">
        <h2>ðŸŽ­ Teste de AÃ§Ãµes Individuais</h2>
        <button onclick="testAction('')">Nada</button>
        <button onclick="testAction('wlk')">Andando</button>
        <button onclick="testAction('sit')">Sentado</button>
        <button onclick="testAction('wav')">Acenando</button>
        <button onclick="testAction('lay')">Deitado</button>
        <button onclick="testAction('crr')">Carregando</button>
        <button onclick="testAction('drk')">Bebendo</button>
    </div>

    <div class="test-container">
        <h2>ðŸ¤² Teste de AÃ§Ãµes com Itens</h2>
        <button onclick="testActionWithItem('crr', '3')">Segurando Sorvete</button>
        <button onclick="testActionWithItem('sit,crr', '3')">Sentado + Sorvete</button>
        <button onclick="testActionWithItem('wlk,crr', '3')">Andando + Sorvete</button>
    </div>

    <div class="test-container">
        <h2>ðŸ”„ Teste de MÃºltiplas AÃ§Ãµes</h2>
        <button onclick="testMultipleActions(['sit', 'wav'])">Sentado + Acenando</button>
        <button onclick="testMultipleActions(['sit', 'wlk'])">Sentado + Andando</button>
        <button onclick="testMultipleActions(['lay', 'wav'])">Deitado + Acenando</button>
    </div>

    <div id="results"></div>

    <script>
        const baseFigure = 'hr-100-7-.hd-190-7-.ch-210-66-.lg-270-82-.sh-290-80-';
        const baseUrl = 'https://www.habbo.com/habbo-imaging/avatarimage';
        
        function testAction(action) {
            const params = new URLSearchParams({
                figure: baseFigure,
                gender: 'M',
                direction: '2',
                head_direction: '2',
                action: action,
                gesture: 'nrm',
                size: 'l'
            });
            
            const url = `${baseUrl}?${params.toString()}`;
            displayResult(`AÃ§Ã£o: ${action || 'Nenhuma'}`, url);
        }
        
        function testActionWithItem(action, itemId) {
            let actionParam;
            if (action.includes('crr')) {
                actionParam = action.replace('crr', `crr=${itemId}`);
            } else {
                actionParam = `${action},crr=${itemId}`;
            }
            
            const params = new URLSearchParams({
                figure: baseFigure,
                gender: 'M',
                direction: '2',
                head_direction: '2',
                action: actionParam,
                gesture: 'nrm',
                size: 'l'
            });
            
            const url = `${baseUrl}?${params.toString()}`;
            displayResult(`AÃ§Ã£o: ${action} + Item: ${itemId}`, url);
        }
        
        function testMultipleActions(actions) {
            const actionParam = actions.join(',');
            
            const params = new URLSearchParams({
                figure: baseFigure,
                gender: 'M',
                direction: '2',
                head_direction: '2',
                action: actionParam,
                gesture: 'nrm',
                size: 'l'
            });
            
            const url = `${baseUrl}?${params.toString()}`;
            displayResult(`MÃºltiplas aÃ§Ãµes: ${actions.join(', ')}`, url);
        }
        
        function displayResult(title, url) {
            const resultsDiv = document.getElementById('results');
            const testDiv = document.createElement('div');
            testDiv.className = 'avatar-test';
            testDiv.innerHTML = `
                <h3>${title}</h3>
                <img src="${url}" alt="${title}" onerror="this.style.border='2px solid red'; this.alt='ERRO: Imagem nÃ£o carregou'">
                <div class="url">${url}</div>
                <hr>
            `;
            resultsDiv.appendChild(testDiv);
        }
    </script>
</body>
</html>
